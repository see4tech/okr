var Nh=t=>{throw TypeError(t)};var Zl=(t,e,r)=>e.has(t)||Nh("Cannot "+r);var _=(t,e,r)=>(Zl(t,e,"read from private field"),r?r.call(t):e.get(t)),ee=(t,e,r)=>e.has(t)?Nh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),F=(t,e,r,n)=>(Zl(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),le=(t,e,r)=>(Zl(t,e,"access private method"),r);var Ga=(t,e,r,n)=>({set _(s){F(t,e,s,r)},get _(){return _(t,e,n)}});function Fv(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var km={exports:{}},bl={},Sm={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),qv=Symbol.for("react.portal"),Bv=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),zv=Symbol.for("react.profiler"),Wv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Gv=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),Rh=Symbol.iterator;function Jv(t){return t===null||typeof t!="object"?null:(t=Rh&&t[Rh]||t["@@iterator"],typeof t=="function"?t:null)}var Em={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jm=Object.assign,Cm={};function ki(t,e,r){this.props=t,this.context=e,this.refs=Cm,this.updater=r||Em}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tm(){}Tm.prototype=ki.prototype;function ud(t,e,r){this.props=t,this.context=e,this.refs=Cm,this.updater=r||Em}var cd=ud.prototype=new Tm;cd.constructor=ud;jm(cd,ki.prototype);cd.isPureReactComponent=!0;var Ph=Array.isArray,Om=Object.prototype.hasOwnProperty,dd={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Rm(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Om.call(e,n)&&!Nm.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ba,type:t,key:i,ref:a,props:s,_owner:dd.current}}function Yv(t,e){return{$$typeof:Ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ba}function Xv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ah=/\/+/g;function Jl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xv(""+t.key):e.toString(36)}function So(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ba:case qv:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Jl(a,0):n,Ph(s)?(r="",t!=null&&(r=t.replace(Ah,"$&/")+"/"),So(s,e,r,"",function(u){return u})):s!=null&&(hd(s)&&(s=Yv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ah,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Ph(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Jl(i,o);a+=So(i,e,r,l,s)}else if(l=Jv(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Jl(i,o++),a+=So(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Za(t,e,r){if(t==null)return t;var n=[],s=0;return So(t,n,"","",function(i){return e.call(r,i,s++)}),n}function e0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},Eo={transition:null},t0={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:dd};function Pm(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Za,forEach:function(t,e,r){Za(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Za(t,function(){e++}),e},toArray:function(t){return Za(t,function(e){return e})||[]},only:function(t){if(!hd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=ki;de.Fragment=Bv;de.Profiler=zv;de.PureComponent=ud;de.StrictMode=Vv;de.Suspense=Qv;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;de.act=Pm;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jm({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=dd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Om.call(e,l)&&!Nm.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ba,type:t.type,key:s,ref:i,props:n,_owner:a}};de.createContext=function(t){return t={$$typeof:Kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wv,_context:t},t.Consumer=t};de.createElement=Rm;de.createFactory=function(t){var e=Rm.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Hv,render:t}};de.isValidElement=hd;de.lazy=function(t){return{$$typeof:Zv,_payload:{_status:-1,_result:t},_init:e0}};de.memo=function(t,e){return{$$typeof:Gv,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Eo.transition;Eo.transition={};try{t()}finally{Eo.transition=e}};de.unstable_act=Pm;de.useCallback=function(t,e){return _t.current.useCallback(t,e)};de.useContext=function(t){return _t.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};de.useEffect=function(t,e){return _t.current.useEffect(t,e)};de.useId=function(){return _t.current.useId()};de.useImperativeHandle=function(t,e,r){return _t.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return _t.current.useMemo(t,e)};de.useReducer=function(t,e,r){return _t.current.useReducer(t,e,r)};de.useRef=function(t){return _t.current.useRef(t)};de.useState=function(t){return _t.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return _t.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return _t.current.useTransition()};de.version="18.3.1";Sm.exports=de;var T=Sm.exports;const ut=Mv(T),r0=Fv({__proto__:null,default:ut},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=T,s0=Symbol.for("react.element"),i0=Symbol.for("react.fragment"),a0=Object.prototype.hasOwnProperty,o0=n0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l0={key:!0,ref:!0,__self:!0,__source:!0};function Am(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)a0.call(e,n)&&!l0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:s0,type:t,key:i,ref:a,props:s,_owner:o0.current}}bl.Fragment=i0;bl.jsx=Am;bl.jsxs=Am;km.exports=bl;var c=km.exports,Im={exports:{}},Mt={},Lm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var re=$.length;$.push(Z);e:for(;0<re;){var Se=re-1>>>1,A=$[Se];if(0<s(A,Z))$[Se]=Z,$[re]=A,re=Se;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var Z=$[0],re=$.pop();if(re!==Z){$[0]=re;e:for(var Se=0,A=$.length,ie=A>>>1;Se<ie;){var ge=2*(Se+1)-1,ft=$[ge],$e=ge+1,bt=$[$e];if(0>s(ft,re))$e<A&&0>s(bt,ft)?($[Se]=bt,$[$e]=re,Se=$e):($[Se]=ft,$[ge]=re,Se=ge);else if($e<A&&0>s(bt,re))$[Se]=bt,$[$e]=re,Se=$e;else break e}}return Z}function s($,Z){var re=$.sortIndex-Z.sortIndex;return re!==0?re:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,p=3,f=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=$)n(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(u)}}function b($){if(v=!1,y($),!w)if(r(l)!==null)w=!0,be(O);else{var Z=r(u);Z!==null&&ke(b,Z.startTime-$)}}function O($,Z){w=!1,v&&(v=!1,g(P),P=-1),f=!0;var re=p;try{for(y(Z),h=r(l);h!==null&&(!(h.expirationTime>Z)||$&&!K());){var Se=h.callback;if(typeof Se=="function"){h.callback=null,p=h.priorityLevel;var A=Se(h.expirationTime<=Z);Z=t.unstable_now(),typeof A=="function"?h.callback=A:h===r(l)&&n(l),y(Z)}else n(l);h=r(l)}if(h!==null)var ie=!0;else{var ge=r(u);ge!==null&&ke(b,ge.startTime-Z),ie=!1}return ie}finally{h=null,p=re,f=!1}}var E=!1,R=null,P=-1,H=5,j=-1;function K(){return!(t.unstable_now()-j<H)}function z(){if(R!==null){var $=t.unstable_now();j=$;var Z=!0;try{Z=R(!0,$)}finally{Z?M():(E=!1,R=null)}}else E=!1}var M;if(typeof m=="function")M=function(){m(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=z,M=function(){ce.postMessage(null)}}else M=function(){x(z,0)};function be($){R=$,E||(E=!0,M())}function ke($,Z){P=x(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||f||(w=!0,be(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var re=p;p=Z;try{return $()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=p;p=$;try{return Z()}finally{p=re}},t.unstable_scheduleCallback=function($,Z,re){var Se=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Se+re:Se):re=Se,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=re+A,$={id:d++,callback:Z,priorityLevel:$,startTime:re,expirationTime:A,sortIndex:-1},re>Se?($.sortIndex=re,e(u,$),r(l)===null&&$===r(u)&&(v?(g(P),P=-1):v=!0,ke(b,re-Se))):($.sortIndex=A,e(l,$),w||f||(w=!0,be(O))),$},t.unstable_shouldYield=K,t.unstable_wrapCallback=function($){var Z=p;return function(){var re=p;p=Z;try{return $.apply(this,arguments)}finally{p=re}}}})(Dm);Lm.exports=Dm;var u0=Lm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=T,$t=u0;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,oa={};function vs(t,e){hi(t,e),hi(t+"Capture",e)}function hi(t,e){for(oa[t]=e,t=0;t<e.length;t++)Um.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=Object.prototype.hasOwnProperty,d0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ih={},Lh={};function h0(t){return Iu.call(Lh,t)?!0:Iu.call(Ih,t)?!1:d0.test(t)?Lh[t]=!0:(Ih[t]=!0,!1)}function f0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p0(t,e,r,n){if(e===null||typeof e>"u"||f0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var fd=/[\-:]([a-z])/g;function pd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fd,pd);it[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fd,pd);it[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fd,pd);it[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function md(t,e,r,n){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p0(e,r,s,n)&&(r=null),n||s===null?h0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Wr=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),gd=Symbol.for("react.strict_mode"),Lu=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),Fm=Symbol.for("react.context"),yd=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),vd=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),Dh=Symbol.iterator;function Ni(t){return t===null||typeof t!="object"?null:(t=Dh&&t[Dh]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Yl;function qi(t){if(Yl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yl=e&&e[1]||""}return`
`+Yl+t}var Xl=!1;function eu(t,e){if(!t||Xl)return"";Xl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qi(t):""}function m0(t){switch(t.tag){case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 2:case 15:return t=eu(t.type,!1),t;case 11:return t=eu(t.type.render,!1),t;case 1:return t=eu(t.type,!0),t;default:return""}}function $u(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Is:return"Portal";case Lu:return"Profiler";case gd:return"StrictMode";case Du:return"Suspense";case Uu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fm:return(t.displayName||"Context")+".Consumer";case $m:return(t._context.displayName||"Context")+".Provider";case yd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vd:return e=t.displayName||null,e!==null?e:$u(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return $u(t(e))}catch{}}return null}function g0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(e);case 8:return e===gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y0(t){var e=qm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=y0(t))}function Bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $o(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fu(t,e){var r=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Uh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vm(t,e){e=e.checked,e!=null&&md(t,"checked",e,!1)}function Mu(t,e){Vm(t,e);var r=Rn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qu(t,e.type,r):e.hasOwnProperty("defaultValue")&&qu(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $h(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qu(t,e,r){(e!=="number"||$o(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bi=Array.isArray;function Hs(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(I(92));if(Bi(r)){if(1<r.length)throw Error(I(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rn(r)}}function zm(t,e){var r=Rn(e.value),n=Rn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Mh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,Km=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function la(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(t){v0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qi[e]=Qi[t]})});function Hm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qi.hasOwnProperty(t)&&Qi[t]?(""+e).trim():e+"px"}function Qm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Hm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var w0=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(t,e){if(e){if(w0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Wu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function wd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hu=null,Qs=null,Gs=null;function qh(t){if(t=Wa(t)){if(typeof Hu!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Cl(e),Hu(t.stateNode,t.type,e))}}function Gm(t){Qs?Gs?Gs.push(t):Gs=[t]:Qs=t}function Zm(){if(Qs){var t=Qs,e=Gs;if(Gs=Qs=null,qh(t),e)for(t=0;t<e.length;t++)qh(e[t])}}function Jm(t,e){return t(e)}function Ym(){}var tu=!1;function Xm(t,e,r){if(tu)return t(e,r);tu=!0;try{return Jm(t,e,r)}finally{tu=!1,(Qs!==null||Gs!==null)&&(Ym(),Zm())}}function ua(t,e){var r=t.stateNode;if(r===null)return null;var n=Cl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(I(231,e,typeof r));return r}var Qu=!1;if(Fr)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Qu=!1}function _0(t,e,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Gi=!1,Fo=null,Mo=!1,Gu=null,x0={onError:function(t){Gi=!0,Fo=t}};function b0(t,e,r,n,s,i,a,o,l){Gi=!1,Fo=null,_0.apply(x0,arguments)}function k0(t,e,r,n,s,i,a,o,l){if(b0.apply(this,arguments),Gi){if(Gi){var u=Fo;Gi=!1,Fo=null}else throw Error(I(198));Mo||(Mo=!0,Gu=u)}}function ws(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function eg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bh(t){if(ws(t)!==t)throw Error(I(188))}function S0(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(I(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Bh(s),t;if(i===n)return Bh(s),e;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?t:e}function tg(t){return t=S0(t),t!==null?rg(t):null}function rg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rg(t);if(e!==null)return e;t=t.sibling}return null}var ng=$t.unstable_scheduleCallback,Vh=$t.unstable_cancelCallback,E0=$t.unstable_shouldYield,j0=$t.unstable_requestPaint,Fe=$t.unstable_now,C0=$t.unstable_getCurrentPriorityLevel,_d=$t.unstable_ImmediatePriority,sg=$t.unstable_UserBlockingPriority,qo=$t.unstable_NormalPriority,T0=$t.unstable_LowPriority,ig=$t.unstable_IdlePriority,kl=null,_r=null;function O0(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(kl,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:P0,N0=Math.log,R0=Math.LN2;function P0(t){return t>>>=0,t===0?32:31-(N0(t)/R0|0)|0}var eo=64,to=4194304;function Vi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Vi(o):(i&=a,i!==0&&(n=Vi(i)))}else a=r&~s,a!==0?n=Vi(a):i!==0&&(n=Vi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ur(e),s=1<<r,n|=t[r],e&=~s;return n}function A0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ur(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=A0(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Zu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ag(){var t=eo;return eo<<=1,!(eo&4194240)&&(eo=64),t}function ru(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Va(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=r}function L0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ur(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function xd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ur(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var xe=0;function og(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lg,bd,ug,cg,dg,Ju=!1,ro=[],_n=null,xn=null,bn=null,ca=new Map,da=new Map,rn=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(t,e){switch(t){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(e.pointerId)}}function Pi(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wa(e),e!==null&&bd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function U0(t,e,r,n,s){switch(e){case"focusin":return _n=Pi(_n,t,e,r,n,s),!0;case"dragenter":return xn=Pi(xn,t,e,r,n,s),!0;case"mouseover":return bn=Pi(bn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ca.set(i,Pi(ca.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,da.set(i,Pi(da.get(i)||null,t,e,r,n,s)),!0}return!1}function hg(t){var e=Hn(t.target);if(e!==null){var r=ws(e);if(r!==null){if(e=r.tag,e===13){if(e=eg(r),e!==null){t.blockedOn=e,dg(t.priority,function(){ug(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ku=n,r.target.dispatchEvent(n),Ku=null}else return e=Wa(r),e!==null&&bd(e),t.blockedOn=r,!1;e.shift()}return!0}function Wh(t,e,r){jo(t)&&r.delete(e)}function $0(){Ju=!1,_n!==null&&jo(_n)&&(_n=null),xn!==null&&jo(xn)&&(xn=null),bn!==null&&jo(bn)&&(bn=null),ca.forEach(Wh),da.forEach(Wh)}function Ai(t,e){t.blockedOn===e&&(t.blockedOn=null,Ju||(Ju=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,$0)))}function ha(t){function e(s){return Ai(s,t)}if(0<ro.length){Ai(ro[0],t);for(var r=1;r<ro.length;r++){var n=ro[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_n!==null&&Ai(_n,t),xn!==null&&Ai(xn,t),bn!==null&&Ai(bn,t),ca.forEach(e),da.forEach(e),r=0;r<rn.length;r++)n=rn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<rn.length&&(r=rn[0],r.blockedOn===null);)hg(r),r.blockedOn===null&&rn.shift()}var Zs=Wr.ReactCurrentBatchConfig,Vo=!0;function F0(t,e,r,n){var s=xe,i=Zs.transition;Zs.transition=null;try{xe=1,kd(t,e,r,n)}finally{xe=s,Zs.transition=i}}function M0(t,e,r,n){var s=xe,i=Zs.transition;Zs.transition=null;try{xe=4,kd(t,e,r,n)}finally{xe=s,Zs.transition=i}}function kd(t,e,r,n){if(Vo){var s=Yu(t,e,r,n);if(s===null)hu(t,e,n,zo,r),zh(t,n);else if(U0(s,t,e,r,n))n.stopPropagation();else if(zh(t,n),e&4&&-1<D0.indexOf(t)){for(;s!==null;){var i=Wa(s);if(i!==null&&lg(i),i=Yu(t,e,r,n),i===null&&hu(t,e,n,zo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hu(t,e,n,null,r)}}var zo=null;function Yu(t,e,r,n){if(zo=null,t=wd(n),t=Hn(t),t!==null)if(e=ws(t),e===null)t=null;else if(r=e.tag,r===13){if(t=eg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zo=t,null}function fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C0()){case _d:return 1;case sg:return 4;case qo:case T0:return 16;case ig:return 536870912;default:return 16}default:return 16}}var gn=null,Sd=null,Co=null;function pg(){if(Co)return Co;var t,e=Sd,r=e.length,n,s="value"in gn?gn.value:gn.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Co=s.slice(t,1<n?1-n:void 0)}function To(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Kh(){return!1}function qt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:Kh,this.isPropagationStopped=Kh,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=qt(Si),za=Ie({},Si,{view:0,detail:0}),q0=qt(za),nu,su,Ii,Sl=Ie({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(nu=t.screenX-Ii.screenX,su=t.screenY-Ii.screenY):su=nu=0,Ii=t),nu)},movementY:function(t){return"movementY"in t?t.movementY:su}}),Hh=qt(Sl),B0=Ie({},Sl,{dataTransfer:0}),V0=qt(B0),z0=Ie({},za,{relatedTarget:0}),iu=qt(z0),W0=Ie({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=qt(W0),H0=Ie({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q0=qt(H0),G0=Ie({},Si,{data:0}),Qh=qt(G0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y0[t])?!!e[t]:!1}function jd(){return X0}var ew=Ie({},za,{key:function(t){if(t.key){var e=Z0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tw=qt(ew),rw=Ie({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=qt(rw),nw=Ie({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),sw=qt(nw),iw=Ie({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),aw=qt(iw),ow=Ie({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lw=qt(ow),uw=[9,13,27,32],Cd=Fr&&"CompositionEvent"in window,Zi=null;Fr&&"documentMode"in document&&(Zi=document.documentMode);var cw=Fr&&"TextEvent"in window&&!Zi,mg=Fr&&(!Cd||Zi&&8<Zi&&11>=Zi),Zh=" ",Jh=!1;function gg(t,e){switch(t){case"keyup":return uw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function dw(t,e){switch(t){case"compositionend":return yg(e);case"keypress":return e.which!==32?null:(Jh=!0,Zh);case"textInput":return t=e.data,t===Zh&&Jh?null:t;default:return null}}function hw(t,e){if(Ds)return t==="compositionend"||!Cd&&gg(t,e)?(t=pg(),Co=Sd=gn=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mg&&e.locale!=="ko"?null:e.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fw[t.type]:e==="textarea"}function vg(t,e,r,n){Gm(n),e=Wo(e,"onChange"),0<e.length&&(r=new Ed("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ji=null,fa=null;function pw(t){Og(t,0)}function El(t){var e=Fs(t);if(Bm(e))return t}function mw(t,e){if(t==="change")return e}var wg=!1;if(Fr){var au;if(Fr){var ou="oninput"in document;if(!ou){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),ou=typeof Xh.oninput=="function"}au=ou}else au=!1;wg=au&&(!document.documentMode||9<document.documentMode)}function ef(){Ji&&(Ji.detachEvent("onpropertychange",_g),fa=Ji=null)}function _g(t){if(t.propertyName==="value"&&El(fa)){var e=[];vg(e,fa,t,wd(t)),Xm(pw,e)}}function gw(t,e,r){t==="focusin"?(ef(),Ji=e,fa=r,Ji.attachEvent("onpropertychange",_g)):t==="focusout"&&ef()}function yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return El(fa)}function vw(t,e){if(t==="click")return El(e)}function ww(t,e){if(t==="input"||t==="change")return El(e)}function _w(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:_w;function pa(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Iu.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rf(t,e){var r=tf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tf(r)}}function xg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bg(){for(var t=window,e=$o();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$o(t.document)}return e}function Td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xw(t){var e=bg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xg(r.ownerDocument.documentElement,r)){if(n!==null&&Td(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=rf(r,i);var a=rf(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bw=Fr&&"documentMode"in document&&11>=document.documentMode,Us=null,Xu=null,Yi=null,ec=!1;function nf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ec||Us==null||Us!==$o(n)||(n=Us,"selectionStart"in n&&Td(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yi&&pa(Yi,n)||(Yi=n,n=Wo(Xu,"onSelect"),0<n.length&&(e=new Ed("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Us)))}function so(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $s={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},lu={},kg={};Fr&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function jl(t){if(lu[t])return lu[t];if(!$s[t])return t;var e=$s[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kg)return lu[t]=e[r];return t}var Sg=jl("animationend"),Eg=jl("animationiteration"),jg=jl("animationstart"),Cg=jl("transitionend"),Tg=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,e){Tg.set(t,e),vs(e,[t])}for(var uu=0;uu<sf.length;uu++){var cu=sf[uu],kw=cu.toLowerCase(),Sw=cu[0].toUpperCase()+cu.slice(1);Ln(kw,"on"+Sw)}Ln(Sg,"onAnimationEnd");Ln(Eg,"onAnimationIteration");Ln(jg,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Cg,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function af(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,k0(n,e,void 0,t),t.currentTarget=null}function Og(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;af(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;af(s,o,u),i=l}}}if(Mo)throw t=Gu,Mo=!1,Gu=null,t}function Te(t,e){var r=e[ic];r===void 0&&(r=e[ic]=new Set);var n=t+"__bubble";r.has(n)||(Ng(e,t,2,!1),r.add(n))}function du(t,e,r){var n=0;e&&(n|=4),Ng(r,t,n,e)}var io="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[io]){t[io]=!0,Um.forEach(function(r){r!=="selectionchange"&&(Ew.has(r)||du(r,!1,t),du(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[io]||(e[io]=!0,du("selectionchange",!1,e))}}function Ng(t,e,r,n){switch(fg(e)){case 1:var s=F0;break;case 4:s=M0;break;default:s=kd}r=s.bind(null,e,r,t),s=void 0,!Qu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function hu(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Hn(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Xm(function(){var u=i,d=wd(r),h=[];e:{var p=Tg.get(t);if(p!==void 0){var f=Ed,w=t;switch(t){case"keypress":if(To(r)===0)break e;case"keydown":case"keyup":f=tw;break;case"focusin":w="focus",f=iu;break;case"focusout":w="blur",f=iu;break;case"beforeblur":case"afterblur":f=iu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=sw;break;case Sg:case Eg:case jg:f=K0;break;case Cg:f=aw;break;case"scroll":f=q0;break;case"wheel":f=lw;break;case"copy":case"cut":case"paste":f=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Gh}var v=(e&4)!==0,x=!v&&t==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=ua(m,g),b!=null&&v.push(ga(m,b,y)))),x)break;m=m.return}0<v.length&&(p=new f(p,w,null,r,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==Ku&&(w=r.relatedTarget||r.fromElement)&&(Hn(w)||w[Mr]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(w=r.relatedTarget||r.toElement,f=u,w=w?Hn(w):null,w!==null&&(x=ws(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=u),f!==w)){if(v=Hh,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gh,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=f==null?p:Fs(f),y=w==null?p:Fs(w),p=new v(b,m+"leave",f,r,d),p.target=x,p.relatedTarget=y,b=null,Hn(d)===u&&(v=new v(g,m+"enter",w,r,d),v.target=y,v.relatedTarget=x,b=v),x=b,f&&w)t:{for(v=f,g=w,m=0,y=v;y;y=_s(y))m++;for(y=0,b=g;b;b=_s(b))y++;for(;0<m-y;)v=_s(v),m--;for(;0<y-m;)g=_s(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=_s(v),g=_s(g)}v=null}else v=null;f!==null&&of(h,p,f,v,!1),w!==null&&x!==null&&of(h,x,w,v,!0)}}e:{if(p=u?Fs(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var O=mw;else if(Yh(p))if(wg)O=ww;else{O=yw;var E=gw}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=vw);if(O&&(O=O(t,u))){vg(h,O,r,d);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&qu(p,"number",p.value)}switch(E=u?Fs(u):window,t){case"focusin":(Yh(E)||E.contentEditable==="true")&&(Us=E,Xu=u,Yi=null);break;case"focusout":Yi=Xu=Us=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,nf(h,r,d);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":nf(h,r,d)}var R;if(Cd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ds?gg(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(mg&&r.locale!=="ko"&&(Ds||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ds&&(R=pg()):(gn=d,Sd="value"in gn?gn.value:gn.textContent,Ds=!0)),E=Wo(u,P),0<E.length&&(P=new Qh(P,t,null,r,d),h.push({event:P,listeners:E}),R?P.data=R:(R=yg(r),R!==null&&(P.data=R)))),(R=cw?dw(t,r):hw(t,r))&&(u=Wo(u,"onBeforeInput"),0<u.length&&(d=new Qh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=R))}Og(h,e)})}function ga(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ua(t,r),i!=null&&n.unshift(ga(t,i,s)),i=ua(t,e),i!=null&&n.push(ga(t,i,s))),t=t.return}return n}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function of(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=ua(r,i),l!=null&&a.unshift(ga(r,l,o))):s||(l=ua(r,i),l!=null&&a.push(ga(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var jw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function lf(t){return(typeof t=="string"?t:""+t).replace(jw,`
`).replace(Cw,"")}function ao(t,e,r){if(e=lf(e),lf(t)!==e&&r)throw Error(I(425))}function Ko(){}var tc=null,rc=null;function nc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(t){return uf.resolve(null).then(t).catch(Nw)}:sc;function Nw(t){setTimeout(function(){throw t})}function fu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ha(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ha(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),wr="__reactFiber$"+Ei,ya="__reactProps$"+Ei,Mr="__reactContainer$"+Ei,ic="__reactEvents$"+Ei,Rw="__reactListeners$"+Ei,Pw="__reactHandles$"+Ei;function Hn(t){var e=t[wr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mr]||r[wr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=cf(t);t!==null;){if(r=t[wr])return r;t=cf(t)}return e}t=r,r=t.parentNode}return null}function Wa(t){return t=t[wr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Cl(t){return t[ya]||null}var ac=[],Ms=-1;function Dn(t){return{current:t}}function Oe(t){0>Ms||(t.current=ac[Ms],ac[Ms]=null,Ms--)}function Ce(t,e){Ms++,ac[Ms]=t.current,t.current=e}var Pn={},ht=Dn(Pn),Tt=Dn(!1),cs=Pn;function fi(t,e){var r=t.type.contextTypes;if(!r)return Pn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(t){return t=t.childContextTypes,t!=null}function Ho(){Oe(Tt),Oe(ht)}function df(t,e,r){if(ht.current!==Pn)throw Error(I(168));Ce(ht,e),Ce(Tt,r)}function Rg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(I(108,g0(t)||"Unknown",s));return Ie({},r,n)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,cs=ht.current,Ce(ht,t),Ce(Tt,Tt.current),!0}function hf(t,e,r){var n=t.stateNode;if(!n)throw Error(I(169));r?(t=Rg(t,e,cs),n.__reactInternalMemoizedMergedChildContext=t,Oe(Tt),Oe(ht),Ce(ht,t)):Oe(Tt),Ce(Tt,r)}var Nr=null,Tl=!1,pu=!1;function Pg(t){Nr===null?Nr=[t]:Nr.push(t)}function Aw(t){Tl=!0,Pg(t)}function Un(){if(!pu&&Nr!==null){pu=!0;var t=0,e=xe;try{var r=Nr;for(xe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Nr=null,Tl=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),ng(_d,Un),s}finally{xe=e,pu=!1}}return null}var qs=[],Bs=0,Go=null,Zo=0,zt=[],Wt=0,ds=null,Lr=1,Dr="";function Bn(t,e){qs[Bs++]=Zo,qs[Bs++]=Go,Go=t,Zo=e}function Ag(t,e,r){zt[Wt++]=Lr,zt[Wt++]=Dr,zt[Wt++]=ds,ds=t;var n=Lr;t=Dr;var s=32-ur(n)-1;n&=~(1<<s),r+=1;var i=32-ur(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Lr=1<<32-ur(e)+s|r<<s|n,Dr=i+t}else Lr=1<<i|r<<s|n,Dr=t}function Od(t){t.return!==null&&(Bn(t,1),Ag(t,1,0))}function Nd(t){for(;t===Go;)Go=qs[--Bs],qs[Bs]=null,Zo=qs[--Bs],qs[Bs]=null;for(;t===ds;)ds=zt[--Wt],zt[Wt]=null,Dr=zt[--Wt],zt[Wt]=null,Lr=zt[--Wt],zt[Wt]=null}var Ut=null,Lt=null,Ne=!1,ir=null;function Ig(t,e){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ff(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,Lt=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ds!==null?{id:Lr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ut=t,Lt=null,!0):!1;default:return!1}}function oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lc(t){if(Ne){var e=Lt;if(e){var r=e;if(!ff(t,e)){if(oc(t))throw Error(I(418));e=kn(r.nextSibling);var n=Ut;e&&ff(t,e)?Ig(n,r):(t.flags=t.flags&-4097|2,Ne=!1,Ut=t)}}else{if(oc(t))throw Error(I(418));t.flags=t.flags&-4097|2,Ne=!1,Ut=t}}}function pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function oo(t){if(t!==Ut)return!1;if(!Ne)return pf(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nc(t.type,t.memoizedProps)),e&&(e=Lt)){if(oc(t))throw Lg(),Error(I(418));for(;e;)Ig(t,e),e=kn(e.nextSibling)}if(pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Lt=kn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ut?kn(t.stateNode.nextSibling):null;return!0}function Lg(){for(var t=Lt;t;)t=kn(t.nextSibling)}function pi(){Lt=Ut=null,Ne=!1}function Rd(t){ir===null?ir=[t]:ir.push(t)}var Iw=Wr.ReactCurrentBatchConfig;function Li(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,t))}return t}function lo(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mf(t){var e=t._init;return e(t._payload)}function Dg(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Cn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,y,b){return m===null||m.tag!==6?(m=xu(y,g.mode,b),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,b){var O=y.type;return O===Ls?d(g,m,y.props.children,b,y.key):m!==null&&(m.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Yr&&mf(O)===m.type)?(b=s(m,y.props),b.ref=Li(g,m,y),b.return=g,b):(b=Lo(y.type,y.key,y.props,null,g.mode,b),b.ref=Li(g,m,y),b.return=g,b)}function u(g,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=bu(y,g.mode,b),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,b,O){return m===null||m.tag!==7?(m=us(y,g.mode,b,O),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xu(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ja:return y=Lo(m.type,m.key,m.props,null,g.mode,y),y.ref=Li(g,null,m),y.return=g,y;case Is:return m=bu(m,g.mode,y),m.return=g,m;case Yr:var b=m._init;return h(g,b(m._payload),y)}if(Bi(m)||Ni(m))return m=us(m,g.mode,y,null),m.return=g,m;lo(g,m)}return null}function p(g,m,y,b){var O=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return O!==null?null:o(g,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return y.key===O?l(g,m,y,b):null;case Is:return y.key===O?u(g,m,y,b):null;case Yr:return O=y._init,p(g,m,O(y._payload),b)}if(Bi(y)||Ni(y))return O!==null?null:d(g,m,y,b,null);lo(g,y)}return null}function f(g,m,y,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,o(m,g,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ja:return g=g.get(b.key===null?y:b.key)||null,l(m,g,b,O);case Is:return g=g.get(b.key===null?y:b.key)||null,u(m,g,b,O);case Yr:var E=b._init;return f(g,m,y,E(b._payload),O)}if(Bi(b)||Ni(b))return g=g.get(y)||null,d(m,g,b,O,null);lo(m,b)}return null}function w(g,m,y,b){for(var O=null,E=null,R=m,P=m=0,H=null;R!==null&&P<y.length;P++){R.index>P?(H=R,R=null):H=R.sibling;var j=p(g,R,y[P],b);if(j===null){R===null&&(R=H);break}t&&R&&j.alternate===null&&e(g,R),m=i(j,m,P),E===null?O=j:E.sibling=j,E=j,R=H}if(P===y.length)return r(g,R),Ne&&Bn(g,P),O;if(R===null){for(;P<y.length;P++)R=h(g,y[P],b),R!==null&&(m=i(R,m,P),E===null?O=R:E.sibling=R,E=R);return Ne&&Bn(g,P),O}for(R=n(g,R);P<y.length;P++)H=f(R,g,P,y[P],b),H!==null&&(t&&H.alternate!==null&&R.delete(H.key===null?P:H.key),m=i(H,m,P),E===null?O=H:E.sibling=H,E=H);return t&&R.forEach(function(K){return e(g,K)}),Ne&&Bn(g,P),O}function v(g,m,y,b){var O=Ni(y);if(typeof O!="function")throw Error(I(150));if(y=O.call(y),y==null)throw Error(I(151));for(var E=O=null,R=m,P=m=0,H=null,j=y.next();R!==null&&!j.done;P++,j=y.next()){R.index>P?(H=R,R=null):H=R.sibling;var K=p(g,R,j.value,b);if(K===null){R===null&&(R=H);break}t&&R&&K.alternate===null&&e(g,R),m=i(K,m,P),E===null?O=K:E.sibling=K,E=K,R=H}if(j.done)return r(g,R),Ne&&Bn(g,P),O;if(R===null){for(;!j.done;P++,j=y.next())j=h(g,j.value,b),j!==null&&(m=i(j,m,P),E===null?O=j:E.sibling=j,E=j);return Ne&&Bn(g,P),O}for(R=n(g,R);!j.done;P++,j=y.next())j=f(R,g,P,j.value,b),j!==null&&(t&&j.alternate!==null&&R.delete(j.key===null?P:j.key),m=i(j,m,P),E===null?O=j:E.sibling=j,E=j);return t&&R.forEach(function(z){return e(g,z)}),Ne&&Bn(g,P),O}function x(g,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Ls&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:e:{for(var O=y.key,E=m;E!==null;){if(E.key===O){if(O=y.type,O===Ls){if(E.tag===7){r(g,E.sibling),m=s(E,y.props.children),m.return=g,g=m;break e}}else if(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Yr&&mf(O)===E.type){r(g,E.sibling),m=s(E,y.props),m.ref=Li(g,E,y),m.return=g,g=m;break e}r(g,E);break}else e(g,E);E=E.sibling}y.type===Ls?(m=us(y.props.children,g.mode,b,y.key),m.return=g,g=m):(b=Lo(y.type,y.key,y.props,null,g.mode,b),b.ref=Li(g,m,y),b.return=g,g=b)}return a(g);case Is:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=bu(y,g.mode,b),m.return=g,g=m}return a(g);case Yr:return E=y._init,x(g,m,E(y._payload),b)}if(Bi(y))return w(g,m,y,b);if(Ni(y))return v(g,m,y,b);lo(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,y),m.return=g,g=m):(r(g,m),m=xu(y,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return x}var mi=Dg(!0),Ug=Dg(!1),Jo=Dn(null),Yo=null,Vs=null,Pd=null;function Ad(){Pd=Vs=Yo=null}function Id(t){var e=Jo.current;Oe(Jo),t._currentValue=e}function uc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Js(t,e){Yo=t,Pd=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Pd!==t)if(t={context:t,memoizedValue:e,next:null},Vs===null){if(Yo===null)throw Error(I(308));Vs=t,Yo.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return e}var Qn=null;function Ld(t){Qn===null?Qn=[t]:Qn.push(t)}function $g(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ld(e)):(r.next=s.next,s.next=r),e.interleaved=r,qr(t,n)}function qr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Xr=!1;function Dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,qr(t,r)}return s=n.interleaved,s===null?(e.next=e,Ld(n)):(e.next=s.next,s.next=e),n.interleaved=e,qr(t,r)}function Oo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xd(t,r)}}function gf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xo(t,e,r,n){var s=t.updateQueue;Xr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var p=o.lane,f=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(p=e,f=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(f,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(f,h,p):w,p==null)break e;h=Ie({},h,p);break e;case 2:Xr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fs|=a,t.lanes=a,t.memoizedState=h}}function yf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Ka={},xr=Dn(Ka),va=Dn(Ka),wa=Dn(Ka);function Gn(t){if(t===Ka)throw Error(I(174));return t}function Ud(t,e){switch(Ce(wa,e),Ce(va,t),Ce(xr,Ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vu(e,t)}Oe(xr),Ce(xr,e)}function gi(){Oe(xr),Oe(va),Oe(wa)}function Mg(t){Gn(wa.current);var e=Gn(xr.current),r=Vu(e,t.type);e!==r&&(Ce(va,t),Ce(xr,r))}function $d(t){va.current===t&&(Oe(xr),Oe(va))}var Pe=Dn(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mu=[];function Fd(){for(var t=0;t<mu.length;t++)mu[t]._workInProgressVersionPrimary=null;mu.length=0}var No=Wr.ReactCurrentDispatcher,gu=Wr.ReactCurrentBatchConfig,hs=0,Ae=null,Qe=null,Ye=null,tl=!1,Xi=!1,_a=0,Lw=0;function at(){throw Error(I(321))}function Md(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dr(t[r],e[r]))return!1;return!0}function qd(t,e,r,n,s,i){if(hs=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,No.current=t===null||t.memoizedState===null?Fw:Mw,t=r(n,s),Xi){i=0;do{if(Xi=!1,_a=0,25<=i)throw Error(I(301));i+=1,Ye=Qe=null,e.updateQueue=null,No.current=qw,t=r(n,s)}while(Xi)}if(No.current=rl,e=Qe!==null&&Qe.next!==null,hs=0,Ye=Qe=Ae=null,tl=!1,e)throw Error(I(300));return t}function Bd(){var t=_a!==0;return _a=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ae.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Gt(){if(Qe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Ye===null?Ae.memoizedState:Ye.next;if(e!==null)Ye=e,Qe=t;else{if(t===null)throw Error(I(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ye===null?Ae.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function xa(t,e){return typeof e=="function"?e(t):e}function yu(t){var e=Gt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=Qe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((hs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Ae.lanes|=d,fs|=d}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,dr(n,e.memoizedState)||(Ct=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,fs|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vu(t){var e=Gt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);dr(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function qg(){}function Bg(t,e){var r=Ae,n=Gt(),s=e(),i=!dr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ct=!0),n=n.queue,Vd(Wg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,ba(9,zg.bind(null,r,n,s,e),void 0,null),Xe===null)throw Error(I(349));hs&30||Vg(r,e,s)}return s}function Vg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function zg(t,e,r,n){e.value=r,e.getSnapshot=n,Kg(e)&&Hg(t)}function Wg(t,e,r){return r(function(){Kg(e)&&Hg(t)})}function Kg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dr(t,r)}catch{return!0}}function Hg(t){var e=qr(t,1);e!==null&&cr(e,t,1,-1)}function vf(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},e.queue=t,t=t.dispatch=$w.bind(null,Ae,t),[e.memoizedState,t]}function ba(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Qg(){return Gt().memoizedState}function Ro(t,e,r,n){var s=pr();Ae.flags|=t,s.memoizedState=ba(1|e,r,void 0,n===void 0?null:n)}function Ol(t,e,r,n){var s=Gt();n=n===void 0?null:n;var i=void 0;if(Qe!==null){var a=Qe.memoizedState;if(i=a.destroy,n!==null&&Md(n,a.deps)){s.memoizedState=ba(e,r,i,n);return}}Ae.flags|=t,s.memoizedState=ba(1|e,r,i,n)}function wf(t,e){return Ro(8390656,8,t,e)}function Vd(t,e){return Ol(2048,8,t,e)}function Gg(t,e){return Ol(4,2,t,e)}function Zg(t,e){return Ol(4,4,t,e)}function Jg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yg(t,e,r){return r=r!=null?r.concat([t]):null,Ol(4,4,Jg.bind(null,e,t),r)}function zd(){}function Xg(t,e){var r=Gt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Md(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ey(t,e){var r=Gt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Md(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ty(t,e,r){return hs&21?(dr(r,e)||(r=ag(),Ae.lanes|=r,fs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=r)}function Dw(t,e){var r=xe;xe=r!==0&&4>r?r:4,t(!0);var n=gu.transition;gu.transition={};try{t(!1),e()}finally{xe=r,gu.transition=n}}function ry(){return Gt().memoizedState}function Uw(t,e,r){var n=jn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ny(t))sy(e,r);else if(r=$g(t,e,r,n),r!==null){var s=wt();cr(r,t,n,s),iy(r,e,n)}}function $w(t,e,r){var n=jn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ny(t))sy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,dr(o,a)){var l=e.interleaved;l===null?(s.next=s,Ld(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=$g(t,e,s,n),r!==null&&(s=wt(),cr(r,t,n,s),iy(r,e,n))}}function ny(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function sy(t,e){Xi=tl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function iy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xd(t,r)}}var rl={readContext:Qt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Fw={readContext:Qt,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:wf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ro(4194308,4,Jg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ro(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ro(4,2,t,e)},useMemo:function(t,e){var r=pr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Uw.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:vf,useDebugValue:zd,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=vf(!1),e=t[0];return t=Dw.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,s=pr();if(Ne){if(r===void 0)throw Error(I(407));r=r()}else{if(r=e(),Xe===null)throw Error(I(349));hs&30||Vg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,wf(Wg.bind(null,n,i,t),[t]),n.flags|=2048,ba(9,zg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=pr(),e=Xe.identifierPrefix;if(Ne){var r=Dr,n=Lr;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=_a++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Lw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mw={readContext:Qt,useCallback:Xg,useContext:Qt,useEffect:Vd,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Zg,useMemo:ey,useReducer:yu,useRef:Qg,useState:function(){return yu(xa)},useDebugValue:zd,useDeferredValue:function(t){var e=Gt();return ty(e,Qe.memoizedState,t)},useTransition:function(){var t=yu(xa)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:qg,useSyncExternalStore:Bg,useId:ry,unstable_isNewReconciler:!1},qw={readContext:Qt,useCallback:Xg,useContext:Qt,useEffect:Vd,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Zg,useMemo:ey,useReducer:vu,useRef:Qg,useState:function(){return vu(xa)},useDebugValue:zd,useDeferredValue:function(t){var e=Gt();return Qe===null?e.memoizedState=t:ty(e,Qe.memoizedState,t)},useTransition:function(){var t=vu(xa)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:qg,useSyncExternalStore:Bg,useId:ry,unstable_isNewReconciler:!1};function Xt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nl={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wt(),s=jn(t),i=Ur(n,s);i.payload=e,r!=null&&(i.callback=r),e=Sn(t,i,s),e!==null&&(cr(e,t,s,n),Oo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wt(),s=jn(t),i=Ur(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Sn(t,i,s),e!==null&&(cr(e,t,s,n),Oo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wt(),n=jn(t),s=Ur(r,n);s.tag=2,e!=null&&(s.callback=e),e=Sn(t,s,n),e!==null&&(cr(e,t,n,r),Oo(e,t,n))}};function _f(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!pa(r,n)||!pa(s,i):!0}function ay(t,e,r){var n=!1,s=Pn,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Ot(e)?cs:ht.current,n=e.contextTypes,i=(n=n!=null)?fi(t,s):Pn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Nl.enqueueReplaceState(e,e.state,null)}function dc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Dd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Ot(e)?cs:ht.current,s.context=fi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nl.enqueueReplaceState(s,s.state,null),Xo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,e){try{var r="",n=e;do r+=m0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function oy(t,e,r){r=Ur(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sl||(sl=!0,bc=n),hc(t,e)},r}function ly(t,e,r){r=Ur(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){hc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hc(t,e),typeof n!="function"&&(En===null?En=new Set([this]):En.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function bf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Bw;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=r_.bind(null,t,e,r),e.then(t,t))}function kf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ur(-1,1),e.tag=2,Sn(r,e,1))),r.lanes|=1),t)}var Vw=Wr.ReactCurrentOwner,Ct=!1;function yt(t,e,r,n){e.child=t===null?Ug(e,null,r,n):mi(e,t.child,r,n)}function Ef(t,e,r,n,s){r=r.render;var i=e.ref;return Js(e,s),n=qd(t,e,r,n,i,s),r=Bd(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ne&&r&&Od(e),e.flags|=1,yt(t,e,n,s),e.child)}function jf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Yd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,uy(t,e,i,n,s)):(t=Lo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:pa,r(a,n)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=Cn(i,n),t.ref=e.ref,t.return=e,e.child=t}function uy(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(pa(i,n)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Br(t,e,s)}return fc(t,e,r,n,s)}function cy(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Ws,Pt),Pt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Ws,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(Ws,Pt),Pt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ce(Ws,Pt),Pt|=n;return yt(t,e,s,r),e.child}function dy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fc(t,e,r,n,s){var i=Ot(r)?cs:ht.current;return i=fi(e,i),Js(e,s),r=qd(t,e,r,n,i,s),n=Bd(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ne&&n&&Od(e),e.flags|=1,yt(t,e,r,s),e.child)}function Cf(t,e,r,n,s){if(Ot(r)){var i=!0;Qo(e)}else i=!1;if(Js(e,s),e.stateNode===null)Po(t,e),ay(e,r,n),dc(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=Ot(r)?cs:ht.current,u=fi(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&xf(e,a,n,u),Xr=!1;var p=e.memoizedState;a.state=p,Xo(e,n,a,s),l=e.memoizedState,o!==n||p!==l||Tt.current||Xr?(typeof d=="function"&&(cc(e,r,d,n),l=e.memoizedState),(o=Xr||_f(e,r,o,n,p,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Fg(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Xt(e.type,o),a.props=u,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=Ot(r)?cs:ht.current,l=fi(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==l)&&xf(e,a,n,l),Xr=!1,p=e.memoizedState,a.state=p,Xo(e,n,a,s);var w=e.memoizedState;o!==h||p!==w||Tt.current||Xr?(typeof f=="function"&&(cc(e,r,f,n),w=e.memoizedState),(u=Xr||_f(e,r,u,n,p,w,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return pc(t,e,r,n,i,s)}function pc(t,e,r,n,s,i){dy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&hf(e,r,!1),Br(t,e,i);n=e.stateNode,Vw.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=mi(e,t.child,null,i),e.child=mi(e,null,o,i)):yt(t,e,o,i),e.memoizedState=n.state,s&&hf(e,r,!0),e.child}function hy(t){var e=t.stateNode;e.pendingContext?df(t,e.pendingContext,e.pendingContext!==e.context):e.context&&df(t,e.context,!1),Ud(t,e.containerInfo)}function Tf(t,e,r,n,s){return pi(),Rd(s),e.flags|=256,yt(t,e,r,n),e.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function fy(t,e,r){var n=e.pendingProps,s=Pe.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Pe,s&1),t===null)return lc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Al(a,n,0,null),t=us(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gc(r),e.memoizedState=mc,t):Wd(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return zw(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Cn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Cn(o,i):(i=us(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?gc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=mc,n}return i=t.child,t=i.sibling,n=Cn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Wd(t,e){return e=Al({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uo(t,e,r,n){return n!==null&&Rd(n),mi(e,t.child,null,r),t=Wd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zw(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=wu(Error(I(422))),uo(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Al({mode:"visible",children:n.children},s,0,null),i=us(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&mi(e,t.child,null,a),e.child.memoizedState=gc(a),e.memoizedState=mc,i);if(!(e.mode&1))return uo(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(I(419)),n=wu(i,n,void 0),uo(t,e,a,n)}if(o=(a&t.childLanes)!==0,Ct||o){if(n=Xe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qr(t,s),cr(n,t,s,-1))}return Jd(),n=wu(Error(I(421))),uo(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=n_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Lt=kn(s.nextSibling),Ut=e,Ne=!0,ir=null,t!==null&&(zt[Wt++]=Lr,zt[Wt++]=Dr,zt[Wt++]=ds,Lr=t.id,Dr=t.overflow,ds=e),e=Wd(e,n.children),e.flags|=4096,e)}function Of(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),uc(t.return,e,r)}function _u(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function py(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(yt(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Of(t,r,e);else if(t.tag===19)Of(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ce(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&el(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),_u(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&el(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}_u(e,!0,r,null,i);break;case"together":_u(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,r=Cn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Cn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ww(t,e,r){switch(e.tag){case 3:hy(e),pi();break;case 5:Mg(e);break;case 1:Ot(e.type)&&Qo(e);break;case 4:Ud(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ce(Jo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?fy(t,e,r):(Ce(Pe,Pe.current&1),t=Br(t,e,r),t!==null?t.sibling:null);Ce(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return py(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,cy(t,e,r)}return Br(t,e,r)}var my,yc,gy,yy;my=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yc=function(){};gy=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Gn(xr.current);var i=null;switch(r){case"input":s=Fu(t,s),n=Fu(t,n),i=[];break;case"select":s=Ie({},s,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":s=Bu(t,s),n=Bu(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ko)}zu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yy=function(t,e,r,n){r!==n&&(e.flags|=4)};function Di(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Kw(t,e,r){var n=e.pendingProps;switch(Nd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Ot(e.type)&&Ho(),ot(e),null;case 3:return n=e.stateNode,gi(),Oe(Tt),Oe(ht),Fd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(oo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(Ec(ir),ir=null))),yc(t,e),ot(e),null;case 5:$d(e);var s=Gn(wa.current);if(r=e.type,t!==null&&e.stateNode!=null)gy(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(I(166));return ot(e),null}if(t=Gn(xr.current),oo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[wr]=e,n[ya]=i,t=(e.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<zi.length;s++)Te(zi[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Uh(n,i),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Te("invalid",n);break;case"textarea":Fh(n,i),Te("invalid",n)}zu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ao(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ao(n.textContent,o,t),s=["children",""+o]):oa.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",n)}switch(r){case"input":Ya(n),$h(n,i,!0);break;case"textarea":Ya(n),Mh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ko)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[wr]=e,t[ya]=n,my(t,e,!1,!1),e.stateNode=t;e:{switch(a=Wu(r,n),r){case"dialog":Te("cancel",t),Te("close",t),s=n;break;case"iframe":case"object":case"embed":Te("load",t),s=n;break;case"video":case"audio":for(s=0;s<zi.length;s++)Te(zi[s],t);s=n;break;case"source":Te("error",t),s=n;break;case"img":case"image":case"link":Te("error",t),Te("load",t),s=n;break;case"details":Te("toggle",t),s=n;break;case"input":Uh(t,n),s=Fu(t,n),Te("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ie({},n,{value:void 0}),Te("invalid",t);break;case"textarea":Fh(t,n),s=Bu(t,n),Te("invalid",t);break;default:s=n}zu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Qm(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Km(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&la(t,l):typeof l=="number"&&la(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Te("scroll",t):l!=null&&md(t,i,l,a))}switch(r){case"input":Ya(t),$h(t,n,!1);break;case"textarea":Ya(t),Mh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Hs(t,!!n.multiple,i,!1):n.defaultValue!=null&&Hs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ko)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)yy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(I(166));if(r=Gn(wa.current),Gn(xr.current),oo(e)){if(n=e.stateNode,r=e.memoizedProps,n[wr]=e,(i=n.nodeValue!==r)&&(t=Ut,t!==null))switch(t.tag){case 3:ao(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wr]=e,e.stateNode=n}return ot(e),null;case 13:if(Oe(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Lt!==null&&e.mode&1&&!(e.flags&128))Lg(),pi(),e.flags|=98560,i=!1;else if(i=oo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[wr]=e}else pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else ir!==null&&(Ec(ir),ir=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ze===0&&(Ze=3):Jd())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return gi(),yc(t,e),t===null&&ma(e.stateNode.containerInfo),ot(e),null;case 10:return Id(e.type._context),ot(e),null;case 17:return Ot(e.type)&&Ho(),ot(e),null;case 19:if(Oe(Pe),i=e.memoizedState,i===null)return ot(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Di(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=el(t),a!==null){for(e.flags|=128,Di(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ce(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>vi&&(e.flags|=128,n=!0,Di(i,!1),e.lanes=4194304)}else{if(!n)if(t=el(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ne)return ot(e),null}else 2*Fe()-i.renderingStartTime>vi&&r!==1073741824&&(e.flags|=128,n=!0,Di(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,r=Pe.current,Ce(Pe,n?r&1|2:r&1),e):(ot(e),null);case 22:case 23:return Zd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Hw(t,e){switch(Nd(e),e.tag){case 1:return Ot(e.type)&&Ho(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gi(),Oe(Tt),Oe(ht),Fd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $d(e),null;case 13:if(Oe(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Pe),null;case 4:return gi(),null;case 10:return Id(e.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var co=!1,ct=!1,Qw=typeof WeakSet=="function"?WeakSet:Set,W=null;function zs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(t,e,n)}else r.current=null}function vc(t,e,r){try{r()}catch(n){Ue(t,e,n)}}var Nf=!1;function Gw(t,e){if(tc=Vo,t=bg(),Td(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++u===s&&(o=a),p===i&&++d===n&&(l=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rc={focusedElem:t,selectionRange:r},Vo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xt(e.type,v),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){Ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return w=Nf,Nf=!1,w}function ea(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vc(e,r,i)}s=s.next}while(s!==n)}}function Rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function vy(t){var e=t.alternate;e!==null&&(t.alternate=null,vy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[ya],delete e[ic],delete e[Rw],delete e[Pw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wy(t){return t.tag===5||t.tag===3||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ko));else if(n!==4&&(t=t.child,t!==null))for(_c(t,e,r),t=t.sibling;t!==null;)_c(t,e,r),t=t.sibling}function xc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xc(t,e,r),t=t.sibling;t!==null;)xc(t,e,r),t=t.sibling}var nt=null,nr=!1;function Zr(t,e,r){for(r=r.child;r!==null;)_y(t,e,r),r=r.sibling}function _y(t,e,r){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(kl,r)}catch{}switch(r.tag){case 5:ct||zs(r,e);case 6:var n=nt,s=nr;nt=null,Zr(t,e,r),nt=n,nr=s,nt!==null&&(nr?(t=nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(nr?(t=nt,r=r.stateNode,t.nodeType===8?fu(t.parentNode,r):t.nodeType===1&&fu(t,r),ha(t)):fu(nt,r.stateNode));break;case 4:n=nt,s=nr,nt=r.stateNode.containerInfo,nr=!0,Zr(t,e,r),nt=n,nr=s;break;case 0:case 11:case 14:case 15:if(!ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&vc(r,e,a),s=s.next}while(s!==n)}Zr(t,e,r);break;case 1:if(!ct&&(zs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ue(r,e,o)}Zr(t,e,r);break;case 21:Zr(t,e,r);break;case 22:r.mode&1?(ct=(n=ct)||r.memoizedState!==null,Zr(t,e,r),ct=n):Zr(t,e,r);break;default:Zr(t,e,r)}}function Pf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Qw),e.forEach(function(n){var s=s_.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Jt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,nr=!1;break e;case 3:nt=o.stateNode.containerInfo,nr=!0;break e;case 4:nt=o.stateNode.containerInfo,nr=!0;break e}o=o.return}if(nt===null)throw Error(I(160));_y(i,a,s),nt=null,nr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ue(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xy(e,t),e=e.sibling}function xy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),fr(t),n&4){try{ea(3,t,t.return),Rl(3,t)}catch(v){Ue(t,t.return,v)}try{ea(5,t,t.return)}catch(v){Ue(t,t.return,v)}}break;case 1:Jt(e,t),fr(t),n&512&&r!==null&&zs(r,r.return);break;case 5:if(Jt(e,t),fr(t),n&512&&r!==null&&zs(r,r.return),t.flags&32){var s=t.stateNode;try{la(s,"")}catch(v){Ue(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Vm(s,i),Wu(o,a);var u=Wu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?Qm(s,h):d==="dangerouslySetInnerHTML"?Km(s,h):d==="children"?la(s,h):md(s,d,h,u)}switch(o){case"input":Mu(s,i);break;case"textarea":zm(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Hs(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hs(s,!!i.multiple,i.defaultValue,!0):Hs(s,!!i.multiple,i.multiple?[]:"",!1))}s[ya]=i}catch(v){Ue(t,t.return,v)}}break;case 6:if(Jt(e,t),fr(t),n&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ue(t,t.return,v)}}break;case 3:if(Jt(e,t),fr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ha(e.containerInfo)}catch(v){Ue(t,t.return,v)}break;case 4:Jt(e,t),fr(t);break;case 13:Jt(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qd=Fe())),n&4&&Pf(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ct=(u=ct)||d,Jt(e,t),ct=u):Jt(e,t),fr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(p=W,f=p.child,p.tag){case 0:case 11:case 14:case 15:ea(4,p,p.return);break;case 1:zs(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Ue(n,r,v)}}break;case 5:zs(p,p.return);break;case 22:if(p.memoizedState!==null){If(h);continue}}f!==null?(f.return=p,W=f):If(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Hm("display",a))}catch(v){Ue(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ue(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jt(e,t),fr(t),n&4&&Pf(t);break;case 21:break;default:Jt(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wy(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(la(s,""),n.flags&=-33);var i=Rf(t);xc(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Rf(t);_c(t,o,a);break;default:throw Error(I(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zw(t,e,r){W=t,by(t)}function by(t,e,r){for(var n=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||co;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ct;o=co;var u=ct;if(co=a,(ct=l)&&!u)for(W=s;W!==null;)a=W,l=a.child,a.tag===22&&a.memoizedState!==null?Lf(s):l!==null?(l.return=a,W=l):Lf(s);for(;i!==null;)W=i,by(i),i=i.sibling;W=s,co=o,ct=u}Af(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Af(t)}}function Af(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Rl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ct)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Xt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yf(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yf(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ha(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}ct||e.flags&512&&wc(e)}catch(p){Ue(e,e.return,p)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function If(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function Lf(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Rl(4,e)}catch(l){Ue(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Ue(e,s,l)}}var i=e.return;try{wc(e)}catch(l){Ue(e,i,l)}break;case 5:var a=e.return;try{wc(e)}catch(l){Ue(e,a,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){W=null;break}var o=e.sibling;if(o!==null){o.return=e.return,W=o;break}W=e.return}}var Jw=Math.ceil,nl=Wr.ReactCurrentDispatcher,Kd=Wr.ReactCurrentOwner,Ht=Wr.ReactCurrentBatchConfig,pe=0,Xe=null,ze=null,st=0,Pt=0,Ws=Dn(0),Ze=0,ka=null,fs=0,Pl=0,Hd=0,ta=null,jt=null,Qd=0,vi=1/0,Tr=null,sl=!1,bc=null,En=null,ho=!1,yn=null,il=0,ra=0,kc=null,Ao=-1,Io=0;function wt(){return pe&6?Fe():Ao!==-1?Ao:Ao=Fe()}function jn(t){return t.mode&1?pe&2&&st!==0?st&-st:Iw.transition!==null?(Io===0&&(Io=ag()),Io):(t=xe,t!==0||(t=window.event,t=t===void 0?16:fg(t.type)),t):1}function cr(t,e,r,n){if(50<ra)throw ra=0,kc=null,Error(I(185));Va(t,r,n),(!(pe&2)||t!==Xe)&&(t===Xe&&(!(pe&2)&&(Pl|=r),Ze===4&&nn(t,st)),Nt(t,n),r===1&&pe===0&&!(e.mode&1)&&(vi=Fe()+500,Tl&&Un()))}function Nt(t,e){var r=t.callbackNode;I0(t,e);var n=Bo(t,t===Xe?st:0);if(n===0)r!==null&&Vh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Vh(r),e===1)t.tag===0?Aw(Df.bind(null,t)):Pg(Df.bind(null,t)),Ow(function(){!(pe&6)&&Un()}),r=null;else{switch(og(n)){case 1:r=_d;break;case 4:r=sg;break;case 16:r=qo;break;case 536870912:r=ig;break;default:r=qo}r=Ny(r,ky.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ky(t,e){if(Ao=-1,Io=0,pe&6)throw Error(I(327));var r=t.callbackNode;if(Ys()&&t.callbackNode!==r)return null;var n=Bo(t,t===Xe?st:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=al(t,n);else{e=n;var s=pe;pe|=2;var i=Ey();(Xe!==t||st!==e)&&(Tr=null,vi=Fe()+500,ls(t,e));do try{e_();break}catch(o){Sy(t,o)}while(!0);Ad(),nl.current=i,pe=s,ze!==null?e=0:(Xe=null,st=0,e=Ze)}if(e!==0){if(e===2&&(s=Zu(t),s!==0&&(n=s,e=Sc(t,s))),e===1)throw r=ka,ls(t,0),nn(t,n),Nt(t,Fe()),r;if(e===6)nn(t,n);else{if(s=t.current.alternate,!(n&30)&&!Yw(s)&&(e=al(t,n),e===2&&(i=Zu(t),i!==0&&(n=i,e=Sc(t,i))),e===1))throw r=ka,ls(t,0),nn(t,n),Nt(t,Fe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(I(345));case 2:Vn(t,jt,Tr);break;case 3:if(nn(t,n),(n&130023424)===n&&(e=Qd+500-Fe(),10<e)){if(Bo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sc(Vn.bind(null,t,jt,Tr),e);break}Vn(t,jt,Tr);break;case 4:if(nn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-ur(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jw(n/1960))-n,10<n){t.timeoutHandle=sc(Vn.bind(null,t,jt,Tr),n);break}Vn(t,jt,Tr);break;case 5:Vn(t,jt,Tr);break;default:throw Error(I(329))}}}return Nt(t,Fe()),t.callbackNode===r?ky.bind(null,t):null}function Sc(t,e){var r=ta;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=al(t,e),t!==2&&(e=jt,jt=r,e!==null&&Ec(e)),t}function Ec(t){jt===null?jt=t:jt.push.apply(jt,t)}function Yw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nn(t,e){for(e&=~Hd,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ur(e),n=1<<r;t[r]=-1,e&=~n}}function Df(t){if(pe&6)throw Error(I(327));Ys();var e=Bo(t,0);if(!(e&1))return Nt(t,Fe()),null;var r=al(t,e);if(t.tag!==0&&r===2){var n=Zu(t);n!==0&&(e=n,r=Sc(t,n))}if(r===1)throw r=ka,ls(t,0),nn(t,e),Nt(t,Fe()),r;if(r===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,jt,Tr),Nt(t,Fe()),null}function Gd(t,e){var r=pe;pe|=1;try{return t(e)}finally{pe=r,pe===0&&(vi=Fe()+500,Tl&&Un())}}function ps(t){yn!==null&&yn.tag===0&&!(pe&6)&&Ys();var e=pe;pe|=1;var r=Ht.transition,n=xe;try{if(Ht.transition=null,xe=1,t)return t()}finally{xe=n,Ht.transition=r,pe=e,!(pe&6)&&Un()}}function Zd(){Pt=Ws.current,Oe(Ws)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Tw(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Nd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ho();break;case 3:gi(),Oe(Tt),Oe(ht),Fd();break;case 5:$d(n);break;case 4:gi();break;case 13:Oe(Pe);break;case 19:Oe(Pe);break;case 10:Id(n.type._context);break;case 22:case 23:Zd()}r=r.return}if(Xe=t,ze=t=Cn(t.current,null),st=Pt=e,Ze=0,ka=null,Hd=Pl=fs=0,jt=ta=null,Qn!==null){for(e=0;e<Qn.length;e++)if(r=Qn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Qn=null}return t}function Sy(t,e){do{var r=ze;try{if(Ad(),No.current=rl,tl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tl=!1}if(hs=0,Ye=Qe=Ae=null,Xi=!1,_a=0,Kd.current=null,r===null||r.return===null){Ze=1,ka=e,ze=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=st,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=kf(a);if(f!==null){f.flags&=-257,Sf(f,a,o,i,e),f.mode&1&&bf(i,u,e),e=f,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){bf(i,u,e),Jd();break e}l=Error(I(426))}}else if(Ne&&o.mode&1){var x=kf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Sf(x,a,o,i,e),Rd(yi(l,o));break e}}i=l=yi(l,o),Ze!==4&&(Ze=2),ta===null?ta=[i]:ta.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=oy(i,l,e);gf(i,g);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(En===null||!En.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=ly(i,o,e);gf(i,b);break e}}i=i.return}while(i!==null)}Cy(r)}catch(O){e=O,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function Ey(){var t=nl.current;return nl.current=rl,t===null?rl:t}function Jd(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),Xe===null||!(fs&268435455)&&!(Pl&268435455)||nn(Xe,st)}function al(t,e){var r=pe;pe|=2;var n=Ey();(Xe!==t||st!==e)&&(Tr=null,ls(t,e));do try{Xw();break}catch(s){Sy(t,s)}while(!0);if(Ad(),pe=r,nl.current=n,ze!==null)throw Error(I(261));return Xe=null,st=0,Ze}function Xw(){for(;ze!==null;)jy(ze)}function e_(){for(;ze!==null&&!E0();)jy(ze)}function jy(t){var e=Oy(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?Cy(t):ze=e,Kd.current=null}function Cy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Hw(r,e),r!==null){r.flags&=32767,ze=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,ze=null;return}}else if(r=Kw(r,e,Pt),r!==null){ze=r;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Ze===0&&(Ze=5)}function Vn(t,e,r){var n=xe,s=Ht.transition;try{Ht.transition=null,xe=1,t_(t,e,r,n)}finally{Ht.transition=s,xe=n}return null}function t_(t,e,r,n){do Ys();while(yn!==null);if(pe&6)throw Error(I(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(L0(t,i),t===Xe&&(ze=Xe=null,st=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ho||(ho=!0,Ny(qo,function(){return Ys(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var a=xe;xe=1;var o=pe;pe|=4,Kd.current=null,Gw(t,r),xy(r,t),xw(rc),Vo=!!tc,rc=tc=null,t.current=r,Zw(r),j0(),pe=o,xe=a,Ht.transition=i}else t.current=r;if(ho&&(ho=!1,yn=t,il=s),i=t.pendingLanes,i===0&&(En=null),O0(r.stateNode),Nt(t,Fe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(sl)throw sl=!1,t=bc,bc=null,t;return il&1&&t.tag!==0&&Ys(),i=t.pendingLanes,i&1?t===kc?ra++:(ra=0,kc=t):ra=0,Un(),null}function Ys(){if(yn!==null){var t=og(il),e=Ht.transition,r=xe;try{if(Ht.transition=null,xe=16>t?16:t,yn===null)var n=!1;else{if(t=yn,yn=null,il=0,pe&6)throw Error(I(331));var s=pe;for(pe|=4,W=t.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ea(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var p=d.sibling,f=d.return;if(vy(d),d===u){W=null;break}if(p!==null){p.return=f,W=p;break}W=f}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ea(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,W=g;break e}W=i.return}}var m=t.current;for(W=m;W!==null;){a=W;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,W=y;else e:for(a=m;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rl(9,o)}}catch(O){Ue(o,o.return,O)}if(o===a){W=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,W=b;break e}W=o.return}}if(pe=s,Un(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(kl,t)}catch{}n=!0}return n}finally{xe=r,Ht.transition=e}}return!1}function Uf(t,e,r){e=yi(r,e),e=oy(t,e,1),t=Sn(t,e,1),e=wt(),t!==null&&(Va(t,1,e),Nt(t,e))}function Ue(t,e,r){if(t.tag===3)Uf(t,t,r);else for(;e!==null;){if(e.tag===3){Uf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(En===null||!En.has(n))){t=yi(r,t),t=ly(e,t,1),e=Sn(e,t,1),t=wt(),e!==null&&(Va(e,1,t),Nt(e,t));break}}e=e.return}}function r_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&r,Xe===t&&(st&r)===r&&(Ze===4||Ze===3&&(st&130023424)===st&&500>Fe()-Qd?ls(t,0):Hd|=r),Nt(t,e)}function Ty(t,e){e===0&&(t.mode&1?(e=to,to<<=1,!(to&130023424)&&(to=4194304)):e=1);var r=wt();t=qr(t,e),t!==null&&(Va(t,e,r),Nt(t,r))}function n_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ty(t,r)}function s_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(e),Ty(t,r)}var Oy;Oy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Ct=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ct=!1,Ww(t,e,r);Ct=!!(t.flags&131072)}else Ct=!1,Ne&&e.flags&1048576&&Ag(e,Zo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Po(t,e),t=e.pendingProps;var s=fi(e,ht.current);Js(e,r),s=qd(null,e,n,t,s,r);var i=Bd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(n)?(i=!0,Qo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dd(e),s.updater=Nl,e.stateNode=s,s._reactInternals=e,dc(e,n,t,r),e=pc(null,e,n,!0,i,r)):(e.tag=0,Ne&&i&&Od(e),yt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Po(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=a_(n),t=Xt(n,t),s){case 0:e=fc(null,e,n,t,r);break e;case 1:e=Cf(null,e,n,t,r);break e;case 11:e=Ef(null,e,n,t,r);break e;case 14:e=jf(null,e,n,Xt(n.type,t),r);break e}throw Error(I(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xt(n,s),fc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xt(n,s),Cf(t,e,n,s,r);case 3:e:{if(hy(e),t===null)throw Error(I(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Fg(t,e),Xo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yi(Error(I(423)),e),e=Tf(t,e,n,r,s);break e}else if(n!==s){s=yi(Error(I(424)),e),e=Tf(t,e,n,r,s);break e}else for(Lt=kn(e.stateNode.containerInfo.firstChild),Ut=e,Ne=!0,ir=null,r=Ug(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pi(),n===s){e=Br(t,e,r);break e}yt(t,e,n,r)}e=e.child}return e;case 5:return Mg(e),t===null&&lc(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,nc(n,s)?a=null:i!==null&&nc(n,i)&&(e.flags|=32),dy(t,e),yt(t,e,a,r),e.child;case 6:return t===null&&lc(e),null;case 13:return fy(t,e,r);case 4:return Ud(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=mi(e,null,n,r):yt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xt(n,s),Ef(t,e,n,s,r);case 7:return yt(t,e,e.pendingProps,r),e.child;case 8:return yt(t,e,e.pendingProps.children,r),e.child;case 12:return yt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ce(Jo,n._currentValue),n._currentValue=a,i!==null)if(dr(i.value,a)){if(i.children===s.children&&!Tt.current){e=Br(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ur(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),uc(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),uc(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}yt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Js(e,r),s=Qt(s),n=n(s),e.flags|=1,yt(t,e,n,r),e.child;case 14:return n=e.type,s=Xt(n,e.pendingProps),s=Xt(n.type,s),jf(t,e,n,s,r);case 15:return uy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xt(n,s),Po(t,e),e.tag=1,Ot(n)?(t=!0,Qo(e)):t=!1,Js(e,r),ay(e,n,s),dc(e,n,s,r),pc(null,e,n,!0,t,r);case 19:return py(t,e,r);case 22:return cy(t,e,r)}throw Error(I(156,e.tag))};function Ny(t,e){return ng(t,e)}function i_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,r,n){return new i_(t,e,r,n)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a_(t){if(typeof t=="function")return Yd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yd)return 11;if(t===vd)return 14}return 2}function Cn(t,e){var r=t.alternate;return r===null?(r=Kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lo(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Yd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ls:return us(r.children,s,i,e);case gd:a=8,s|=8;break;case Lu:return t=Kt(12,r,e,s|2),t.elementType=Lu,t.lanes=i,t;case Du:return t=Kt(13,r,e,s),t.elementType=Du,t.lanes=i,t;case Uu:return t=Kt(19,r,e,s),t.elementType=Uu,t.lanes=i,t;case Mm:return Al(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $m:a=10;break e;case Fm:a=9;break e;case yd:a=11;break e;case vd:a=14;break e;case Yr:a=16,n=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Kt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function us(t,e,r,n){return t=Kt(7,t,n,e),t.lanes=r,t}function Al(t,e,r,n){return t=Kt(22,t,n,e),t.elementType=Mm,t.lanes=r,t.stateNode={isHidden:!1},t}function xu(t,e,r){return t=Kt(6,t,null,e),t.lanes=r,t}function bu(t,e,r){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o_(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xd(t,e,r,n,s,i,a,o,l){return t=new o_(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(i),t}function l_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ry(t){if(!t)return Pn;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var r=t.type;if(Ot(r))return Rg(t,r,e)}return e}function Py(t,e,r,n,s,i,a,o,l){return t=Xd(r,n,!0,t,s,i,a,o,l),t.context=Ry(null),r=t.current,n=wt(),s=jn(r),i=Ur(n,s),i.callback=e??null,Sn(r,i,s),t.current.lanes=s,Va(t,s,n),Nt(t,n),t}function Il(t,e,r,n){var s=e.current,i=wt(),a=jn(s);return r=Ry(r),e.context===null?e.context=r:e.pendingContext=r,e=Ur(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Sn(s,e,a),t!==null&&(cr(t,s,a,i),Oo(t,s,a)),a}function ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $f(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function eh(t,e){$f(t,e),(t=t.alternate)&&$f(t,e)}function u_(){return null}var Ay=typeof reportError=="function"?reportError:function(t){console.error(t)};function th(t){this._internalRoot=t}Ll.prototype.render=th.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Il(t,e,null,null)};Ll.prototype.unmount=th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Il(null,t,null,null)}),e[Mr]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=cg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<rn.length&&e!==0&&e<rn[r].priority;r++);rn.splice(r,0,t),r===0&&hg(t)}};function rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ff(){}function c_(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ol(a);i.call(u)}}var a=Py(e,n,t,0,null,!1,!1,"",Ff);return t._reactRootContainer=a,t[Mr]=a.current,ma(t.nodeType===8?t.parentNode:t),ps(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=ol(l);o.call(u)}}var l=Xd(t,0,!1,null,null,!1,!1,"",Ff);return t._reactRootContainer=l,t[Mr]=l.current,ma(t.nodeType===8?t.parentNode:t),ps(function(){Il(e,l,r,n)}),l}function Ul(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ol(a);o.call(l)}}Il(e,a,t,s)}else a=c_(r,e,t,s,n);return ol(a)}lg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Vi(e.pendingLanes);r!==0&&(xd(e,r|1),Nt(e,Fe()),!(pe&6)&&(vi=Fe()+500,Un()))}break;case 13:ps(function(){var n=qr(t,1);if(n!==null){var s=wt();cr(n,t,1,s)}}),eh(t,1)}};bd=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var r=wt();cr(e,t,134217728,r)}eh(t,134217728)}};ug=function(t){if(t.tag===13){var e=jn(t),r=qr(t,e);if(r!==null){var n=wt();cr(r,t,e,n)}eh(t,e)}};cg=function(){return xe};dg=function(t,e){var r=xe;try{return xe=t,e()}finally{xe=r}};Hu=function(t,e,r){switch(e){case"input":if(Mu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Cl(n);if(!s)throw Error(I(90));Bm(n),Mu(n,s)}}}break;case"textarea":zm(t,r);break;case"select":e=r.value,e!=null&&Hs(t,!!r.multiple,e,!1)}};Jm=Gd;Ym=ps;var d_={usingClientEntryPoint:!1,Events:[Wa,Fs,Cl,Gm,Zm,Gd]},Ui={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h_={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||u_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{kl=fo.inject(h_),_r=fo}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d_;Mt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(e))throw Error(I(200));return l_(t,e,null,r)};Mt.createRoot=function(t,e){if(!rh(t))throw Error(I(299));var r=!1,n="",s=Ay;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xd(t,1,!1,null,null,r,!1,n,s),t[Mr]=e.current,ma(t.nodeType===8?t.parentNode:t),new th(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=tg(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return ps(t)};Mt.hydrate=function(t,e,r){if(!Dl(e))throw Error(I(200));return Ul(null,t,e,!0,r)};Mt.hydrateRoot=function(t,e,r){if(!rh(t))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Ay;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Py(e,null,t,1,r??null,s,!1,i,a),t[Mr]=e.current,ma(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ll(e)};Mt.render=function(t,e,r){if(!Dl(e))throw Error(I(200));return Ul(null,t,e,!1,r)};Mt.unmountComponentAtNode=function(t){if(!Dl(t))throw Error(I(40));return t._reactRootContainer?(ps(function(){Ul(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};Mt.unstable_batchedUpdates=Gd;Mt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Dl(r))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Ul(t,e,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function Iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iy)}catch(t){console.error(t)}}Iy(),Im.exports=Mt;var f_=Im.exports,Ly,Mf=f_;Ly=Mf.createRoot,Mf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sa.apply(this,arguments)}var vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vn||(vn={}));const qf="popstate";function p_(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return jc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ll(s)}return g_(e,r,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m_(){return Math.random().toString(36).substr(2,8)}function Bf(t,e){return{usr:t.state,key:t.key,idx:e}}function jc(t,e,r,n){return r===void 0&&(r=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ji(e):e,{state:r,key:e&&e.key||n||m_()})}function ll(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ji(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function g_(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=vn.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Sa({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=vn.Pop;let x=d(),g=x==null?null:x-u;u=x,l&&l({action:o,location:v.location,delta:g})}function p(x,g){o=vn.Push;let m=jc(v.location,x,g);u=d()+1;let y=Bf(m,u),b=v.createHref(m);try{a.pushState(y,"",b)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(b)}i&&l&&l({action:o,location:v.location,delta:1})}function f(x,g){o=vn.Replace;let m=jc(v.location,x,g);u=d();let y=Bf(m,u),b=v.createHref(m);a.replaceState(y,"",b),i&&l&&l({action:o,location:v.location,delta:0})}function w(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:ll(x);return m=m.replace(/ $/,"%20"),Me(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return t(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(qf,h),l=x,()=>{s.removeEventListener(qf,h),l=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let g=w(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(x){return a.go(x)}};return v}var Vf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vf||(Vf={}));function y_(t,e,r){return r===void 0&&(r="/"),v_(t,e,r)}function v_(t,e,r,n){let s=typeof e=="string"?ji(e):e,i=sh(s.pathname||"/",r);if(i==null)return null;let a=Dy(t);w_(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=R_(i);o=T_(a[l],u)}return o}function Dy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Tn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dy(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:j_(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Uy(i.path))s(i,a,l)}),e}function Uy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Uy(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function w_(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:C_(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const __=/^:[\w-]+$/,x_=3,b_=2,k_=1,S_=10,E_=-2,zf=t=>t==="*";function j_(t,e){let r=t.split("/"),n=r.length;return r.some(zf)&&(n+=E_),e&&(n+=b_),r.filter(s=>!zf(s)).reduce((s,i)=>s+(__.test(i)?x_:i===""?k_:S_),n)}function C_(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function T_(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=O_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Tn([i,h.pathname]),pathnameBase:D_(Tn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Tn([i,h.pathnameBase]))}return a}function O_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=N_(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[h];return f&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function N_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),nh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function R_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const P_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A_=t=>P_.test(t);function I_(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ji(t):t,i;if(r)if(A_(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),nh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Wf(r.substring(1),"/"):i=Wf(r,e)}else i=e;return{pathname:i,search:U_(n),hash:$_(s)}}function Wf(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ku(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ih(t,e){let r=L_(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ah(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ji(t):(s=Sa({},t),Me(!s.pathname||!s.pathname.includes("?"),ku("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),ku("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),ku("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=I_(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tn=t=>t.join("/").replace(/\/\/+/g,"/"),D_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $y=["post","put","patch","delete"];new Set($y);const M_=["get",...$y];new Set(M_);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ea.apply(this,arguments)}const oh=T.createContext(null),q_=T.createContext(null),$n=T.createContext(null),$l=T.createContext(null),Kr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=T.createContext(null);function B_(t,e){let{relative:r}=e===void 0?{}:e;Ci()||Me(!1);let{basename:n,navigator:s}=T.useContext($n),{hash:i,pathname:a,search:o}=qy(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Tn([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Ci(){return T.useContext($l)!=null}function kr(){return Ci()||Me(!1),T.useContext($l).location}function My(t){T.useContext($n).static||T.useLayoutEffect(t)}function Hr(){let{isDataRoute:t}=T.useContext(Kr);return t?rx():V_()}function V_(){Ci()||Me(!1);let t=T.useContext(oh),{basename:e,future:r,navigator:n}=T.useContext($n),{matches:s}=T.useContext(Kr),{pathname:i}=kr(),a=JSON.stringify(ih(s,r.v7_relativeSplatPath)),o=T.useRef(!1);return My(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=ah(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Tn([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}function z_(){let{matches:t}=T.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function qy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext($n),{matches:s}=T.useContext(Kr),{pathname:i}=kr(),a=JSON.stringify(ih(s,n.v7_relativeSplatPath));return T.useMemo(()=>ah(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function W_(t,e){return K_(t,e)}function K_(t,e,r,n){Ci()||Me(!1);let{navigator:s}=T.useContext($n),{matches:i}=T.useContext(Kr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=kr(),d;if(e){var h;let x=typeof e=="string"?ji(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Me(!1),d=x}else d=u;let p=d.pathname||"/",f=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=y_(t,{pathname:f}),v=J_(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Tn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Tn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&v?T.createElement($l.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vn.Pop}},v):v}function H_(){let t=tx(),e=F_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,null)}const Q_=T.createElement(H_,null);class G_ extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(Kr.Provider,{value:this.props.routeContext},T.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z_(t){let{routeContext:e,match:r,children:n}=t,s=T.useContext(oh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Kr.Provider,{value:e},n)}function J_(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Me(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let f,w=!1,v=null,x=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Q_,l&&(u<0&&p===0?(nx("route-fallback"),w=!0,x=null):u===p&&(w=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,p+1)),m=()=>{let y;return f?y=v:w?y=x:h.route.Component?y=T.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,T.createElement(Z_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(G_,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var By=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(By||{}),Vy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vy||{});function Y_(t){let e=T.useContext(oh);return e||Me(!1),e}function X_(t){let e=T.useContext(q_);return e||Me(!1),e}function ex(t){let e=T.useContext(Kr);return e||Me(!1),e}function zy(t){let e=ex(),r=e.matches[e.matches.length-1];return r.route.id||Me(!1),r.route.id}function tx(){var t;let e=T.useContext(Fy),r=X_(),n=zy();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function rx(){let{router:t}=Y_(By.UseNavigateStable),e=zy(Vy.UseNavigateStable),r=T.useRef(!1);return My(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ea({fromRouteId:e},i)))},[t,e])}const Kf={};function nx(t,e,r){Kf[t]||(Kf[t]=!0)}function sx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Wy(t){let{to:e,replace:r,state:n,relative:s}=t;Ci()||Me(!1);let{future:i,static:a}=T.useContext($n),{matches:o}=T.useContext(Kr),{pathname:l}=kr(),u=Hr(),d=ah(e,ih(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function jr(t){Me(!1)}function ix(t){let{basename:e="/",children:r=null,location:n,navigationType:s=vn.Pop,navigator:i,static:a=!1,future:o}=t;Ci()&&Me(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:a,future:Ea({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=ji(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:w="default"}=n,v=T.useMemo(()=>{let x=sh(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:f,key:w},navigationType:s}},[l,d,h,p,f,w,s]);return v==null?null:T.createElement($n.Provider,{value:u},T.createElement($l.Provider,{children:r,value:v}))}function ax(t){let{children:e,location:r}=t;return W_(Cc(e),r)}new Promise(()=>{});function Cc(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,s)=>{if(!T.isValidElement(n))return;let i=[...e,s];if(n.type===T.Fragment){r.push.apply(r,Cc(n.props.children,i));return}n.type!==jr&&Me(!1),!n.props.index||!n.props.children||Me(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Cc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}function ox(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function lx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ux(t,e){return t.button===0&&(!e||e==="_self")&&!lx(t)}function Oc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function cx(t,e){let r=Oc(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const dx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hx="6";try{window.__reactRouterVersion=hx}catch{}const fx="startTransition",Hf=r0[fx];function px(t){let{basename:e,children:r,future:n,window:s}=t,i=T.useRef();i.current==null&&(i.current=p_({window:s,v5Compat:!0}));let a=i.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=T.useCallback(h=>{u&&Hf?Hf(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>sx(n),[n]),T.createElement(ix,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=T.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=ox(e,dx),{basename:f}=T.useContext($n),w,v=!1;if(typeof u=="string"&&gx.test(u)&&(w=u,mx))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),O=sh(b.pathname,f);b.origin===y.origin&&O!=null?u=O+b.search+b.hash:v=!0}catch{}let x=B_(u,{relative:s}),g=yx(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(y){n&&n(y),y.defaultPrevented||g(y)}return T.createElement("a",Tc({},p,{href:w||x,onClick:v||i?n:m,ref:r,target:l}))});var Qf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qf||(Qf={}));var Gf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gf||(Gf={}));function yx(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Hr(),u=kr(),d=qy(t,{relative:a});return T.useCallback(h=>{if(ux(h,r)){h.preventDefault();let p=n!==void 0?n:ll(u)===ll(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,n,s,r,t,i,a,o])}function lh(t){let e=T.useRef(Oc(t)),r=T.useRef(!1),n=kr(),s=T.useMemo(()=>cx(n.search,r.current?null:e.current),[n.search]),i=Hr(),a=T.useCallback((o,l)=>{const u=Oc(typeof o=="function"?o(s):o);r.current=!0,i("?"+u,l)},[i,s]);return[s,a]}var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vx={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},on,ld,hm,wx=(hm=class{constructor(){ee(this,on,vx);ee(this,ld,!1)}setTimeoutProvider(t){F(this,on,t)}setTimeout(t,e){return _(this,on).setTimeout(t,e)}clearTimeout(t){_(this,on).clearTimeout(t)}setInterval(t,e){return _(this,on).setInterval(t,e)}clearInterval(t){_(this,on).clearInterval(t)}},on=new WeakMap,ld=new WeakMap,hm),Zn=new wx;function _x(t){setTimeout(t,0)}var ms=typeof window>"u"||"Deno"in globalThis;function vt(){}function xx(t,e){return typeof t=="function"?t(e):t}function Nc(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ky(t,e){return Math.max(t+(e||0)-Date.now(),0)}function On(t,e){return typeof t=="function"?t(e):t}function Vt(t,e){return typeof t=="function"?t(e):t}function Zf(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==uh(a,e.options))return!1}else if(!ja(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Jf(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(gs(e.options.mutationKey)!==gs(i))return!1}else if(!ja(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function uh(t,e){return((e==null?void 0:e.queryKeyHashFn)||gs)(t)}function gs(t){return JSON.stringify(t,(e,r)=>Rc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ja(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ja(t[r],e[r])):!1}var bx=Object.prototype.hasOwnProperty;function Hy(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=Yf(t)&&Yf(e);if(!n&&!(Rc(t)&&Rc(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let u=0;for(let d=0;d<o;d++){const h=n?d:a[d],p=t[h],f=e[h];if(p===f){l[h]=p,(n?d<i:bx.call(t,h))&&u++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){l[h]=f;continue}const w=Hy(p,f,r+1);l[h]=w,w===p&&u++}return i===o&&u===i?t:l}function ul(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Yf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rc(t){if(!Xf(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Xf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Xf(t){return Object.prototype.toString.call(t)==="[object Object]"}function kx(t){return new Promise(e=>{Zn.setTimeout(e,t)})}function Pc(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Hy(t,e):e}function Sx(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ex(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ch=Symbol();function Qy(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ch?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dh(t,e){return typeof t=="function"?t(...e):!!t}function jx(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var Xn,ln,ei,fm,Cx=(fm=class extends Ti{constructor(){super();ee(this,Xn);ee(this,ln);ee(this,ei);F(this,ei,e=>{if(!ms&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,ln)||this.setEventListener(_(this,ei))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ln))==null||e.call(this),F(this,ln,void 0))}setEventListener(e){var r;F(this,ei,e),(r=_(this,ln))==null||r.call(this),F(this,ln,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_(this,Xn)!==e&&(F(this,Xn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _(this,Xn)=="boolean"?_(this,Xn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xn=new WeakMap,ln=new WeakMap,ei=new WeakMap,fm),hh=new Cx;function Ac(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var Tx=_x;function Ox(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=Tx;const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Ge=Ox(),ti,un,ri,pm,Nx=(pm=class extends Ti{constructor(){super();ee(this,ti,!0);ee(this,un);ee(this,ri);F(this,ri,e=>{if(!ms&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,un)||this.setEventListener(_(this,ri))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,un))==null||e.call(this),F(this,un,void 0))}setEventListener(e){var r;F(this,ri,e),(r=_(this,un))==null||r.call(this),F(this,un,e(this.setOnline.bind(this)))}setOnline(e){_(this,ti)!==e&&(F(this,ti,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _(this,ti)}},ti=new WeakMap,un=new WeakMap,ri=new WeakMap,pm),cl=new Nx;function Rx(t){return Math.min(1e3*2**t,3e4)}function Gy(t){return(t??"online")==="online"?cl.isOnline():!0}var Ic=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zy(t){let e=!1,r=0,n;const s=Ac(),i=()=>s.status!=="pending",a=v=>{var x;if(!i()){const g=new Ic(v);p(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>hh.isFocused()&&(t.networkMode==="always"||cl.isOnline())&&t.canRun(),d=()=>Gy(t.networkMode)&&t.canRun(),h=v=>{i()||(n==null||n(),s.resolve(v))},p=v=>{i()||(n==null||n(),s.reject(v))},f=()=>new Promise(v=>{var x;n=g=>{(i()||u())&&v(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;n=void 0,i()||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(i())return;let v;const x=r===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(h).catch(g=>{var E;if(i())return;const m=t.retry??(ms?0:3),y=t.retryDelay??Rx,b=typeof y=="function"?y(r,g):y,O=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(e||!O){p(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),kx(b).then(()=>u()?void 0:f()).then(()=>{e?p(g):w()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?w():f().then(w),s)}}var es,mm,Jy=(mm=class{constructor(){ee(this,es)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nc(this.gcTime)&&F(this,es,Zn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ms?1/0:5*60*1e3))}clearGcTimeout(){_(this,es)&&(Zn.clearTimeout(_(this,es)),F(this,es,void 0))}},es=new WeakMap,mm),ts,ni,Bt,rs,Je,Ua,ns,tr,Cr,gm,Px=(gm=class extends Jy{constructor(e){super();ee(this,tr);ee(this,ts);ee(this,ni);ee(this,Bt);ee(this,rs);ee(this,Je);ee(this,Ua);ee(this,ns);F(this,ns,!1),F(this,Ua,e.defaultOptions),this.setOptions(e.options),this.observers=[],F(this,rs,e.client),F(this,Bt,_(this,rs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,F(this,ts,tp(this.options)),this.state=e.state??_(this,ts),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Je))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,Ua),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=tp(this.options);r.data!==void 0&&(this.setState(ep(r.data,r.dataUpdatedAt)),F(this,ts,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Bt).remove(this)}setData(e,r){const n=Pc(this.state.data,e,this.options);return le(this,tr,Cr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){le(this,tr,Cr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=_(this,Je))==null?void 0:n.promise;return(s=_(this,Je))==null||s.cancel(e),r?r.then(vt).catch(vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,ts))}isActive(){return this.observers.some(e=>Vt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ch||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>On(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ky(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Je))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Je))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Bt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_(this,Je)&&(_(this,ns)?_(this,Je).cancel({revert:!0}):_(this,Je).cancelRetry()),this.scheduleGc()),_(this,Bt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,tr,Cr).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,p,f,w,v,x,g,m,y;if(this.state.fetchStatus!=="idle"&&((l=_(this,Je))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,Je))return _(this,Je).continueRetry(),_(this,Je).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(O=>O.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(F(this,ns,!0),n.signal)})},i=()=>{const b=Qy(this.options,r),E=(()=>{const R={client:_(this,rs),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return F(this,ns,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,rs),state:this.state,fetchFn:i};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(o,this),F(this,ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&le(this,tr,Cr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),F(this,Je,Zy({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Ic&&b.revert&&this.setState({..._(this,ni),fetchStatus:"idle"}),n.abort()},onFail:(b,O)=>{le(this,tr,Cr).call(this,{type:"failed",failureCount:b,error:O})},onPause:()=>{le(this,tr,Cr).call(this,{type:"pause"})},onContinue:()=>{le(this,tr,Cr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await _(this,Je).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(f=(p=_(this,Bt).config).onSuccess)==null||f.call(p,b,this),(v=(w=_(this,Bt).config).onSettled)==null||v.call(w,b,this.state.error,this),b}catch(b){if(b instanceof Ic){if(b.silent)return _(this,Je).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw le(this,tr,Cr).call(this,{type:"error",error:b}),(g=(x=_(this,Bt).config).onError)==null||g.call(x,b,this),(y=(m=_(this,Bt).config).onSettled)==null||y.call(m,this.state.data,b,this),b}finally{this.scheduleGc()}}},ts=new WeakMap,ni=new WeakMap,Bt=new WeakMap,rs=new WeakMap,Je=new WeakMap,Ua=new WeakMap,ns=new WeakMap,tr=new WeakSet,Cr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Yy(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...ep(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return F(this,ni,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,Bt).notify({query:this,type:"updated",action:e})})},gm);function Yy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ep(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function tp(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kt,fe,$a,mt,ss,si,Rr,cn,Fa,ii,ai,is,as,dn,oi,ve,Wi,Lc,Dc,Uc,$c,Fc,Mc,qc,Xy,ym,Ax=(ym=class extends Ti{constructor(e,r){super();ee(this,ve);ee(this,kt);ee(this,fe);ee(this,$a);ee(this,mt);ee(this,ss);ee(this,si);ee(this,Rr);ee(this,cn);ee(this,Fa);ee(this,ii);ee(this,ai);ee(this,is);ee(this,as);ee(this,dn);ee(this,oi,new Set);this.options=r,F(this,kt,e),F(this,cn,null),F(this,Rr,Ac()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,fe).addObserver(this),rp(_(this,fe),this.options)?le(this,ve,Wi).call(this):this.updateResult(),le(this,ve,$c).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bc(_(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bc(_(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,ve,Fc).call(this),le(this,ve,Mc).call(this),_(this,fe).removeObserver(this)}setOptions(e){const r=this.options,n=_(this,fe);if(this.options=_(this,kt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vt(this.options.enabled,_(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,ve,qc).call(this),_(this,fe).setOptions(this.options),r._defaulted&&!ul(this.options,r)&&_(this,kt).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,fe),observer:this});const s=this.hasListeners();s&&np(_(this,fe),n,this.options,r)&&le(this,ve,Wi).call(this),this.updateResult(),s&&(_(this,fe)!==n||Vt(this.options.enabled,_(this,fe))!==Vt(r.enabled,_(this,fe))||On(this.options.staleTime,_(this,fe))!==On(r.staleTime,_(this,fe)))&&le(this,ve,Lc).call(this);const i=le(this,ve,Dc).call(this);s&&(_(this,fe)!==n||Vt(this.options.enabled,_(this,fe))!==Vt(r.enabled,_(this,fe))||i!==_(this,dn))&&le(this,ve,Uc).call(this,i)}getOptimisticResult(e){const r=_(this,kt).getQueryCache().build(_(this,kt),e),n=this.createResult(r,e);return Lx(this,n)&&(F(this,mt,n),F(this,si,this.options),F(this,ss,_(this,fe).state)),n}getCurrentResult(){return _(this,mt)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Rr).status==="pending"&&_(this,Rr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){_(this,oi).add(e)}getCurrentQuery(){return _(this,fe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_(this,kt).defaultQueryOptions(e),n=_(this,kt).getQueryCache().build(_(this,kt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return le(this,ve,Wi).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,mt)))}createResult(e,r){var H;const n=_(this,fe),s=this.options,i=_(this,mt),a=_(this,ss),o=_(this,si),u=e!==n?e.state:_(this,$a),{state:d}=e;let h={...d},p=!1,f;if(r._optimisticResults){const j=this.hasListeners(),K=!j&&rp(e,r),z=j&&np(e,n,r,s);(K||z)&&(h={...h,...Yy(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:x}=h;f=h.data;let g=!1;if(r.placeholderData!==void 0&&f===void 0&&x==="pending"){let j;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=i.data,g=!0):j=typeof r.placeholderData=="function"?r.placeholderData((H=_(this,ai))==null?void 0:H.state.data,_(this,ai)):r.placeholderData,j!==void 0&&(x="success",f=Pc(i==null?void 0:i.data,j,r),p=!0)}if(r.select&&f!==void 0&&!g)if(i&&f===(a==null?void 0:a.data)&&r.select===_(this,Fa))f=_(this,ii);else try{F(this,Fa,r.select),f=r.select(f),f=Pc(i==null?void 0:i.data,f,r),F(this,ii,f),F(this,cn,null)}catch(j){F(this,cn,j)}_(this,cn)&&(w=_(this,cn),f=_(this,ii),v=Date.now(),x="error");const m=h.fetchStatus==="fetching",y=x==="pending",b=x==="error",O=y&&m,E=f!==void 0,P={status:x,fetchStatus:h.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:O,isLoading:O,data:f,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&E,isStale:fh(e,r),refetch:this.refetch,promise:_(this,Rr),isEnabled:Vt(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=P.data!==void 0,K=P.status==="error"&&!j,z=ce=>{K?ce.reject(P.error):j&&ce.resolve(P.data)},M=()=>{const ce=F(this,Rr,P.promise=Ac());z(ce)},X=_(this,Rr);switch(X.status){case"pending":e.queryHash===n.queryHash&&z(X);break;case"fulfilled":(K||P.data!==X.value)&&M();break;case"rejected":(!K||P.error!==X.reason)&&M();break}}return P}updateResult(){const e=_(this,mt),r=this.createResult(_(this,fe),this.options);if(F(this,ss,_(this,fe).state),F(this,si,this.options),_(this,ss).data!==void 0&&F(this,ai,_(this,fe)),ul(r,e))return;F(this,mt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,oi).size)return!0;const a=new Set(i??_(this,oi));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,mt)).some(o=>{const l=o;return _(this,mt)[l]!==e[l]&&a.has(l)})};le(this,ve,Xy).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,ve,$c).call(this)}},kt=new WeakMap,fe=new WeakMap,$a=new WeakMap,mt=new WeakMap,ss=new WeakMap,si=new WeakMap,Rr=new WeakMap,cn=new WeakMap,Fa=new WeakMap,ii=new WeakMap,ai=new WeakMap,is=new WeakMap,as=new WeakMap,dn=new WeakMap,oi=new WeakMap,ve=new WeakSet,Wi=function(e){le(this,ve,qc).call(this);let r=_(this,fe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(vt)),r},Lc=function(){le(this,ve,Fc).call(this);const e=On(this.options.staleTime,_(this,fe));if(ms||_(this,mt).isStale||!Nc(e))return;const n=Ky(_(this,mt).dataUpdatedAt,e)+1;F(this,is,Zn.setTimeout(()=>{_(this,mt).isStale||this.updateResult()},n))},Dc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,fe)):this.options.refetchInterval)??!1},Uc=function(e){le(this,ve,Mc).call(this),F(this,dn,e),!(ms||Vt(this.options.enabled,_(this,fe))===!1||!Nc(_(this,dn))||_(this,dn)===0)&&F(this,as,Zn.setInterval(()=>{(this.options.refetchIntervalInBackground||hh.isFocused())&&le(this,ve,Wi).call(this)},_(this,dn)))},$c=function(){le(this,ve,Lc).call(this),le(this,ve,Uc).call(this,le(this,ve,Dc).call(this))},Fc=function(){_(this,is)&&(Zn.clearTimeout(_(this,is)),F(this,is,void 0))},Mc=function(){_(this,as)&&(Zn.clearInterval(_(this,as)),F(this,as,void 0))},qc=function(){const e=_(this,kt).getQueryCache().build(_(this,kt),this.options);if(e===_(this,fe))return;const r=_(this,fe);F(this,fe,e),F(this,$a,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Xy=function(e){Ge.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_(this,mt))}),_(this,kt).getQueryCache().notify({query:_(this,fe),type:"observerResultsUpdated"})})},ym);function Ix(t,e){return Vt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function rp(t,e){return Ix(t,e)||t.state.data!==void 0&&Bc(t,e,e.refetchOnMount)}function Bc(t,e,r){if(Vt(e.enabled,t)!==!1&&On(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&fh(t,e)}return!1}function np(t,e,r,n){return(t!==e||Vt(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&fh(t,r)}function fh(t,e){return Vt(e.enabled,t)!==!1&&t.isStaleByTime(On(e.staleTime,t))}function Lx(t,e){return!ul(t.getCurrentResult(),e)}function sp(t){return{onFetch:(e,r)=>{var d,h,p,f,w;const n=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=y=>{jx(y,()=>e.signal,()=>v=!0)},g=Qy(e.options,e.fetchOptions),m=async(y,b,O)=>{if(v)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const R=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:b,direction:O?"backward":"forward",meta:e.options.meta};return x(K),K})(),P=await g(R),{maxPages:H}=e.options,j=O?Ex:Sx;return{pages:j(y.pages,P,H),pageParams:j(y.pageParams,b,H)}};if(s&&i.length){const y=s==="backward",b=y?Dx:ip,O={pages:i,pageParams:a},E=b(n,O);o=await m(O,E,y)}else{const y=t??i.length;do{const b=l===0?a[0]??n.initialPageParam:ip(n,o);if(l>0&&b==null)break;o=await m(o,b),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function ip(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Dx(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ma,gr,lt,os,yr,Jr,vm,Ux=(vm=class extends Jy{constructor(e){super();ee(this,yr);ee(this,Ma);ee(this,gr);ee(this,lt);ee(this,os);F(this,Ma,e.client),this.mutationId=e.mutationId,F(this,lt,e.mutationCache),F(this,gr,[]),this.state=e.state||ev(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,gr).includes(e)||(_(this,gr).push(e),this.clearGcTimeout(),_(this,lt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){F(this,gr,_(this,gr).filter(r=>r!==e)),this.scheduleGc(),_(this,lt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,gr).length||(this.state.status==="pending"?this.scheduleGc():_(this,lt).remove(this))}continue(){var e;return((e=_(this,os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,p,f,w,v,x,g,m,y,b,O,E,R;const r=()=>{le(this,yr,Jr).call(this,{type:"continue"})},n={client:_(this,Ma),meta:this.options.meta,mutationKey:this.options.mutationKey};F(this,os,Zy({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,H)=>{le(this,yr,Jr).call(this,{type:"failed",failureCount:P,error:H})},onPause:()=>{le(this,yr,Jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,lt).canRun(this)}));const s=this.state.status==="pending",i=!_(this,os).canStart();try{if(s)r();else{le(this,yr,Jr).call(this,{type:"pending",variables:e,isPaused:i}),_(this,lt).config.onMutate&&await _(this,lt).config.onMutate(e,this,n);const H=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e,n));H!==this.state.context&&le(this,yr,Jr).call(this,{type:"pending",context:H,variables:e,isPaused:i})}const P=await _(this,os).start();return await((u=(l=_(this,lt).config).onSuccess)==null?void 0:u.call(l,P,e,this.state.context,this,n)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,e,this.state.context,n)),await((f=(p=_(this,lt).config).onSettled)==null?void 0:f.call(p,P,null,this.state.variables,this.state.context,this,n)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,P,null,e,this.state.context,n)),le(this,yr,Jr).call(this,{type:"success",data:P}),P}catch(P){try{await((g=(x=_(this,lt).config).onError)==null?void 0:g.call(x,P,e,this.state.context,this,n))}catch(H){Promise.reject(H)}try{await((y=(m=this.options).onError)==null?void 0:y.call(m,P,e,this.state.context,n))}catch(H){Promise.reject(H)}try{await((O=(b=_(this,lt).config).onSettled)==null?void 0:O.call(b,void 0,P,this.state.variables,this.state.context,this,n))}catch(H){Promise.reject(H)}try{await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,P,e,this.state.context,n))}catch(H){Promise.reject(H)}throw le(this,yr,Jr).call(this,{type:"error",error:P}),P}finally{_(this,lt).runNext(this)}}},Ma=new WeakMap,gr=new WeakMap,lt=new WeakMap,os=new WeakMap,yr=new WeakSet,Jr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ge.batch(()=>{_(this,gr).forEach(n=>{n.onMutationUpdate(e)}),_(this,lt).notify({mutation:this,type:"updated",action:e})})},vm);function ev(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,rr,qa,wm,$x=(wm=class extends Ti{constructor(e={}){super();ee(this,Pr);ee(this,rr);ee(this,qa);this.config=e,F(this,Pr,new Set),F(this,rr,new Map),F(this,qa,0)}build(e,r,n){const s=new Ux({client:e,mutationCache:this,mutationId:++Ga(this,qa)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){_(this,Pr).add(e);const r=po(e);if(typeof r=="string"){const n=_(this,rr).get(r);n?n.push(e):_(this,rr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,Pr).delete(e)){const r=po(e);if(typeof r=="string"){const n=_(this,rr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&_(this,rr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=po(e);if(typeof r=="string"){const n=_(this,rr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=po(e);if(typeof r=="string"){const s=(n=_(this,rr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{_(this,Pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,Pr).clear(),_(this,rr).clear()})}getAll(){return Array.from(_(this,Pr))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Jf(r,n))}findAll(e={}){return this.getAll().filter(r=>Jf(e,r))}notify(e){Ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ge.batch(()=>Promise.all(e.map(r=>r.continue().catch(vt))))}},Pr=new WeakMap,rr=new WeakMap,qa=new WeakMap,wm);function po(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ar,hn,St,Ir,$r,Do,Vc,_m,Fx=(_m=class extends Ti{constructor(r,n){super();ee(this,$r);ee(this,Ar);ee(this,hn);ee(this,St);ee(this,Ir);F(this,Ar,r),this.setOptions(n),this.bindMethods(),le(this,$r,Do).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=_(this,Ar).defaultMutationOptions(r),ul(this.options,n)||_(this,Ar).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,St),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&gs(n.mutationKey)!==gs(this.options.mutationKey)?this.reset():((s=_(this,St))==null?void 0:s.state.status)==="pending"&&_(this,St).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,St))==null||r.removeObserver(this)}onMutationUpdate(r){le(this,$r,Do).call(this),le(this,$r,Vc).call(this,r)}getCurrentResult(){return _(this,hn)}reset(){var r;(r=_(this,St))==null||r.removeObserver(this),F(this,St,void 0),le(this,$r,Do).call(this),le(this,$r,Vc).call(this)}mutate(r,n){var s;return F(this,Ir,n),(s=_(this,St))==null||s.removeObserver(this),F(this,St,_(this,Ar).getMutationCache().build(_(this,Ar),this.options)),_(this,St).addObserver(this),_(this,St).execute(r)}},Ar=new WeakMap,hn=new WeakMap,St=new WeakMap,Ir=new WeakMap,$r=new WeakSet,Do=function(){var n;const r=((n=_(this,St))==null?void 0:n.state)??ev();F(this,hn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Vc=function(r){Ge.batch(()=>{var n,s,i,a,o,l,u,d;if(_(this,Ir)&&this.hasListeners()){const h=_(this,hn).variables,p=_(this,hn).context,f={client:_(this,Ar),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=_(this,Ir)).onSuccess)==null||s.call(n,r.data,h,p,f)}catch(w){Promise.reject(w)}try{(a=(i=_(this,Ir)).onSettled)==null||a.call(i,r.data,null,h,p,f)}catch(w){Promise.reject(w)}}else if((r==null?void 0:r.type)==="error"){try{(l=(o=_(this,Ir)).onError)==null||l.call(o,r.error,h,p,f)}catch(w){Promise.reject(w)}try{(d=(u=_(this,Ir)).onSettled)==null||d.call(u,void 0,r.error,h,p,f)}catch(w){Promise.reject(w)}}}this.listeners.forEach(h=>{h(_(this,hn))})})},_m),vr,xm,Mx=(xm=class extends Ti{constructor(e={}){super();ee(this,vr);this.config=e,F(this,vr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??uh(s,r);let a=this.get(i);return a||(a=new Px({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){_(this,vr).has(e.queryHash)||(_(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_(this,vr).get(e.queryHash);r&&(e.destroy(),r===e&&_(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,vr).get(e)}getAll(){return[..._(this,vr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Zf(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Zf(e,n)):r}notify(e){Ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,xm),Le,fn,pn,li,ui,mn,ci,di,bm,qx=(bm=class{constructor(t={}){ee(this,Le);ee(this,fn);ee(this,pn);ee(this,li);ee(this,ui);ee(this,mn);ee(this,ci);ee(this,di);F(this,Le,t.queryCache||new Mx),F(this,fn,t.mutationCache||new $x),F(this,pn,t.defaultOptions||{}),F(this,li,new Map),F(this,ui,new Map),F(this,mn,0)}mount(){Ga(this,mn)._++,_(this,mn)===1&&(F(this,ci,hh.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Le).onFocus())})),F(this,di,cl.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Le).onOnline())})))}unmount(){var t,e;Ga(this,mn)._--,_(this,mn)===0&&((t=_(this,ci))==null||t.call(this),F(this,ci,void 0),(e=_(this,di))==null||e.call(this),F(this,di,void 0))}isFetching(t){return _(this,Le).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,fn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,Le).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=_(this,Le).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(On(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return _(this,Le).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=_(this,Le).get(n.queryHash),i=s==null?void 0:s.state.data,a=xx(e,i);if(a!==void 0)return _(this,Le).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Ge.batch(()=>_(this,Le).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,Le).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_(this,Le);Ge.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_(this,Le);return Ge.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ge.batch(()=>_(this,Le).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(vt).catch(vt)}invalidateQueries(t,e={}){return Ge.batch(()=>(_(this,Le).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ge.batch(()=>_(this,Le).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(vt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_(this,Le).build(this,e);return r.isStaleByTime(On(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vt).catch(vt)}fetchInfiniteQuery(t){return t.behavior=sp(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vt).catch(vt)}ensureInfiniteQueryData(t){return t.behavior=sp(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cl.isOnline()?_(this,fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Le)}getMutationCache(){return _(this,fn)}getDefaultOptions(){return _(this,pn)}setDefaultOptions(t){F(this,pn,t)}setQueryDefaults(t,e){_(this,li).set(gs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,li).values()],r={};return e.forEach(n=>{ja(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){_(this,ui).set(gs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,ui).values()],r={};return e.forEach(n=>{ja(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,pn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ch&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,pn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,Le).clear(),_(this,fn).clear()}},Le=new WeakMap,fn=new WeakMap,pn=new WeakMap,li=new WeakMap,ui=new WeakMap,mn=new WeakMap,ci=new WeakMap,di=new WeakMap,bm),tv=T.createContext(void 0),hr=t=>{const e=T.useContext(tv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bx=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(tv.Provider,{value:t,children:e})),rv=T.createContext(!1),Vx=()=>T.useContext(rv);rv.Provider;function zx(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Wx=T.createContext(zx()),Kx=()=>T.useContext(Wx),Hx=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?dh(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},Qx=t=>{T.useEffect(()=>{t.clearReset()},[t])},Gx=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||dh(r,[t.error,n])),Zx=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Jx=(t,e)=>t.isLoading&&t.isFetching&&!e,Yx=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ap=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Xx(t,e,r){var p,f,w,v;const n=Vx(),s=Kx(),i=hr(),a=i.defaultQueryOptions(t);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",Zx(a),Hx(a,s,o),Qx(s);const l=!i.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new e(i,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const g=h?u.subscribe(Ge.batchCalls(x)):vt;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a)},[a,u]),Yx(a,d))throw ap(a,u,s);if(Gx({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((v=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||v.call(w,a,d),a.experimental_prefetchInRender&&!ms&&Jx(d,n)){const x=l?ap(a,u,s):o==null?void 0:o.promise;x==null||x.catch(vt).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function he(t,e){return Xx(t,Ax)}function dt(t,e){const r=hr(),[n]=T.useState(()=>new Fx(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const s=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(Ge.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=T.useCallback((a,o)=>{n.mutate(a,o).catch(vt)},[n]);if(s.error&&dh(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Fl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function eb(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const tb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ph extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class rb extends ph{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class op extends ph{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lp extends ph{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zc||(zc={}));class nb{constructor(e,{headers:r={},customFetch:n,region:s=zc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=tb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eb(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const w=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,w.searchParams.set("forceFunctionRegion",f));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(p["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(p["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:v,signal:x}).catch(O=>{throw new rb(O)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new op(g);if(!g.ok)throw new lp(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof lp||o instanceof op?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var sb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ib=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var w;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&v===""?(u=204,d="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new sb(a)}return{error:a,data:o,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const d=i==null?void 0:i.cause;if(d){var h,p,f,w;const g=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",m=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";o=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"Error"}: ${g}`,m&&(o+=` (${m})`),d!=null&&d.stack&&(o+=`
${d.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},ab=class extends ib{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const up=new RegExp("[,()]");var Os=class extends ab{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&up.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&up.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ob=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Os({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Os({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Os({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Os({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Os({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function lb(t,e){if(Ca(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ub(t){var e=lb(t,"string");return Ca(e)=="symbol"?e:e+""}function cb(t,e,r){return(e=ub(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cp(Object(r),!0).forEach(function(n){cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var db=class nv{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),p=u==null?void 0:u.signal;if(p){if(p.aborted)return clearTimeout(h),o(l,u);const f=()=>{clearTimeout(h),d.abort()};return p.addEventListener("abort",f,{once:!0}),o(l,mo(mo({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),p.removeEventListener("abort",f)})}return o(l,mo(mo({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ob(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new nv(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,w])=>w!==void 0).map(([f,w])=>[f,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([f,w])=>{l.searchParams.append(f,w)})):(o="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Os({method:o,url:l,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class hb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fb="2.95.3",pb=`realtime-js/${fb}`,mb="1.0.0",sv="2.0.0",dp=sv,Wc=1e4,gb=1e3,yb=100;var en;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(en||(en={}));var He;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(He||(He={}));var sr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sr||(sr={}));var Kc;(function(t){t.websocket="websocket"})(Kc||(Kc={}));var Wn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wn||(Wn={}));class vb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(f),v=0;w.setUint8(v++,this.KINDS.userBroadcastPush),w.setUint8(v++,l.length),w.setUint8(v++,o.length),w.setUint8(v++,a.length),w.setUint8(v++,u.length),w.setUint8(v++,h.length),w.setUint8(v++,r),Array.from(l,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>w.setUint8(v++,g.charCodeAt(0)));var x=new Uint8Array(f.byteLength+n.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(n),f.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,w={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class iv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(je||(je={}));const hp=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=wb(a,t,e,s),i),{}):{}},wb=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?av(i,a):Hc(a)},av=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return kb(e,r)}switch(t){case je.bool:return _b(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return xb(e);case je.json:case je.jsonb:return bb(e);case je.timestamp:return Sb(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Hc(e);default:return Hc(e)}},Hc=t=>t,_b=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},kb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>av(e,o))}return t},Sb=t=>typeof t=="string"?t.replace(" ","T"):t,ov=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Su{constructor(e,r,n={},s=Wc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fp||(fp={}));class na{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=na.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=na.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=na.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),w=d.filter(x=>f.indexOf(x.presence_ref)<0),v=h.filter(x=>p.indexOf(x.presence_ref)<0);w.length>0&&(o[u]=w),v.length>0&&(l[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pp||(pp={}));var sa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sa||(sa={}));var Or;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));class Ks{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Su(this,sr.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new na(this),this.broadcastEndpointURL=ov(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[sa.PRESENCE]&&this.bindings[sa.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Or.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(Or.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,g=[];for(let m=0;m<x;m++){const y=v[m],{filter:{event:b,schema:O,table:E,filter:R}}=y,P=f&&f[m];if(P&&P.event===b&&Ks.isFilterValueEqual(P.schema,O)&&Ks.isFilterValueEqual(P.table,E)&&Ks.isFilterValueEqual(P.filter,R))g.push(Object.assign(Object.assign({},y),{id:P.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Or.SUBSCRIBED);return}}).receive("error",f=>{this.state=He.errored,e==null||e(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===He.joined&&e===sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Su(this,sr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Su(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=sr;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var w,v,x;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(v=f.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var w,v,x,g,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const b=f.id,O=(w=f.filter)===null||w===void 0?void 0:w.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:x,commit_timestamp:g,type:m,errors:y}=w;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(w))}f.callback(p,n)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ks.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sr.close,{},e)}_onError(e){this._on(sr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hp(e.columns,e.old_record)),r}}const Eu=()=>{},go={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Eb=[1e3,2e3,5e3,1e4],jb=1e4,Cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tb{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wc,this.transport=null,this.heartbeatIntervalMs=go.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.reconnectTimer=null,this.vsn=dp,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new vb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Kc.websocket}`,this.httpEndpoint=ov(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return Wn.Connecting;case en.open:return Wn.Open;case en.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ks(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},go.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===en.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===en.open||this.conn.readyState===en.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(sr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Cb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:pb};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(sr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},go.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,l,u,d,h,p,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Wc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:go.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Eu,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:dp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:w=>Eb[w-1]||jb,this.vsn){case mb:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(w,v)=>v(JSON.stringify(w)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(w,v)=>v(JSON.parse(w));break;case sv:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ta=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ob(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Nb(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Rb(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=Ob(t.baseUrl,n,s),l=await Nb(t.auth),u=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,w=f==null?void 0:f.error;throw new Ta((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function yo(t){return t.join("")}var Pb=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}`}),!0}catch(e){if(e instanceof Ta&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ta&&r.status===409)return;throw r}}};function xs(t){return t.join("")}var Ab=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ta&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ta&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Ib=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Rb({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Pb(this.client,e),this.tableOps=new Ab(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ml=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ql(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var vo=class extends Ml{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lv=class extends Ml{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Lb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Db=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qc=t=>{if(Array.isArray(t))return t.map(r=>Qc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Qc(n)}),e},Ub=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function $b(t,e){if(Oa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fb(t){var e=$b(t,"string");return Oa(e)=="symbol"?e:e+""}function Mb(t,e,r){return(e=Fb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mp(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const gp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},qb=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new vo(gp(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new vo(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new vo(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new vo(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new lv(gp(t),t,n))},Bb=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?se(se({},s),r):(Db(n)?(s.headers=se({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),se(se({},s),r))};async function $i(t,e,r,n,s,i,a){return new Promise((o,l)=>{t(r,Bb(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>qb(u,l,n,a))})}function uv(t="storage"){return{get:async(e,r,n,s)=>$i(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>$i(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>$i(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>$i(e,"HEAD",r,se(se({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>$i(e,"DELETE",r,s,i,n,t)}}const Vb=uv("storage"),{get:Na,post:er,put:Gc,head:zb,remove:mh}=Vb,At=uv("vectors");var Oi=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Lb(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ql(r))return{data:null,error:r};throw r}}},Wb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ql(e))return{data:null,error:e};throw e}}};let cv;cv=Symbol.toStringTag;var Kb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[cv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wb(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ql(e))return{data:null,error:e};throw e}}};const Hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qb=class extends Oi{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=se(se({},yp),n);let o=se(se({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=se(se({},o),n.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?Gc:er)(s.fetch,`${s.url}/object/${d}`,i,se({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=se({upsert:yp.upsert},n),d=se(se({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Gc(s.fetch,o.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=se({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await er(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new Ml("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await er(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await er(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await er(n.fetch,`${n.url}/object/sign/${s}`,se({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await er(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>se(se({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>Na(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Kb(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Qc(await Na(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await zb(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ql(n)&&n instanceof lv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await mh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=se(se(se({},Hb),e),{},{prefix:t||""});return await er(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=se({},t);return await er(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Gb="2.95.3",Ha={"X-Client-Info":`storage-js/${Gb}`};var Zb=class extends Oi{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=se(se({},Ha),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Na(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Na(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await er(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Gc(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await er(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await mh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Jb=class extends Oi{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=se(se({},Ha),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await er(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Na(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await mh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Ub(t))throw new Ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Ib({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},Yb=class extends Oi{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=se(se({},Ha),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await At.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await At.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Xb=class extends Oi{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=se(se({},Ha),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},ek=class extends Oi{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=se(se({},Ha),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},tk=class extends ek{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new rk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},rk=class extends Yb{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new nk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nk=class extends Xb{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,se(se({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},sk=class extends Zb{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new Qb(this.url,this.headers,t,this.fetch)}get vectors(){return new tk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jb(this.url+"/iceberg",this.headers,this.fetch)}};const dv="2.95.3",Ns=30*1e3,Zc=3,ju=Zc*Ns,ik="http://localhost:9999",ak="supabase.auth.token",ok={"X-Client-Info":`gotrue-js/${dv}`},Jc="X-Supabase-Api-Version",hv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uk=10*60*1e3;class Ra extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ck extends Ra{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dk(t){return Y(t)&&t.name==="AuthApiError"}class Kn extends Ra{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qr extends Ra{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rt extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cu(t){return Y(t)&&t.name==="AuthSessionMissingError"}class bs extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends Qr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _o extends Qr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hk(t){return Y(t)&&t.name==="AuthImplicitGrantRedirectError"}class vp extends Qr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fk extends Qr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yc extends Qr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Tu(t){return Y(t)&&t.name==="AuthRetryableFetchError"}class wp extends Qr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xc extends Qr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_p=` 	
\r=`.split(""),pk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_p.length;e+=1)t[_p[e].charCodeAt(0)]=-2;for(let e=0;e<dl.length;e+=1)t[dl[e].charCodeAt(0)]=e;return t})();function xp(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dl[n]),e.queuedBits-=6}}function fv(t,e,r){const n=pk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bp(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{yk(a,n,r)};for(let a=0;a<t.length;a+=1)fv(t.charCodeAt(a),s,i);return e.join("")}function mk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}mk(n,e)}}function yk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Xs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function vk(t){const e=[];return gk(t,r=>e.push(r)),new Uint8Array(e)}function Jn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>xp(s,r,n)),xp(null,r,n),e.join("")}function wk(t){return Math.round(Date.now()/1e3)+t}function _k(){return Symbol("auth-callback")}const rt=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},pv=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function xk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const mv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tt=async(t,e)=>{await t.removeItem(e)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bl.promiseConstructor=Promise;function xo(t){const e=t.split(".");if(e.length!==3)throw new Xc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!lk.test(e[n]))throw new Xc("JWT not in base64url format");return{header:JSON.parse(bp(e[0])),payload:JSON.parse(bp(e[1])),signature:Xs(e[2]),raw:{header:e[0],payload:e[1]}}}async function kk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Ek(t){return("0"+t.toString(16)).substr(-2)}function jk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Ek).join("")}async function Ck(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Tk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Ck(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ks(t,e,r=!1){const n=jk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Rs(t,`${e}-code-verifier`,s);const i=await Tk(n);return[i,n===i?"plain":"s256"]}const Ok=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nk(t){const e=t.headers.get(Jc);if(!e||!e.match(Ok))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Rk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Pk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ak=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ss(t){if(!Ak.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ou(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ik(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function kp(t){return JSON.parse(JSON.stringify(t))}const zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lk=[502,503,504];async function Sp(t){var e;if(!bk(t))throw new Yc(zn(t),0);if(Lk.includes(t.status))throw new Yc(zn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Kn(zn(i),i)}let n;const s=Nk(t);if(s&&s.getTime()>=hv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wp(zn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wp(zn(r),t.status,r.weak_password.reasons);throw new ck(zn(r),t.status||500,n)}const Dk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ne(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Jc]||(i[Jc]=hv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Uk(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Uk(t,e,r,n,s,i){const a=Dk(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Yc(zn(l),0)}if(o.ok||await Sp(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Sp(l)}}function Yt(t){var e;let r=null;Mk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=wk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ep(t){const e=Yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function sn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $k(t){return{data:t,error:null}}function Fk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Fl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function jp(t){return t}function Mk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nu=["global","local","others"];class qk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=mv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Nu[0]){if(Nu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Fl(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Fk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jp});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ss(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ss(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:sn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ss(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:sn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ss(e.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ss(e.userId),Ss(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jp});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function Cp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Es={debug:!!(globalThis&&pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bk extends gv{}async function Vk(t,e,r){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Bk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function zk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wk(t){return parseInt(t,16)}function Kk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Hk(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=yv(t.address),w=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${f}

${v}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${x}
${g}`}class Be extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class hl extends Be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Qk({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(vv(a)){if(i.rp.id!==a)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Gk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(vv(n)){if(r.rpId!==n)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Zk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jk=new Zk;function Yk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Fl(t,["challenge","user","excludeCredentials"]),i=Xs(e).buffer,a=Object.assign(Object.assign({},r),{id:Xs(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Xs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Xk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Fl(t,["challenge","allowCredentials"]),s=Xs(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Xs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function eS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Jn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Jn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Jn(new Uint8Array(s.authenticatorData)),clientDataJSON:Jn(new Uint8Array(s.clientDataJSON)),signature:Jn(new Uint8Array(s.signature)),userHandle:s.userHandle?Jn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Tp(){var t,e;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:Qk({error:e,options:t})}}}async function nS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:Gk({error:e,options:t})}}}const sS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=fl(o,a):n[i]=fl(a)}else n[i]=a}return n}function aS(t,e){return fl(sS,t,e||{})}function oS(t,e){return fl(iS,t,e||{})}class lS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const u=s??Jk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const f=(await this.client.getUser()).data.user,w=((a=f==null?void 0:f.user_metadata)===null||a===void 0?void 0:a.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${w}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=aS(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:p}=await rS({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=oS(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:p}=await nS(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Kn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ra("rpId is required for WebAuthn authentication")};try{if(!Tp())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Y(a)?{data:null,error:a}:{data:null,error:new Kn("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ra("rpId is required for WebAuthn registration")};try{if(!Tp())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Y(a)?{data:null,error:a}:{data:null,error:new Kn("Unexpected error in register",a)}}}}zk();const uS={url:ik,storageKey:ak,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ok,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Op(t,e,r){return await r()}const js={};class Pa{get jwks(){var e,r;return(r=(e=js[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=js[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){js[this.storageKey]=Object.assign(Object.assign({},js[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},uS),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Pa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&rt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mv(i.fetch),this.lock=i.lock||Op,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Vk:this.lock=Op,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(rt()&&(r=xk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?this._returnResult({error:r}):this._returnResult({error:new Kn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await ks(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:w},xform:Yt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Yt})}else throw new wo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ep})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ep})}else throw new wo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new bs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,l,u,d,h,p;let f,w;if("message"in e)f=e.message,w=e.signature;else{const{chain:v,wallet:x,statement:g,options:m}=e;let y;if(rt())if(typeof x=="object")y=x;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")y=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),O=await y.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=yv(O[0]);let R=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const H=await y.request({method:"eth_chainId"});R=Wk(H)}const P={domain:b.host,address:E,statement:g,uri:b.href,version:"1",chainId:R,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Hk(P),w=await y.request({method:"personal_sign",params:[Kk(f),E]})}try{const{data:v,error:x}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yt});if(x)throw x;if(!v||!v.session||!v.user){const g=new bs;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(Y(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,i,a,o,l,u,d,h,p,f;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:x,wallet:g,statement:m,options:y}=e;let b;if(rt())if(typeof g=="object")b=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const O=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),m?{statement:m}:null));let R;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")R=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)R=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),v=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${O.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:x,error:g}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Jn(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yt});if(g)throw g;if(!x||!x.session||!x.user){const m=new bs;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(Y(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await qn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new fk;const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Yt});if(await tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new bs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ks(this.storage,this.storageKey));const{error:h}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new wo("You must provide either an email or phone number.")}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Yt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ks(this.storage,this.storageKey));const u=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:$k});return!((i=u.data)===null||i===void 0)&&i.url&&rt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rt;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new wo("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ju:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await qn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Ou()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Ik(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:sn})})}catch(r){if(Y(r))return Cu(r)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ks(this.storage,this.storageKey));const{data:u,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:sn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=xo(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Y(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!rt())throw new _o("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _o(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _o("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vp("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new _o("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Cu(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(dk(o)&&(o.status===404||o.status===401||o.status===403)||Cu(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=_k(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ks(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Y(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,h=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yt}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new bs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Sk(async s=>(s>0&&await kk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Tu(i)&&Date.now()+a-n<Ns})}catch(n){if(this._debug(r,"error",n),Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await qn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Rs(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Ou()}else if(s&&!s.user&&!s.user){const a=await qn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await tt(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,s)):s.user=Ou()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ju;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ju}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Tu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Y(i)){const a={data:null,error:i};return Tu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=kp(s);await Rs(this.storage,this.storageKey,i)}else{const s=kp(r);await Rs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ns}ms, refresh threshold is ${Zc} ticks`),s<=Zc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ks(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?eS(e.webauthn.credential_response):tS(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Yk(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Xk(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:f}=xo(e);let w=null;f.aal&&(w=f.aal);let v=w;const{data:{user:x},error:g}=await this.getUser(e);if(g)return this._returnResult({data:null,error:g});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const y=f.amr||[];return{data:{currentLevel:w,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(f){if(Y(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=xo(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Rt});const a=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Rt});const a=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+uk>s)return n;const{data:i,error:a}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:w}=await this.getSession();if(w||!f.session)return this._returnResult({data:null,error:w});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=xo(n);r!=null&&r.allowExpired||Rk(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=Pk(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,vk(`${o}.${l}`)))throw new Xc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}}Pa.nextInstanceID={};const cS=Pa,dS="2.95.3";let Ki="";typeof Deno<"u"?Ki="deno":typeof document<"u"?Ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ki="react-native":Ki="node";const hS={"X-Client-Info":`supabase-js-${Ki}/${dS}`},fS={headers:hS},pS={schema:"public"},mS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gS={};function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}function yS(t,e){if(Aa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vS(t){var e=yS(t,"string");return Aa(e)=="symbol"?e:e+""}function wS(t,e,r){return(e=vS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Np(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function De(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Np(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Np(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const _S=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xS=()=>Headers,bS=(t,e,r)=>{const n=_S(r),s=xS();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,De(De({},a),{},{headers:u}))}};function kS(t){return t.endsWith("/")?t:t+"/"}function SS(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,p={db:De(De({},l),s),auth:De(De({},u),i),realtime:De(De({},d),a),storage:{},global:De(De(De({},h),o),{},{headers:De(De({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function ES(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jS=class extends cS{constructor(t){super(t)}},CS=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=ES(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:pS,realtime:gS,auth:De(De({},mS),{},{storageKey:a}),global:fS},l=SS(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=bS(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new db(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new sk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new nb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jS({url:this.authUrl.href,headers:De(De({},p),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Tb(this.realtimeUrl.href,De(De({},t),{},{params:De(De({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const TS=(t,e,r)=>new CS(t,e,r);function OS(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}OS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NS=void 0,RS=void 0;throw new Error("Faltan variables de Supabase: configura VITE_SUPABASE_URL y VITE_SUPABASE_ANON_KEY en Netlify (Configuracin del sitio  Variables de entorno) y vuelve a desplegar.");const V=TS(NS,RS);async function PS(t,e){const{data:r,error:n}=await V.auth.signInWithPassword({email:t,password:e});if(n)throw n;return r.user&&await pl(r.user),r}async function AS(t,e){const{data:r,error:n}=await V.auth.signUp({email:t,password:e});if(n)throw n;return r.user&&await pl(r.user),r}async function IS(){const{error:t}=await V.auth.signOut();if(t)throw t}async function pl(t){const{data:e,error:r}=await V.from("profiles").select("id").eq("id",t.id).maybeSingle();if(r)throw r;if(e)return e;const{data:n,error:s}=await V.from("profiles").insert({id:t.id,email:t.email??null,role:"member"}).select().single();if(s){const{data:i,error:a}=await V.from("profiles").select().eq("id",t.id).maybeSingle();if(a)throw a;return i}return n}const k={loading:"Cargando",all:"Todos",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",add:"Aadir",post:"Publicar",create:"Crear",creating:"Creando",saving:"Guardando",saveUpdate:"Guardar actualizacin",unknown:"Desconocido",none:"Ninguno.",failed:"Error",goHome:"Ir al inicio",pageNotFound:"Pgina no encontrada.",signOut:"Cerrar sesin",signIn:"Iniciar sesin",signUp:"Registrarse",alreadyHaveAccount:"Ya tienes cuenta? Iniciar sesin",needAccount:"Necesitas cuenta? Registrarse",authFailed:"Error de autenticacin",checkEmail:"Revisa tu correo para confirmar el registro, o inicia sesin si ya lo confirmaste.",email:"Correo electrnico",password:"Contrasea",team:"Equipo",selectTeam:"Seleccionar equipo",title:"Ttulo",status:"Estado",objective:"Objetivo",targetFrom:"Fecha desde",targetTo:"Fecha hasta",targetDate:"Fecha objetivo",lastUpdate:"ltima actualizacin",nextStep:"Siguiente paso",owner:"Responsable",blockers:"Bloqueos",help:"Ayuda",openBlockers:"Bloqueos abiertos",openHelp:"Solicitudes de ayuda abiertas",statusReason:"Motivo del estado",blockersSummary:"Resumen de bloqueos",helpNeededSummary:"Resumen de ayuda necesaria",addBlocker:"Aadir bloqueo",addRequest:"Aadir solicitud",addComment:"Aadir un comentario",detail:"Detalle",eta:"ETA",noBlockers:"Sin bloqueos.",noHelpRequests:"Sin solicitudes de ayuda.",noComments:"Sin comentarios.",noUpdatesYet:"Sin actualizaciones an.",backToBoard:" Volver al tablero",edit:"Editar",helpRequests:"Solicitudes de ayuda",comments:"Comentarios",updates:"Actualizaciones",activity:"Actividad",activityComment:"Comentario",activityUpdate:"Actualizacin de estado",expandDetails:"Ver detalles y comentarios",collapseDetails:"Ocultar detalles",detailsAndComments:"Detalles y comentarios",openDetail:"Abrir tem",createItem:"Crear tem",createItemHint:"Solo necesitas equipo y ttulo. Despus de crear, podrs completar estado, siguiente paso, fecha objetivo, bloqueos y comentarios en la pgina del tem.",teamAndTitleRequired:"Equipo y ttulo obligatorios",createItemPermissionDenied:"No tienes permiso para crear tems en este equipo. Solo miembros y gestores pueden crear tems; si eres solo espectador, pide que te asignen el rol de miembro.",noItem:"Sin tem",deleteItemConfirm:"Eliminar este tem? Esta accin no se puede deshacer.",exportCsv:"Exportar CSV",csvHeaders:{title:"Ttulo",status:"Estado",owner:"Responsable",openBlockers:"Bloqueos abiertos",openHelp:"Ayuda abierta",nextStep:"Siguiente paso",targetDate:"Fecha objetivo",lastUpdate:"ltima actualizacin"},home:"Inicio",teamBoard:"Tablero de equipos",director:"Director",appName:"Okrit",directorDashboard:"Panel de director",itemsWithoutUpdate14:"tems sin actualizacin (14 das)",targetDatesNext30:"Fechas objetivo (prximos 30 das)",itemsPausedOrAtRisk:"tems pausados o en riesgo",openBlockersBySeverity:"Bloqueos abiertos por severidad",openBlockersByTeam:"Bloqueos abiertos por equipo",openHelpByType:"Solicitudes de ayuda abiertas por tipo",openHelpByTeam:"Solicitudes de ayuda abiertas por equipo",upcomingTargets:"Fechas objetivo prximas (30 / 60 / 90 das)",next30Days:"Prximos 30 das",days31to60:"3160 das",days61to90:"6190 das",itemNotFound:"tem no encontrado.",accessDeniedDirector:"Acceso denegado. El panel de director es solo para administradores.",target:"Objetivo",adminTeams:"Administrar equipos",manageTeamMembers:"Miembros del equipo",addMember:"Aadir al equipo",selectUser:"Seleccionar usuario",memberRole:"Rol en el equipo",removeMember:"Quitar del equipo",accessDeniedAdmin:"Acceso denegado. Solo administradores pueden gestionar equipos.",noMembersYet:"An no hay miembros en este equipo.",memberAdded:"Usuario aadido al equipo.",memberRemoved:"Usuario quitado del equipo.",roleUpdated:"Rol actualizado.",createTeam:"Crear equipo",editTeam:"Editar equipo",deleteTeam:"Eliminar equipo",deleteTeamConfirm:"Eliminar este equipo y todos sus datos? Esta accin no se puede deshacer.",teamName:"Nombre del equipo",teamIcon:"Icono",tabTeams:"Equipos",tabMembers:"Miembros",uploadImage:"Subir imagen",orUploadImage:"o sube una imagen",changeImage:"Cambiar"},LS={discovery:"Descubrimiento",design:"Diseo",execution:"Ejecucin",validation:"Validacin",ready_to_deploy:"Listo para desplegar",deploying:"Desplegando",in_production:"En produccin",paused:"Pausado",at_risk:"En riesgo"},DS={low:"Bajo",medium:"Medio",high:"Alto",critical:"Crtico"},US={open:"Abierto",in_progress:"En progreso",resolved:"Resuelto",wont_do:"No se har"},$S={decision:"Decisin",escalation:"Escalacin",budget:"Presupuesto",alignment:"Alineacin",resource:"Recurso",other:"Otro"},FS={open:"Abierto",in_progress:"En progreso",done:"Hecho"},Rp={manager:"Gestor",member:"Miembro",viewer:"Espectador"};function ed(t,e="es"){return t?new Date(t).toLocaleDateString(e,{year:"numeric",month:"short",day:"numeric"}):""}function Vl(t,e="es"){return new Date(t).toLocaleString(e,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Vr(t){return LS[t]??t}function gh(t){return DS[t]??t}function Pp(t){return US[t]??t}function yh(t){return $S[t]??t}function Ap(t){return FS[t]??t}function Fi({children:t}){const[e,r]=T.useState(!0),[n,s]=T.useState(null),i=kr();return T.useEffect(()=>{V.auth.getSession().then(({data:{session:o}})=>{s(!!o),r(!1),o!=null&&o.user&&pl(o.user).catch(()=>{})});const{data:{subscription:a}}=V.auth.onAuthStateChange((o,l)=>{s(!!l),r(!1),l!=null&&l.user&&pl(l.user).catch(()=>{})});return()=>a.unsubscribe()},[]),e?c.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:c.jsx("p",{className:"text-gray-500",children:k.loading})}):n?c.jsx(c.Fragment,{children:t}):c.jsx(Wy,{to:"/login",state:{from:i},replace:!0})}function MS(){var w,v;const[t,e]=T.useState(""),[r,n]=T.useState(""),[s,i]=T.useState(!1),[a,o]=T.useState(null),[l,u]=T.useState(!1),d=Hr(),p=((v=(w=kr().state)==null?void 0:w.from)==null?void 0:v.pathname)??"/";async function f(x){x.preventDefault(),o(null),u(!0);try{if(s){await AS(t,r),n(""),o(k.checkEmail);return}await PS(t,r),d(p,{replace:!0}),window.location.reload()}catch(g){o(g instanceof Error?g.message:k.authFailed)}finally{u(!1)}}return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-brand-900 via-brand-800 to-brand-950 px-4",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("img",{src:"/logo.png",alt:k.appName,className:"h-56 w-auto mx-auto mb-4 drop-shadow-xl"}),c.jsx("p",{className:"text-brand-300 text-sm mt-1",children:"Sistema de seguimiento de OKRs"})]}),c.jsxs("div",{className:"rounded-2xl bg-white p-8 shadow-xl",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:s?k.signUp:k.signIn}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:k.email}),c.jsx("input",{id:"email",type:"email",value:t,onChange:x=>e(x.target.value),required:!0,autoComplete:"email",className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/20",placeholder:"tu@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:k.password}),c.jsx("input",{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),required:!s,autoComplete:s?"new-password":"current-password",className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/20"})]}),a&&c.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",role:"alert",children:a}),c.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-lg bg-brand-600 py-2.5 px-3 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:l?"...":s?k.signUp:k.signIn})]}),c.jsx("button",{type:"button",onClick:()=>{i(x=>!x),o(null)},className:"mt-4 w-full text-sm text-brand-600 hover:text-brand-800 font-medium",children:s?k.alreadyHaveAccount:k.needAccount})]})]})})}const qS={"/":c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955a1.126 1.126 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),"/board":c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M10.875 12c-.621 0-1.125.504-1.125 1.125M12 12c.621 0 1.125.504 1.125 1.125m0 0v1.5c0 .621-.504 1.125-1.125 1.125M12 15.375c0-.621-.504-1.125-1.125-1.125"})}),"/director":c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),"/admin/teams":c.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})};function BS({navLinks:t,selectedTeamId:e,onSelectTeam:r,userId:n,isAdmin:s}){const i=kr(),a=Hr(),{data:o=[]}=he({queryKey:["teams"],queryFn:async()=>{const{data:p,error:f}=await V.from("teams").select("*").order("name");if(f)throw f;return p}}),{data:l=[]}=he({queryKey:["my_team_ids",n],queryFn:async()=>{const{data:p,error:f}=await V.from("team_members").select("team_id").eq("user_id",n);if(f)throw f;return(p??[]).map(w=>w.team_id)},enabled:!!n&&!s}),u=T.useMemo(()=>{if(s)return o;const p=new Set(l);return o.filter(f=>p.has(f.id))},[s,o,l]);function d(p){return p==="/"?i.pathname==="/":i.pathname.startsWith(p)}function h(p){r?r(p):a(p?`/board?team=${p}`:"/board")}return c.jsxs("aside",{className:"w-60 shrink-0 bg-white border-r border-gray-200 hidden md:flex flex-col",children:[c.jsx("nav",{className:"px-3 pt-4 pb-2 space-y-0.5",children:t.map(p=>c.jsxs(Dt,{to:p.to,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${d(p.to)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[c.jsx("span",{className:d(p.to)?"text-brand-600":"text-gray-400",children:qS[p.to]??p.icon}),p.label]},p.to))}),c.jsx("div",{className:"mx-3 my-2 border-t border-gray-200"}),c.jsx("div",{className:"px-4 pb-2",children:c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400",children:[k.team,"s (",u.length,")"]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto sidebar-scroll px-2 pb-4",children:[c.jsxs("button",{type:"button",onClick:()=>h(null),className:`w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium mb-0.5 ${e===null?"bg-brand-50 text-brand-700":"text-gray-700 hover:bg-gray-100"}`,children:[c.jsx("span",{className:"w-6 h-6 shrink-0 flex items-center justify-center rounded bg-gray-200 text-gray-600 text-xs",children:""}),k.all]}),u.map(p=>{var f;return c.jsxs("button",{type:"button",onClick:()=>h(p.id),className:`w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm mb-0.5 ${e===p.id?"bg-brand-50 text-brand-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[(f=p.icon)!=null&&f.startsWith("data:")?c.jsx("img",{src:p.icon,alt:"",className:"w-6 h-6 shrink-0 rounded object-cover"}):p.icon?c.jsx("span",{className:"w-6 h-6 shrink-0 flex items-center justify-center rounded text-sm",children:p.icon}):c.jsx("span",{className:`w-6 h-6 shrink-0 flex items-center justify-center rounded text-xs font-bold text-white ${e===p.id?"bg-brand-600":"bg-gray-400"}`,children:p.name.charAt(0).toUpperCase()}),c.jsx("span",{className:"truncate",children:p.name})]},p.id)})]})]})}function lr({children:t,selectedTeamId:e,onSelectTeam:r}){var v,x;const n=Hr(),s=kr(),[i,a]=T.useState(!1),{data:o}=he({queryKey:["session"],queryFn:async()=>{const{data:{session:g}}=await V.auth.getSession();return g}}),l=((v=o==null?void 0:o.user)==null?void 0:v.id)??"",u=((x=o==null?void 0:o.user)==null?void 0:x.email)??"",{data:d}=he({queryKey:["profile",l],queryFn:async()=>{const{data:g,error:m}=await V.from("profiles").select("role").eq("id",l).maybeSingle();if(m)throw m;return g},enabled:!!l}),h=(d==null?void 0:d.role)==="admin";async function p(){await IS(),n("/login"),window.location.reload()}const f=[{to:"/",label:k.home,icon:null},{to:"/board",label:k.teamBoard,icon:null},...h?[{to:"/director",label:k.director,icon:null},{to:"/admin/teams",label:k.adminTeams,icon:null}]:[]];function w(g){return g==="/"?s.pathname==="/":s.pathname.startsWith(g)}return c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[c.jsxs("header",{className:"bg-brand-900 text-white px-4 flex items-center justify-between h-14 shrink-0 shadow-md z-20",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>a(g=>!g),className:"md:hidden p-1.5 rounded hover:bg-brand-800","aria-label":"Menu",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:i?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),c.jsx(Dt,{to:"/",className:"flex items-center gap-2",children:c.jsx("img",{src:"/logoblanco.jpg",alt:k.appName,className:"h-8 w-auto rounded"})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"hidden sm:inline text-sm text-brand-200 truncate max-w-[200px]",children:u}),c.jsx("button",{type:"button",onClick:p,className:"text-sm text-brand-200 hover:text-white px-2 py-1 rounded hover:bg-brand-800",children:k.signOut})]})]}),i&&c.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 px-4 py-2 space-y-1 z-10 shadow-lg",children:f.map(g=>c.jsx(Dt,{to:g.to,onClick:()=>a(!1),className:`block px-3 py-2 rounded-lg text-sm font-medium ${w(g.to)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:g.label},g.to))}),c.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[c.jsx(BS,{navLinks:f,selectedTeamId:e??null,onSelectTeam:r,userId:l,isAdmin:h}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:t})]})]})}const VS=()=>{const t=new Date;return t.setDate(t.getDate()-14),t.toISOString()},zS=t=>{const e=new Date,r=new Date;return r.setDate(r.getDate()+t),{start:e.toISOString().slice(0,10),end:r.toISOString().slice(0,10)}};function WS(){var x;const[t,e]=T.useState(null),{data:r=[]}=he({queryKey:["teams"],queryFn:async()=>{const{data:g,error:m}=await V.from("teams").select("*").order("name");if(m)throw m;return g}}),n=T.useMemo(()=>t?[t]:[],[t]),{data:s=[],isLoading:i}=he({queryKey:["items","home",t],queryFn:async()=>{let g=V.from("items").select("*");t&&(g=g.eq("team_id",t));const{data:m,error:y}=await g.order("last_update_at",{ascending:!0,nullsFirst:!0});if(y)throw y;return m},enabled:!0}),{data:a=[]}=he({queryKey:["blockers","open",t],queryFn:async()=>{const{data:g}=await V.from("items").select("id").in("team_id",n.length?n:r.map(O=>O.id)),m=(g??[]).map(O=>O.id);if(m.length===0)return[];const{data:y,error:b}=await V.from("blockers").select("*, items!inner(team_id)").in("item_id",m).in("status",["open","in_progress"]);if(b)throw b;return y??[]},enabled:r.length>0}),{data:o=[]}=he({queryKey:["help_requests","open",t],queryFn:async()=>{const{data:g}=await V.from("items").select("id").in("team_id",n.length?n:r.map(O=>O.id)),m=(g??[]).map(O=>O.id);if(m.length===0)return[];const{data:y,error:b}=await V.from("help_requests").select("*").in("item_id",m).in("status",["open","in_progress"]);if(b)throw b;return y??[]},enabled:r.length>0}),l=VS(),u=s.filter(g=>!g.last_update_at||g.last_update_at<l),d=a,h=o,{start:p,end:f}=zS(30),w=s.filter(g=>g.target_date&&g.target_date>=p&&g.target_date<=f),v=t?(x=r.find(g=>g.id===t))==null?void 0:x.name:null;return c.jsx(lr,{selectedTeamId:t,onSelectTeam:e,children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v??k.home}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t?k.teamBoard:"Resumen de todos los equipos"})]}),i?c.jsx("p",{className:"text-gray-500",children:k.loading}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:c.jsxs("div",{className:"flex items-center divide-x divide-gray-200",children:[c.jsx(bo,{value:s.length,label:"Items activos"}),c.jsx(bo,{value:u.length,label:k.itemsWithoutUpdate14,highlight:!0}),c.jsx(bo,{value:d.length,label:k.openBlockers,highlight:d.length>0}),c.jsx(bo,{value:w.length,label:k.targetDatesNext30})]})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsx(ko,{title:k.itemsWithoutUpdate14,count:u.length,to:"/board",query:t?`?team=${t}`:"",color:"amber"}),c.jsx(ko,{title:k.openBlockers,count:d.length,to:"/board",query:t?`?team=${t}`:"",color:"red"}),c.jsx(ko,{title:k.openHelp,count:h.length,to:"/board",query:t?`?team=${t}`:"",color:"brand"}),c.jsx(ko,{title:k.targetDatesNext30,count:w.length,to:"/board",query:t?`?team=${t}`:"",color:"emerald"})]})]})]})})}function bo({value:t,label:e,highlight:r}){return c.jsxs("div",{className:"flex-1 px-6 first:pl-0 last:pr-0 text-center",children:[c.jsx("p",{className:`text-3xl font-bold ${r?"text-amber-600":"text-gray-900"}`,children:t}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 uppercase tracking-wide",children:e})]})}const KS={amber:"border-l-amber-400 bg-amber-50",red:"border-l-red-400 bg-red-50",brand:"border-l-brand-400 bg-brand-50",emerald:"border-l-emerald-400 bg-emerald-50"},HS={amber:"text-amber-700",red:"text-red-700",brand:"text-brand-700",emerald:"text-emerald-700"};function ko({title:t,count:e,to:r,query:n,color:s}){return c.jsxs(Dt,{to:`${r}${n}`,className:`block rounded-lg border border-gray-200 border-l-4 p-4 shadow-sm hover:shadow-md transition-shadow ${KS[s]??""}`,children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:t}),c.jsx("p",{className:`mt-2 text-3xl font-bold ${HS[s]??"text-gray-900"}`,children:e})]})}const QS={discovery:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",execution:"bg-amber-100 text-amber-800",validation:"bg-cyan-100 text-cyan-800",ready_to_deploy:"bg-emerald-100 text-emerald-800",deploying:"bg-lime-100 text-lime-800",in_production:"bg-green-100 text-green-800",paused:"bg-gray-100 text-gray-700",at_risk:"bg-red-100 text-red-800"};function Ip({status:t}){const e=QS[t]??"bg-gray-100 text-gray-700";return c.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium whitespace-nowrap ${e}`,children:Vr(t)})}function GS({items:t,openBlockersCount:e,openHelpCount:r,expandedItemId:n,onToggleExpand:s,expandedActivity:i,formatDateTime:a,canDeleteItems:o,onDeleteItem:l,isDeletingItemId:u}){const d=Hr(),h=a??(f=>new Date(f).toLocaleString("es")),p=o?10:9;return c.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50/80",children:[c.jsx("th",{className:"w-9 px-1 py-3","aria-label":k.expandDetails}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.title}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.status}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.owner}),c.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.blockers}),c.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.help}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.nextStep}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.targetDate}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.lastUpdate}),o&&c.jsx("th",{className:"w-12 px-1 py-3","aria-label":k.delete})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(f=>{const w=n===f.id;return c.jsxs(T.Fragment,{children:[c.jsxs("tr",{onClick:()=>d(`/item/${f.id}`),className:"hover:bg-brand-50/40 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-1 py-3 align-top",onClick:v=>v.stopPropagation(),children:s&&c.jsx("button",{type:"button",onClick:()=>s(f.id),className:"p-1 rounded-md text-gray-400 hover:bg-gray-200 hover:text-gray-600",title:w?k.collapseDetails:k.expandDetails,"aria-expanded":w,children:c.jsx("svg",{className:"w-4 h-4 transition-transform",style:{transform:w?"rotate(90deg)":"none"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})}),c.jsx("td",{className:"px-4 py-3",onClick:v=>v.stopPropagation(),children:c.jsx(Dt,{to:`/item/${f.id}`,className:"text-brand-700 hover:text-brand-900 hover:underline font-medium text-sm",children:f.title})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(Ip,{status:f.status})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:f.owner_email??""}),c.jsx("td",{className:"px-3 py-3 text-center",onClick:v=>v.stopPropagation(),children:c.jsx(Dt,{to:`/item/${f.id}?tab=blockers`,className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold ${(e[f.id]??0)>0?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:k.blockers,children:e[f.id]??0})}),c.jsx("td",{className:"px-3 py-3 text-center",onClick:v=>v.stopPropagation(),children:c.jsx(Dt,{to:`/item/${f.id}?tab=help`,className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold ${(r[f.id]??0)>0?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:k.helpRequests,children:r[f.id]??0})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-[200px] truncate",title:f.next_step??"",children:f.next_step??""}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ed(f.target_date)}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ed(f.last_update_at)}),o&&c.jsx("td",{className:"px-1 py-3 text-right",onClick:v=>v.stopPropagation(),children:c.jsx("button",{type:"button",onClick:()=>l==null?void 0:l(f.id),disabled:u===f.id,className:"p-1.5 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 disabled:opacity-50",title:k.delete,"aria-label":k.delete,children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),w&&i&&c.jsx("tr",{children:c.jsx("td",{colSpan:p,className:"px-4 py-4 bg-gray-50/50 border-t border-gray-100",children:c.jsxs("div",{className:"pl-6 border-l-2 border-brand-300",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Ip,{status:f.status}),f.last_update_at&&c.jsxs("span",{className:"text-xs text-gray-500",children:[k.lastUpdate,": ",h(f.last_update_at)]})]}),c.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:k.detailsAndComments}),i.length===0?c.jsxs("p",{className:"text-sm text-gray-400 italic",children:[k.noComments,". ",k.noUpdatesYet]}):c.jsx("ul",{className:"space-y-2 list-none pl-0 text-sm",children:i.map(v=>c.jsxs("li",{className:"pl-3 border-l-2 border-gray-200 py-1",children:[c.jsx("span",{className:`text-xs font-medium ${v.type==="comment"?"text-brand-600":"text-amber-600"}`,children:v.type==="comment"?k.activityComment:k.activityUpdate}),c.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:[v.author,"  ",h(v.at)]}),v.type==="comment"?c.jsx("p",{className:"mt-0.5 text-gray-800",children:v.body}):c.jsxs("ul",{className:"mt-0.5 text-gray-700 list-disc list-inside",children:[v.snapshot.status!=null&&c.jsxs("li",{children:[k.status,": ",Vr(String(v.snapshot.status))]}),v.snapshot.next_step!=null&&v.snapshot.next_step!==""&&c.jsxs("li",{children:[k.nextStep,": ",v.snapshot.next_step]}),v.snapshot.status_reason!=null&&v.snapshot.status_reason!==""&&c.jsxs("li",{children:[k.statusReason,": ",v.snapshot.status_reason]})]})]},`${v.type}-${v.id}`))}),c.jsxs(Dt,{to:`/item/${f.id}`,className:"inline-block mt-3 text-sm font-medium text-brand-600 hover:text-brand-800 hover:underline",children:[k.openDetail," "]})]})})},`${f.id}-detail`)]},f.id)})})]})})}const zl=["discovery","design","execution","validation","ready_to_deploy","deploying","in_production","paused","at_risk"],ZS=["low","medium","high","critical"],JS=["open","in_progress","resolved","wont_do"],YS=["decision","escalation","budget","alignment","resource","other"],XS=["open","in_progress","done"],e1=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function t1(t,e,r){const n=[k.csvHeaders.title,k.csvHeaders.status,k.csvHeaders.owner,k.csvHeaders.openBlockers,k.csvHeaders.openHelp,k.csvHeaders.nextStep,k.csvHeaders.targetDate,k.csvHeaders.lastUpdate],s=t.map(u=>[u.title,u.status,u.owner_email??"",String(e[u.id]??0),String(r[u.id]??0),u.next_step??"",u.target_date??"",u.last_update_at??""]),i=[n.join(","),...s.map(u=>u.map(d=>`"${String(d).replace(/"/g,'""')}"`).join(","))].join(`
`),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=`okr-ops-items-${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(o)}function r1(){var Se;const[t,e]=lh(),r=t.get("team"),[n,s]=T.useState(r||null),[i,a]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(""),[h,p]=T.useState(""),[f,w]=T.useState(""),[v,x]=T.useState(null),g=hr(),{data:m}=he({queryKey:["session"],queryFn:async()=>{const{data:{session:A}}=await V.auth.getSession();return A}}),y=((Se=m==null?void 0:m.user)==null?void 0:Se.id)??"",{data:b}=he({queryKey:["profile",y],queryFn:async()=>{const{data:A,error:ie}=await V.from("profiles").select("role").eq("id",y).maybeSingle();if(ie)throw ie;return A},enabled:!!y}),O=(b==null?void 0:b.role)==="admin",E=dt({mutationFn:async A=>{const{error:ie}=await V.from("items").delete().eq("id",A);if(ie)throw ie},onSuccess:()=>{g.invalidateQueries({queryKey:["items","board"]}),x(null)}}),{data:R=[]}=he({queryKey:["objectives","board",n],queryFn:async()=>{let A=V.from("objectives").select("id, title, team_id");n&&(A=A.eq("team_id",n));const{data:ie,error:ge}=await A.order("title");if(ge)throw ge;return ie??[]},enabled:!0}),{data:P=[],isLoading:H}=he({queryKey:["items","board",n,i,o,u,h,f],queryFn:async()=>{let A=V.from("items").select("*");n&&(A=A.eq("team_id",n)),i&&(A=A.eq("status",i)),o&&(A=A.eq("owner_id",o)),u&&(A=A.gte("target_date",u)),h&&(A=A.lte("target_date",h)),f&&(A=A.eq("objective_id",f));const{data:ie,error:ge}=await A.order("last_update_at",{ascending:!0,nullsFirst:!0});if(ge)throw ge;const ft=ie??[],$e=[...new Set(ft.map(bt=>bt.owner_id).filter(Boolean))];if($e.length>0){const{data:bt}=await V.from("profiles").select("id, email").in("id",$e),et=new Map((bt??[]).map(Sr=>[Sr.id,Sr.email]));ft.forEach(Sr=>{Sr.owner_id&&(Sr.owner_email=et.get(Sr.owner_id)??null)})}return ft},enabled:!0}),j=T.useMemo(()=>P.map(A=>A.id),[P]),{data:K=[]}=he({queryKey:["blockers","board",j],queryFn:async()=>{if(j.length===0)return[];const{data:A,error:ie}=await V.from("blockers").select("item_id").in("item_id",j).in("status",["open","in_progress"]);if(ie)throw ie;return A??[]},enabled:j.length>0}),{data:z=[]}=he({queryKey:["help_requests","board",j],queryFn:async()=>{if(j.length===0)return[];const{data:A,error:ie}=await V.from("help_requests").select("item_id").in("item_id",j).in("status",["open","in_progress"]);if(ie)throw ie;return A??[]},enabled:j.length>0}),M=T.useMemo(()=>{const A={};for(const ie of K){const ge=ie.item_id;A[ge]=(A[ge]??0)+1}return A},[K]),X=T.useMemo(()=>{const A={};for(const ie of z){const ge=ie.item_id;A[ge]=(A[ge]??0)+1}return A},[z]),{data:ce=[]}=he({queryKey:["comments",v],queryFn:async()=>{if(!v)return[];const{data:A,error:ie}=await V.from("comments").select("*").eq("item_id",v).order("created_at",{ascending:!0});if(ie)throw ie;const ge=A??[],ft=[...new Set(ge.map($e=>$e.author_id))];if(ft.length>0){const{data:$e}=await V.from("profiles").select("id, email").in("id",ft),bt=new Map(($e??[]).map(et=>[et.id,et.email]));ge.forEach(et=>et.author_email=bt.get(et.author_id)??void 0)}return ge},enabled:!!v}),{data:be=[]}=he({queryKey:["item_updates",v],queryFn:async()=>{if(!v)return[];const{data:A,error:ie}=await V.from("item_updates").select("*").eq("item_id",v).order("created_at",{ascending:!0});if(ie)throw ie;const ge=A??[],ft=[...new Set(ge.map($e=>$e.updated_by))];if(ft.length>0){const{data:$e}=await V.from("profiles").select("id, email").in("id",ft),bt=new Map(($e??[]).map(et=>[et.id,et.email]));ge.forEach(et=>et.author_email=bt.get(et.updated_by)??void 0)}return ge},enabled:!!v}),ke=T.useMemo(()=>{if(!v)return[];const A=[...ce.map(ie=>({type:"comment",id:ie.id,at:ie.created_at,author:ie.author_email??k.unknown,body:ie.body})),...be.map(ie=>({type:"update",id:ie.id,at:ie.created_at,author:ie.author_email??k.unknown,snapshot:ie.snapshot??{}}))];return A.sort((ie,ge)=>new Date(ie.at).getTime()-new Date(ge.at).getTime()),A},[v,ce,be]),$=()=>{t1(P,M,X)},Z=A=>{s(A),e(A?{team:A}:{})},re=[];if(i&&re.push({key:"status",label:`${k.status}: ${Vr(i)}`,onClear:()=>a("")}),f){const A=R.find(ie=>ie.id===f);re.push({key:"objective",label:`${k.objective}: ${(A==null?void 0:A.title)??""}`,onClear:()=>w("")})}return u&&re.push({key:"from",label:`${k.targetFrom}: ${u}`,onClear:()=>d("")}),h&&re.push({key:"to",label:`${k.targetTo}: ${h}`,onClear:()=>p("")}),c.jsx(lr,{selectedTeamId:n,onSelectTeam:Z,children:c.jsxs("div",{className:"max-w-full",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k.teamBoard}),c.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[P.length," items"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:$,className:"rounded-lg border border-gray-300 bg-white py-2 px-3 text-sm text-gray-700 hover:bg-gray-50 shadow-sm",children:k.exportCsv}),c.jsxs("a",{href:n?`/item/new?team=${n}`:"/item/new",className:"rounded-lg bg-brand-600 py-2 px-4 text-sm font-medium text-white hover:bg-brand-700 shadow-sm",children:["+ ",k.createItem]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-4",children:[c.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[c.jsxs("div",{className:"min-w-[140px]",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.status}),c.jsxs("select",{value:i,onChange:A=>a(A.target.value),className:"w-full rounded-lg border border-gray-300 py-1.5 px-2.5 text-sm bg-white focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.all}),zl.map(A=>c.jsx("option",{value:A,children:Vr(A)},A))]})]}),c.jsxs("div",{className:"min-w-[140px]",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.objective}),c.jsxs("select",{value:f,onChange:A=>w(A.target.value),className:"w-full rounded-lg border border-gray-300 py-1.5 px-2.5 text-sm bg-white focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.all}),R.map(A=>c.jsx("option",{value:A.id,children:A.title},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.targetFrom}),c.jsx("input",{type:"date",value:u,onChange:A=>d(A.target.value),className:"rounded-lg border border-gray-300 py-1.5 px-2.5 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.targetTo}),c.jsx("input",{type:"date",value:h,onChange:A=>p(A.target.value),className:"rounded-lg border border-gray-300 py-1.5 px-2.5 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]})]}),re.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-100",children:[re.map(A=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-brand-50 border border-brand-200 px-3 py-1 text-xs font-medium text-brand-700",children:[A.label,c.jsx("button",{type:"button",onClick:A.onClear,className:"ml-0.5 hover:text-brand-900","aria-label":"Remove filter",children:""})]},A.key)),c.jsx("button",{type:"button",onClick:()=>{a(""),w(""),d(""),p("")},className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Reset"})]})]}),H?c.jsx("p",{className:"text-gray-500",children:k.loading}):c.jsx(GS,{items:P,openBlockersCount:M,openHelpCount:X,expandedItemId:v,onToggleExpand:A=>x(ie=>ie===A?null:A),expandedActivity:ke,formatDateTime:Vl,canDeleteItems:O,onDeleteItem:A=>{window.confirm(k.deleteItemConfirm)&&E.mutate(A)},isDeletingItemId:E.isPending?E.variables:null})]})})}var Qa=t=>t.type==="checkbox",Yn=t=>t instanceof Date,Et=t=>t==null;const wv=t=>typeof t=="object";var We=t=>!Et(t)&&!Array.isArray(t)&&wv(t)&&!Yn(t),n1=t=>We(t)&&t.target?Qa(t.target)?t.target.checked:t.target.value:t,s1=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,i1=(t,e)=>t.has(s1(e)),a1=t=>{const e=t.constructor&&t.constructor.prototype;return We(e)&&e.hasOwnProperty("isPrototypeOf")},vh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ke(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(vh&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(We(t)&&a1(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Ke(t[s]));return n}var Wl=t=>/^\w*$/.test(t),Re=t=>t===void 0,wh=t=>Array.isArray(t)?t.filter(Boolean):[],_h=t=>wh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(t,e,r)=>{if(!e||!We(t))return r;const n=(Wl(e)?[e]:_h(e)).reduce((s,i)=>Et(s)?s:s[i],t);return Re(n)||n===t?Re(t[e])?r:t[e]:n},mr=t=>typeof t=="boolean",ar=t=>typeof t=="function",Ee=(t,e,r)=>{let n=-1;const s=Wl(e)?[e]:_h(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const u=t[o];l=We(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Lp={BLUR:"blur",FOCUS_OUT:"focusout"},or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Er={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},o1=ut.createContext(null);o1.displayName="HookFormControlContext";var l1=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==or.all&&(e._proxyFormState[a]=!n||or.all),t[a]}});return s};const u1=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;var It=t=>typeof t=="string",c1=(t,e,r,n,s)=>It(t)?(n&&e.watch.add(t),Q(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Q(r,i))):(n&&(e.watchAll=!0),r),td=t=>Et(t)||!wv(t);function an(t,e,r=new WeakSet){if(td(t)||td(e))return Object.is(t,e);if(Yn(t)&&Yn(e))return Object.is(t.getTime(),e.getTime());const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Yn(a)&&Yn(o)||We(a)&&We(o)||Array.isArray(a)&&Array.isArray(o)?!an(a,o,r):!Object.is(a,o))return!1}}return!0}const d1=ut.createContext(null);d1.displayName="HookFormContext";var _v=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},ia=t=>Array.isArray(t)?t:[t],Dp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function xv(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&We(s)&&i){const a=xv(s,i);We(a)&&(r[n]=a)}else t[n]&&(r[n]=i)}return r}var gt=t=>We(t)&&!Object.keys(t).length,xh=t=>t.type==="file",ml=t=>{if(!vh)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bv=t=>t.type==="select-multiple",bh=t=>t.type==="radio",h1=t=>bh(t)||Qa(t),Ru=t=>ml(t)&&t.isConnected;function f1(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Re(t)?n++:t[e[n++]];return t}function p1(t){for(const e in t)if(t.hasOwnProperty(e)&&!Re(t[e]))return!1;return!0}function qe(t,e){const r=Array.isArray(e)?e:Wl(e)?[e]:_h(e),n=r.length===1?t:f1(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(We(n)&&gt(n)||Array.isArray(n)&&p1(n))&&qe(t,r.slice(0,-1)),t}var m1=t=>{for(const e in t)if(ar(t[e]))return!0;return!1};function kv(t){return Array.isArray(t)||We(t)&&!m1(t)}function rd(t,e={}){for(const r in t){const n=t[r];kv(n)?(e[r]=Array.isArray(n)?[]:{},rd(n,e[r])):Re(n)||(e[r]=!0)}return e}function Ps(t,e,r){r||(r=rd(e));for(const n in t){const s=t[n];if(kv(s))Re(e)||td(r[n])?r[n]=rd(s,Array.isArray(s)?[]:{}):Ps(s,Et(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!an(s,i)}}return r}const Up={value:!1,isValid:!1},$p={value:!0,isValid:!0};var Sv=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Re(t[0].attributes.value)?Re(t[0].value)||t[0].value===""?$p:{value:t[0].value,isValid:!0}:$p:Up}return Up},Ev=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Re(t)?t:e?t===""?NaN:t&&+t:r&&It(t)?new Date(t):n?n(t):t;const Fp={isValid:!1,value:null};var jv=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Fp):Fp;function Mp(t){const e=t.ref;return xh(e)?e.files:bh(e)?jv(t.refs).value:bv(e)?[...e.selectedOptions].map(({value:r})=>r):Qa(e)?Sv(t.refs).value:Ev(Re(e.value)?t.ref.value:e.value,t)}var g1=(t,e,r,n)=>{const s={};for(const i of t){const a=Q(e,i);a&&Ee(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},gl=t=>t instanceof RegExp,Mi=t=>Re(t)?t:gl(t)?t.source:We(t)?gl(t.value)?t.value.source:t.value:t,qp=t=>({isOnSubmit:!t||t===or.onSubmit,isOnBlur:t===or.onBlur,isOnChange:t===or.onChange,isOnAll:t===or.all,isOnTouch:t===or.onTouched});const Bp="AsyncFunction";var y1=t=>!!t&&!!t.validate&&!!(ar(t.validate)&&t.validate.constructor.name===Bp||We(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Bp)),v1=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Vp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const aa=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Q(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(aa(o,e))break}else if(We(o)&&aa(o,e))break}}};function zp(t,e,r){const n=Q(t,r);if(n||Wl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=Q(e,i),o=Q(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var w1=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return gt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||or.all))},_1=(t,e,r)=>!t||!e||t===e||ia(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),x1=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,b1=(t,e)=>!wh(Q(t,e)).length&&qe(t,e),k1=(t,e,r)=>{const n=ia(Q(t,r));return Ee(n,"root",e[r]),Ee(t,r,n),t};function Wp(t,e,r="validate"){if(It(t)||Array.isArray(t)&&t.every(It)||mr(t)&&!t)return{type:r,message:It(t)?t:"",ref:e}}var Cs=t=>We(t)&&!gl(t)?t:{value:t,message:""},Kp=async(t,e,r,n,s,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:w,name:v,valueAsNumber:x,mount:g}=t._f,m=Q(r,v);if(!g||e.has(v))return{};const y=o?o[0]:a,b=z=>{s&&y.reportValidity&&(y.setCustomValidity(mr(z)?"":z||""),y.reportValidity())},O={},E=bh(a),R=Qa(a),P=E||R,H=(x||xh(a))&&Re(a.value)&&Re(m)||ml(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,j=_v.bind(null,v,n,O),K=(z,M,X,ce=Er.maxLength,be=Er.minLength)=>{const ke=z?M:X;O[v]={type:z?ce:be,message:ke,ref:a,...j(z?ce:be,ke)}};if(i?!Array.isArray(m)||!m.length:l&&(!P&&(H||Et(m))||mr(m)&&!m||R&&!Sv(o).isValid||E&&!jv(o).isValid)){const{value:z,message:M}=It(l)?{value:!!l,message:l}:Cs(l);if(z&&(O[v]={type:Er.required,message:M,ref:y,...j(Er.required,M)},!n))return b(M),O}if(!H&&(!Et(h)||!Et(p))){let z,M;const X=Cs(p),ce=Cs(h);if(!Et(m)&&!isNaN(m)){const be=a.valueAsNumber||m&&+m;Et(X.value)||(z=be>X.value),Et(ce.value)||(M=be<ce.value)}else{const be=a.valueAsDate||new Date(m),ke=re=>new Date(new Date().toDateString()+" "+re),$=a.type=="time",Z=a.type=="week";It(X.value)&&m&&(z=$?ke(m)>ke(X.value):Z?m>X.value:be>new Date(X.value)),It(ce.value)&&m&&(M=$?ke(m)<ke(ce.value):Z?m<ce.value:be<new Date(ce.value))}if((z||M)&&(K(!!z,X.message,ce.message,Er.max,Er.min),!n))return b(O[v].message),O}if((u||d)&&!H&&(It(m)||i&&Array.isArray(m))){const z=Cs(u),M=Cs(d),X=!Et(z.value)&&m.length>+z.value,ce=!Et(M.value)&&m.length<+M.value;if((X||ce)&&(K(X,z.message,M.message),!n))return b(O[v].message),O}if(f&&!H&&It(m)){const{value:z,message:M}=Cs(f);if(gl(z)&&!m.match(z)&&(O[v]={type:Er.pattern,message:M,ref:a,...j(Er.pattern,M)},!n))return b(M),O}if(w){if(ar(w)){const z=await w(m,r),M=Wp(z,y);if(M&&(O[v]={...M,...j(Er.validate,M.message)},!n))return b(M.message),O}else if(We(w)){let z={};for(const M in w){if(!gt(z)&&!n)break;const X=Wp(await w[M](m,r),y,M);X&&(z={...X,...j(M,X.message)},b(X.message),n&&(O[v]=z))}if(!gt(z)&&(O[v]={ref:y,...z},!n))return O}}return b(!0),O};const S1={mode:or.onSubmit,reValidateMode:or.onChange,shouldFocusError:!0};function E1(t={}){let e={...S1,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=We(e.defaultValues)||We(e.values)?Ke(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ke(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let p={...h};const f={array:Dp(),state:Dp()},w=e.criteriaMode===or.all,v=S=>C=>{clearTimeout(u),u=setTimeout(S,C)},x=async S=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||p.isValid||S)){let C;e.resolver?(C=gt((await P()).errors),g()):C=await j(n,!0),C!==r.isValid&&f.state.next({isValid:C})}},g=(S,C)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((S||Array.from(o.mount)).forEach(N=>{N&&(C?Ee(r.validatingFields,N,C):qe(r.validatingFields,N))}),f.state.next({validatingFields:r.validatingFields,isValidating:!gt(r.validatingFields)}))},m=(S,C=[],N,q,U=!0,D=!0)=>{if(q&&N&&!e.disabled){if(a.action=!0,D&&Array.isArray(Q(n,S))){const te=N(Q(n,S),q.argA,q.argB);U&&Ee(n,S,te)}if(D&&Array.isArray(Q(r.errors,S))){const te=N(Q(r.errors,S),q.argA,q.argB);U&&Ee(r.errors,S,te),b1(r.errors,S)}if((h.touchedFields||p.touchedFields)&&D&&Array.isArray(Q(r.touchedFields,S))){const te=N(Q(r.touchedFields,S),q.argA,q.argB);U&&Ee(r.touchedFields,S,te)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Ps(s,i)),f.state.next({name:S,isDirty:z(S,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ee(i,S,C)},y=(S,C)=>{Ee(r.errors,S,C),f.state.next({errors:r.errors})},b=S=>{r.errors=S,f.state.next({errors:r.errors,isValid:!1})},O=(S,C,N,q)=>{const U=Q(n,S);if(U){const D=Q(i,S,Re(N)?Q(s,S):N);Re(D)||q&&q.defaultChecked||C?Ee(i,S,C?D:Mp(U._f)):ce(S,D),a.mount&&!a.action&&x()}},E=(S,C,N,q,U)=>{let D=!1,te=!1;const we={name:S};if(!e.disabled){if(!N||q){(h.isDirty||p.isDirty)&&(te=r.isDirty,r.isDirty=we.isDirty=z(),D=te!==we.isDirty);const _e=an(Q(s,S),C);te=!!Q(r.dirtyFields,S),_e?qe(r.dirtyFields,S):Ee(r.dirtyFields,S,!0),we.dirtyFields=r.dirtyFields,D=D||(h.dirtyFields||p.dirtyFields)&&te!==!_e}if(N){const _e=Q(r.touchedFields,S);_e||(Ee(r.touchedFields,S,N),we.touchedFields=r.touchedFields,D=D||(h.touchedFields||p.touchedFields)&&_e!==N)}D&&U&&f.state.next(we)}return D?we:{}},R=(S,C,N,q)=>{const U=Q(r.errors,S),D=(h.isValid||p.isValid)&&mr(C)&&r.isValid!==C;if(e.delayError&&N?(l=v(()=>y(S,N)),l(e.delayError)):(clearTimeout(u),l=null,N?Ee(r.errors,S,N):qe(r.errors,S)),(N?!an(U,N):U)||!gt(q)||D){const te={...q,...D&&mr(C)?{isValid:C}:{},errors:r.errors,name:S};r={...r,...te},f.state.next(te)}},P=async S=>(g(S,!0),await e.resolver(i,e.context,g1(S||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),H=async S=>{const{errors:C}=await P(S);if(g(S),S)for(const N of S){const q=Q(C,N);q?Ee(r.errors,N,q):qe(r.errors,N)}else r.errors=C;return C},j=async(S,C,N={valid:!0})=>{for(const q in S){const U=S[q];if(U){const{_f:D,...te}=U;if(D){const we=o.array.has(D.name),_e=U._f&&y1(U._f);_e&&h.validatingFields&&g([D.name],!0);const pt=await Kp(U,o.disabled,i,w,e.shouldUseNativeValidation&&!C,we);if(_e&&h.validatingFields&&g([D.name]),pt[D.name]&&(N.valid=!1,C||t.shouldUseNativeValidation))break;!C&&(Q(pt,D.name)?we?k1(r.errors,pt,D.name):Ee(r.errors,D.name,pt[D.name]):qe(r.errors,D.name))}!gt(te)&&await j(te,C,N)}}return N.valid},K=()=>{for(const S of o.unMount){const C=Q(n,S);C&&(C._f.refs?C._f.refs.every(N=>!Ru(N)):!Ru(C._f.ref))&&et(S)}o.unMount=new Set},z=(S,C)=>!e.disabled&&(S&&C&&Ee(i,S,C),!an(Se(),s)),M=(S,C,N)=>c1(S,o,{...a.mount?i:Re(C)?s:It(S)?{[S]:C}:C},N,C),X=S=>wh(Q(a.mount?i:s,S,e.shouldUnregister?Q(s,S,[]):[])),ce=(S,C,N={})=>{const q=Q(n,S);let U=C;if(q){const D=q._f;D&&(!D.disabled&&Ee(i,S,Ev(C,D)),U=ml(D.ref)&&Et(C)?"":C,bv(D.ref)?[...D.ref.options].forEach(te=>te.selected=U.includes(te.value)):D.refs?Qa(D.ref)?D.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(U)?te.checked=!!U.find(we=>we===te.value):te.checked=U===te.value||!!U)}):D.refs.forEach(te=>te.checked=te.value===U):xh(D.ref)?D.ref.value="":(D.ref.value=U,D.ref.type||f.state.next({name:S,values:Ke(i)})))}(N.shouldDirty||N.shouldTouch)&&E(S,U,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&re(S)},be=(S,C,N)=>{for(const q in C){if(!C.hasOwnProperty(q))return;const U=C[q],D=S+"."+q,te=Q(n,D);(o.array.has(S)||We(U)||te&&!te._f)&&!Yn(U)?be(D,U,N):ce(D,U,N)}},ke=(S,C,N={})=>{const q=Q(n,S),U=o.array.has(S),D=Ke(C);Ee(i,S,D),U?(f.array.next({name:S,values:Ke(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&N.shouldDirty&&f.state.next({name:S,dirtyFields:Ps(s,i),isDirty:z(S,D)})):q&&!q._f&&!Et(D)?be(S,D,N):ce(S,D,N),Vp(S,o)?f.state.next({...r,name:S,values:Ke(i)}):f.state.next({name:a.mount?S:void 0,values:Ke(i)})},$=async S=>{a.mount=!0;const C=S.target;let N=C.name,q=!0;const U=Q(n,N),D=_e=>{q=Number.isNaN(_e)||Yn(_e)&&isNaN(_e.getTime())||an(_e,Q(i,N,_e))},te=qp(e.mode),we=qp(e.reValidateMode);if(U){let _e,pt;const Fn=C.type?Mp(U._f):n1(S),Gr=S.type===Lp.BLUR||S.type===Lp.FOCUS_OUT,Dv=!v1(U._f)&&!e.resolver&&!Q(r.errors,N)&&!U._f.deps||x1(Gr,Q(r.touchedFields,N),r.isSubmitted,we,te),Ql=Vp(N,o,Gr);Ee(i,N,Fn),Gr?(!C||!C.readOnly)&&(U._f.onBlur&&U._f.onBlur(S),l&&l(0)):U._f.onChange&&U._f.onChange(S);const Gl=E(N,Fn,Gr),Uv=!gt(Gl)||Ql;if(!Gr&&f.state.next({name:N,type:S.type,values:Ke(i)}),Dv)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Gr&&x():Gr||x()),Uv&&f.state.next({name:N,...Ql?{}:Gl});if(!Gr&&Ql&&f.state.next({...r}),e.resolver){const{errors:Th}=await P([N]);if(g([N]),D(Fn),q){const $v=zp(r.errors,n,N),Oh=zp(Th,n,$v.name||N);_e=Oh.error,N=Oh.name,pt=gt(Th)}}else g([N],!0),_e=(await Kp(U,o.disabled,i,w,e.shouldUseNativeValidation))[N],g([N]),D(Fn),q&&(_e?pt=!1:(h.isValid||p.isValid)&&(pt=await j(n,!0)));q&&(U._f.deps&&(!Array.isArray(U._f.deps)||U._f.deps.length>0)&&re(U._f.deps),R(N,pt,_e,Gl))}},Z=(S,C)=>{if(Q(r.errors,C)&&S.focus)return S.focus(),1},re=async(S,C={})=>{let N,q;const U=ia(S);if(e.resolver){const D=await H(Re(S)?S:U);N=gt(D),q=S?!U.some(te=>Q(D,te)):N}else S?(q=(await Promise.all(U.map(async D=>{const te=Q(n,D);return await j(te&&te._f?{[D]:te}:te)}))).every(Boolean),!(!q&&!r.isValid)&&x()):q=N=await j(n);return f.state.next({...!It(S)||(h.isValid||p.isValid)&&N!==r.isValid?{}:{name:S},...e.resolver||!S?{isValid:N}:{},errors:r.errors}),C.shouldFocus&&!q&&aa(n,Z,S?U:o.mount),q},Se=(S,C)=>{let N={...a.mount?i:s};return C&&(N=xv(C.dirtyFields?r.dirtyFields:r.touchedFields,N)),Re(S)?N:It(S)?Q(N,S):S.map(q=>Q(N,q))},A=(S,C)=>({invalid:!!Q((C||r).errors,S),isDirty:!!Q((C||r).dirtyFields,S),error:Q((C||r).errors,S),isValidating:!!Q(r.validatingFields,S),isTouched:!!Q((C||r).touchedFields,S)}),ie=S=>{S&&ia(S).forEach(C=>qe(r.errors,C)),f.state.next({errors:S?r.errors:{}})},ge=(S,C,N)=>{const q=(Q(n,S,{_f:{}})._f||{}).ref,U=Q(r.errors,S)||{},{ref:D,message:te,type:we,..._e}=U;Ee(r.errors,S,{..._e,...C,ref:q}),f.state.next({name:S,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&q&&q.focus&&q.focus()},ft=(S,C)=>ar(S)?f.state.subscribe({next:N=>"values"in N&&S(M(void 0,C),N)}):M(S,C,!0),$e=S=>f.state.subscribe({next:C=>{_1(S.name,C.name,S.exact)&&w1(C,S.formState||h,Lv,S.reRenderRoot)&&S.callback({values:{...i},...r,...C,defaultValues:s})}}).unsubscribe,bt=S=>(a.mount=!0,p={...p,...S.formState},$e({...S,formState:{...d,...S.formState}})),et=(S,C={})=>{for(const N of S?ia(S):o.mount)o.mount.delete(N),o.array.delete(N),C.keepValue||(qe(n,N),qe(i,N)),!C.keepError&&qe(r.errors,N),!C.keepDirty&&qe(r.dirtyFields,N),!C.keepTouched&&qe(r.touchedFields,N),!C.keepIsValidating&&qe(r.validatingFields,N),!e.shouldUnregister&&!C.keepDefaultValue&&qe(s,N);f.state.next({values:Ke(i)}),f.state.next({...r,...C.keepDirty?{isDirty:z()}:{}}),!C.keepIsValid&&x()},Sr=({disabled:S,name:C})=>{if(mr(S)&&a.mount||S||o.disabled.has(C)){const U=o.disabled.has(C)!==!!S;S?o.disabled.add(C):o.disabled.delete(C),U&&a.mount&&!a.action&&x()}},Kl=(S,C={})=>{let N=Q(n,S);const q=mr(C.disabled)||mr(e.disabled);return Ee(n,S,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:S}},name:S,mount:!0,...C}}),o.mount.add(S),N?Sr({disabled:mr(C.disabled)?C.disabled:e.disabled,name:S}):O(S,!0,C.value),{...q?{disabled:C.disabled||e.disabled}:{},...e.progressive?{required:!!C.required,min:Mi(C.min),max:Mi(C.max),minLength:Mi(C.minLength),maxLength:Mi(C.maxLength),pattern:Mi(C.pattern)}:{},name:S,onChange:$,onBlur:$,ref:U=>{if(U){Kl(S,C),N=Q(n,S);const D=Re(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,te=h1(D),we=N._f.refs||[];if(te?we.find(_e=>_e===D):D===N._f.ref)return;Ee(n,S,{_f:{...N._f,...te?{refs:[...we.filter(Ru),D,...Array.isArray(Q(s,S))?[{}]:[]],ref:{type:D.type,name:S}}:{ref:D}}}),O(S,!1,void 0,D)}else N=Q(n,S,{}),N._f&&(N._f.mount=!1),(e.shouldUnregister||C.shouldUnregister)&&!(i1(o.array,S)&&a.action)&&o.unMount.add(S)}}},Hl=()=>e.shouldFocusError&&aa(n,Z,o.mount),Pv=S=>{mr(S)&&(f.state.next({disabled:S}),aa(n,(C,N)=>{const q=Q(n,N);q&&(C.disabled=q._f.disabled||S,Array.isArray(q._f.refs)&&q._f.refs.forEach(U=>{U.disabled=q._f.disabled||S}))},0,!1))},Sh=(S,C)=>async N=>{let q;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let U=Ke(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:D,values:te}=await P();g(),r.errors=D,U=Ke(te)}else await j(n);if(o.disabled.size)for(const D of o.disabled)qe(U,D);if(qe(r.errors,"root"),gt(r.errors)){f.state.next({errors:{}});try{await S(U,N)}catch(D){q=D}}else C&&await C({...r.errors},N),Hl(),setTimeout(Hl);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gt(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},Av=(S,C={})=>{Q(n,S)&&(Re(C.defaultValue)?ke(S,Ke(Q(s,S))):(ke(S,C.defaultValue),Ee(s,S,Ke(C.defaultValue))),C.keepTouched||qe(r.touchedFields,S),C.keepDirty||(qe(r.dirtyFields,S),r.isDirty=C.defaultValue?z(S,Ke(Q(s,S))):z()),C.keepError||(qe(r.errors,S),h.isValid&&x()),f.state.next({...r}))},Eh=(S,C={})=>{const N=S?Ke(S):s,q=Ke(N),U=gt(S),D=U?s:q;if(C.keepDefaultValues||(s=N),!C.keepValues){if(C.keepDirtyValues){const te=new Set([...o.mount,...Object.keys(Ps(s,i))]);for(const we of Array.from(te)){const _e=Q(r.dirtyFields,we),pt=Q(i,we),Fn=Q(D,we);_e&&!Re(pt)?Ee(D,we,pt):!_e&&!Re(Fn)&&ke(we,Fn)}}else{if(vh&&Re(S))for(const te of o.mount){const we=Q(n,te);if(we&&we._f){const _e=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(ml(_e)){const pt=_e.closest("form");if(pt){pt.reset();break}}}}if(C.keepFieldsRef)for(const te of o.mount)ke(te,Q(D,te));else n={}}i=e.shouldUnregister?C.keepDefaultValues?Ke(s):{}:Ke(D),f.array.next({values:{...D}}),f.state.next({values:{...D}})}o={mount:C.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!C.keepIsValid||!!C.keepDirtyValues||!e.shouldUnregister&&!gt(D),a.watch=!!e.shouldUnregister,a.keepIsValid=!!C.keepIsValid,a.action=!1,C.keepErrors||(r.errors={}),f.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:U?!1:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!an(S,s)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:C.keepDirtyValues?C.keepDefaultValues&&i?Ps(s,i):r.dirtyFields:C.keepDefaultValues&&S?Ps(s,S):C.keepDirty?r.dirtyFields:{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},jh=(S,C)=>Eh(ar(S)?S(i):S,{...e.resetOptions,...C}),Iv=(S,C={})=>{const N=Q(n,S),q=N&&N._f;if(q){const U=q.refs?q.refs[0]:q.ref;U.focus&&setTimeout(()=>{U.focus(),C.shouldSelect&&ar(U.select)&&U.select()})}},Lv=S=>{r={...r,...S}},Ch={control:{register:Kl,unregister:et,getFieldState:A,handleSubmit:Sh,setError:ge,_subscribe:$e,_runSchema:P,_updateIsValidating:g,_focusError:Hl,_getWatch:M,_getDirty:z,_setValid:x,_setFieldArray:m,_setDisabledField:Sr,_setErrors:b,_getFieldArray:X,_reset:Eh,_resetDefaultValues:()=>ar(e.defaultValues)&&e.defaultValues().then(S=>{jh(S,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:Pv,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return o},set _names(S){o=S},get _formState(){return r},get _options(){return e},set _options(S){e={...e,...S}}},subscribe:bt,trigger:re,register:Kl,handleSubmit:Sh,watch:ft,setValue:ke,getValues:Se,reset:jh,resetField:Av,clearErrors:ie,unregister:et,setError:ge,setFocus:Iv,getFieldState:A};return{...Ch,formControl:Ch}}function j1(t={}){const e=ut.useRef(void 0),r=ut.useRef(void 0),[n,s]=ut.useState({isDirty:!1,isValidating:!1,isLoading:ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ar(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ar(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=E1(t);e.current={...o,formState:n}}const i=e.current.control;return i._options=t,u1(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ut.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ut.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ut.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ut.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ut.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ut.useEffect(()=>{var a;t.values&&!an(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ut.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=ut.useMemo(()=>l1(n,i),[i,n]),e.current}const Hp=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Cv=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Hp(n.ref,r,t):n.refs&&n.refs.forEach(s=>Hp(s,r,t))}},C1=(t,e)=>{e.shouldUseNativeValidation&&Cv(t,e);const r={};for(const n in t){const s=Q(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(T1(e.names||Object.keys(t),n)){const a=Object.assign({},Q(r,n));Ee(a,"root",i),Ee(r,n,a)}else Ee(r,n,i)}return r},T1=(t,e)=>t.some(r=>r.startsWith(e+"."));var O1=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=r[a].types,u=l&&l[n.code];r[a]=_v(a,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},N1=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&Cv({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:C1(O1(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ye;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ye||(ye={}));var Qp;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Qp||(Qp={}));const G=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tn=t=>{switch(typeof t){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(t)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(t)?G.array:t===null?G.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?G.promise:typeof Map<"u"&&t instanceof Map?G.map:typeof Set<"u"&&t instanceof Set?G.set:typeof Date<"u"&&t instanceof Date?G.date:G.object;default:return G.unknown}},L=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),n}static assert(e){if(!(e instanceof zr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zr.create=t=>new zr(t);const nd=(t,e)=>{let r;switch(t.code){case L.invalid_type:t.received===G.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case L.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case L.invalid_union:r="Invalid input";break;case L.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case L.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case L.invalid_arguments:r="Invalid function arguments";break;case L.invalid_return_type:r="Invalid function return type";break;case L.invalid_date:r="Invalid date";break;case L.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case L.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case L.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case L.custom:r="Invalid input";break;case L.invalid_intersection_types:r="Intersection results could not be merged";break;case L.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case L.not_finite:r="Number must be finite";break;default:r=e.defaultError,ye.assertNever(t)}return{message:r}};let R1=nd;function P1(){return R1}const A1=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function B(t,e){const r=P1(),n=A1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===nd?void 0:nd].filter(s=>!!s)});t.common.issues.push(n)}class Ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ae;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Ft.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ae;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const ae=Object.freeze({status:"aborted"}),Hi=t=>({status:"dirty",value:t}),Zt=t=>({status:"valid",value:t}),Gp=t=>t.status==="aborted",Zp=t=>t.status==="dirty",wi=t=>t.status==="valid",yl=t=>typeof Promise<"u"&&t instanceof Promise;var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));class An{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Jp=(t,e)=>{if(wi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zr(t.common.issues);return this._error=r,this._error}}};function ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}class me{get description(){return this._def.description}_getType(e){return tn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ft,ctx:{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(yl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Jp(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return wi(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>wi(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(yl(s)?s:Promise.resolve(s));return Jp(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:L.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new xi({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Nn.create(this,this._def)}nullable(){return bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this)}promise(){return xl.create(this,this._def)}or(e){return wl.create([this,e],this._def)}and(e){return _l.create(this,e,this._def)}transform(e){return new xi({...ue(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new id({...ue(this._def),innerType:this,defaultValue:r,typeName:oe.ZodDefault})}brand(){return new rE({typeName:oe.ZodBranded,type:this,...ue(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ad({...ue(this._def),innerType:this,catchValue:r,typeName:oe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return kh.create(this,e)}readonly(){return od.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const I1=/^c[^\s-]{8,}$/i,L1=/^[0-9a-z]+$/,D1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,U1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$1=/^[a-z0-9_-]{21}$/i,F1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,B1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pu;const V1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,W1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,K1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Q1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",G1=new RegExp(`^${Tv}$`);function Ov(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Z1(t){return new RegExp(`^${Ov(t)}$`)}function J1(t){let e=`${Tv}T${Ov(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Y1(t,e){return!!((e==="v4"||!e)&&V1.test(t)||(e==="v6"||!e)&&W1.test(t))}function X1(t,e){if(!F1.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function eE(t,e){return!!((e==="v4"||!e)&&z1.test(t)||(e==="v6"||!e)&&K1.test(t))}class wn extends me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const i=this._getOrReturnCtx(e);return B(i,{code:L.invalid_type,expected:G.string,received:i.parsedType}),ae}const n=new Ft;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),B(s,{code:L.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),B(s,{code:L.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?B(s,{code:L.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&B(s,{code:L.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")q1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"email",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Pu||(Pu=new RegExp(B1,"u")),Pu.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"emoji",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")U1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"uuid",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")$1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"nanoid",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")I1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"cuid",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")L1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"cuid2",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")D1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"ulid",code:L.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),B(s,{validation:"url",code:L.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"regex",code:L.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?J1(i).test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?G1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Z1(i).test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{code:L.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?M1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"duration",code:L.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Y1(e.data,i.version)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"ip",code:L.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?X1(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"jwt",code:L.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?eE(e.data,i.version)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"cidr",code:L.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?H1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"base64",code:L.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Q1.test(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{validation:"base64url",code:L.invalid_string,message:i.message}),n.dirty()):ye.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:L.invalid_string,...J.errToObj(n)})}_addCheck(e){return new wn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...J.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...J.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...J.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...J.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...J.errToObj(r)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new wn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}wn.create=t=>new wn({checks:[],typeName:oe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});function tE(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Ia extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const i=this._getOrReturnCtx(e);return B(i,{code:L.invalid_type,expected:G.number,received:i.parsedType}),ae}let n;const s=new Ft;for(const i of this._def.checks)i.kind==="int"?ye.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:L.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?tE(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:L.not_finite,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,J.toString(r))}gt(e,r){return this.setLimit("min",e,!1,J.toString(r))}lte(e,r){return this.setLimit("max",e,!0,J.toString(r))}lt(e,r){return this.setLimit("max",e,!1,J.toString(r))}setLimit(e,r,n,s){return new Ia({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ia.create=t=>new Ia({checks:[],typeName:oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class La extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let n;const s=new Ft;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),B(n,{code:L.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return B(r,{code:L.invalid_type,expected:G.bigint,received:r.parsedType}),ae}gte(e,r){return this.setLimit("min",e,!0,J.toString(r))}gt(e,r){return this.setLimit("min",e,!1,J.toString(r))}lte(e,r){return this.setLimit("max",e,!0,J.toString(r))}lt(e,r){return this.setLimit("max",e,!1,J.toString(r))}setLimit(e,r,n,s){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}La.create=t=>new La({checks:[],typeName:oe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});class Yp extends me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.boolean,received:n.parsedType}),ae}return Zt(e.data)}}Yp.create=t=>new Yp({typeName:oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class vl extends me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const i=this._getOrReturnCtx(e);return B(i,{code:L.invalid_type,expected:G.date,received:i.parsedType}),ae}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return B(i,{code:L.invalid_date}),ae}const n=new Ft;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),B(s,{code:L.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),B(s,{code:L.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ye.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}vl.create=t=>new vl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:oe.ZodDate,...ue(t)});class Xp extends me{_parse(e){if(this._getType(e)!==G.symbol){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.symbol,received:n.parsedType}),ae}return Zt(e.data)}}Xp.create=t=>new Xp({typeName:oe.ZodSymbol,...ue(t)});class em extends me{_parse(e){if(this._getType(e)!==G.undefined){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.undefined,received:n.parsedType}),ae}return Zt(e.data)}}em.create=t=>new em({typeName:oe.ZodUndefined,...ue(t)});class tm extends me{_parse(e){if(this._getType(e)!==G.null){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.null,received:n.parsedType}),ae}return Zt(e.data)}}tm.create=t=>new tm({typeName:oe.ZodNull,...ue(t)});class rm extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}rm.create=t=>new rm({typeName:oe.ZodAny,...ue(t)});class nm extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}nm.create=t=>new nm({typeName:oe.ZodUnknown,...ue(t)});class In extends me{_parse(e){const r=this._getOrReturnCtx(e);return B(r,{code:L.invalid_type,expected:G.never,received:r.parsedType}),ae}}In.create=t=>new In({typeName:oe.ZodNever,...ue(t)});class sm extends me{_parse(e){if(this._getType(e)!==G.undefined){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.void,received:n.parsedType}),ae}return Zt(e.data)}}sm.create=t=>new sm({typeName:oe.ZodVoid,...ue(t)});class br extends me{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==G.array)return B(r,{code:L.invalid_type,expected:G.array,received:r.parsedType}),ae;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(B(r,{code:a?L.too_big:L.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(B(r,{code:L.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(B(r,{code:L.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new An(r,a,r.path,o)))).then(a=>Ft.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new An(r,a,r.path,o)));return Ft.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new br({...this._def,minLength:{value:e,message:J.toString(r)}})}max(e,r){return new br({...this._def,maxLength:{value:e,message:J.toString(r)}})}length(e,r){return new br({...this._def,exactLength:{value:e,message:J.toString(r)}})}nonempty(e){return this.min(1,e)}}br.create=(t,e)=>new br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...ue(e)});function As(t){if(t instanceof Ve){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Nn.create(As(n))}return new Ve({...t._def,shape:()=>e})}else return t instanceof br?new br({...t._def,type:As(t.element)}):t instanceof Nn?Nn.create(As(t.unwrap())):t instanceof bi?bi.create(As(t.unwrap())):t instanceof ys?ys.create(t.items.map(e=>As(e))):t}class Ve extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ye.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==G.object){const u=this._getOrReturnCtx(e);return B(u,{code:L.invalid_type,expected:G.object,received:u.parsedType}),ae}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof In&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new An(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof In){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(B(s,{code:L.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new An(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Ft.mergeObjectSync(n,u)):Ft.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new Ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:J.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:oe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ve({...this._def,catchall:e})}pick(e){const r={};for(const n of ye.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ve({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ye.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ve({...this._def,shape:()=>r})}deepPartial(){return As(this)}partial(e){const r={};for(const n of ye.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ve({...this._def,shape:()=>r})}required(e){const r={};for(const n of ye.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Nn;)i=i._def.innerType;r[n]=i}return new Ve({...this._def,shape:()=>r})}keyof(){return Nv(ye.objectKeys(this.shape))}}Ve.create=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strip",catchall:In.create(),typeName:oe.ZodObject,...ue(e)});Ve.strictCreate=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strict",catchall:In.create(),typeName:oe.ZodObject,...ue(e)});Ve.lazycreate=(t,e)=>new Ve({shape:t,unknownKeys:"strip",catchall:In.create(),typeName:oe.ZodObject,...ue(e)});class wl extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new zr(o.ctx.common.issues));return B(r,{code:L.invalid_union,unionErrors:a}),ae}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new zr(l));return B(r,{code:L.invalid_union,unionErrors:o}),ae}}get options(){return this._def.options}}wl.create=(t,e)=>new wl({options:t,typeName:oe.ZodUnion,...ue(e)});function sd(t,e){const r=tn(t),n=tn(e);if(t===e)return{valid:!0,data:t};if(r===G.object&&n===G.object){const s=ye.objectKeys(e),i=ye.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=sd(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===G.array&&n===G.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=sd(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===G.date&&n===G.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _l extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Gp(i)||Gp(a))return ae;const o=sd(i.value,a.value);return o.valid?((Zp(i)||Zp(a))&&r.dirty(),{status:r.value,value:o.data}):(B(n,{code:L.invalid_intersection_types}),ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_l.create=(t,e,r)=>new _l({left:t,right:e,typeName:oe.ZodIntersection,...ue(r)});class ys extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==G.array)return B(n,{code:L.invalid_type,expected:G.array,received:n.parsedType}),ae;if(n.data.length<this._def.items.length)return B(n,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&n.data.length>this._def.items.length&&(B(n,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new An(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Ft.mergeArray(r,a)):Ft.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ys({...this._def,rest:e})}}ys.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ys({items:t,typeName:oe.ZodTuple,rest:null,...ue(e)})};class im extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==G.map)return B(n,{code:L.invalid_type,expected:G.map,received:n.parsedType}),ae;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],u)=>({key:s._parse(new An(n,o,n.path,[u,"key"])),value:i._parse(new An(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}im.create=(t,e,r)=>new im({valueType:e,keyType:t,typeName:oe.ZodMap,...ue(r)});class Da extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==G.set)return B(n,{code:L.invalid_type,expected:G.set,received:n.parsedType}),ae;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(B(n,{code:L.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(B(n,{code:L.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ae;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>i._parse(new An(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new Da({...this._def,minSize:{value:e,message:J.toString(r)}})}max(e,r){return new Da({...this._def,maxSize:{value:e,message:J.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Da.create=(t,e)=>new Da({valueType:t,minSize:null,maxSize:null,typeName:oe.ZodSet,...ue(e)});class am extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}am.create=(t,e)=>new am({getter:t,typeName:oe.ZodLazy,...ue(e)});class om extends me{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return B(r,{received:r.data,code:L.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}om.create=(t,e)=>new om({value:t,typeName:oe.ZodLiteral,...ue(e)});function Nv(t,e){return new _i({values:t,typeName:oe.ZodEnum,...ue(e)})}class _i extends me{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return B(r,{expected:ye.joinValues(n),received:r.parsedType,code:L.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return B(r,{received:r.data,code:L.invalid_enum_value,options:n}),ae}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return _i.create(e,{...this._def,...r})}exclude(e,r=this._def){return _i.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}_i.create=Nv;class lm extends me{_parse(e){const r=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==G.string&&n.parsedType!==G.number){const s=ye.objectValues(r);return B(n,{expected:ye.joinValues(s),received:n.parsedType,code:L.invalid_type}),ae}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ye.objectValues(r);return B(n,{received:n.data,code:L.invalid_enum_value,options:s}),ae}return Zt(e.data)}get enum(){return this._def.values}}lm.create=(t,e)=>new lm({values:t,typeName:oe.ZodNativeEnum,...ue(e)});class xl extends me{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==G.promise&&r.common.async===!1)return B(r,{code:L.invalid_type,expected:G.promise,received:r.parsedType}),ae;const n=r.parsedType===G.promise?r.data:Promise.resolve(r.data);return Zt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xl.create=(t,e)=>new xl({type:t,typeName:oe.ZodPromise,...ue(e)});class xi extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{B(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return ae;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ae:l.status==="dirty"||r.value==="dirty"?Hi(l.value):l});{if(r.value==="aborted")return ae;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?ae:o.status==="dirty"||r.value==="dirty"?Hi(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wi(a))return ae;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>wi(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):ae);ye.assertNever(s)}}xi.create=(t,e,r)=>new xi({schema:t,typeName:oe.ZodEffects,effect:e,...ue(r)});xi.createWithPreprocess=(t,e,r)=>new xi({schema:e,effect:{type:"preprocess",transform:t},typeName:oe.ZodEffects,...ue(r)});class Nn extends me{_parse(e){return this._getType(e)===G.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nn.create=(t,e)=>new Nn({innerType:t,typeName:oe.ZodOptional,...ue(e)});class bi extends me{_parse(e){return this._getType(e)===G.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bi.create=(t,e)=>new bi({innerType:t,typeName:oe.ZodNullable,...ue(e)});class id extends me{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===G.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}id.create=(t,e)=>new id({innerType:t,typeName:oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ue(e)});class ad extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ad.create=(t,e)=>new ad({innerType:t,typeName:oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ue(e)});class um extends me{_parse(e){if(this._getType(e)!==G.nan){const n=this._getOrReturnCtx(e);return B(n,{code:L.invalid_type,expected:G.nan,received:n.parsedType}),ae}return{status:"valid",value:e.data}}}um.create=t=>new um({typeName:oe.ZodNaN,...ue(t)});class rE extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kh extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),Hi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new kh({in:e,out:r,typeName:oe.ZodPipeline})}}class od extends me{_parse(e){const r=this._def.innerType._parse(e),n=s=>(wi(s)&&(s.value=Object.freeze(s.value)),s);return yl(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}od.create=(t,e)=>new od({innerType:t,typeName:oe.ZodReadonly,...ue(e)});var oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(oe||(oe={}));const Au=wn.create;In.create;br.create;const nE=Ve.create;wl.create;_l.create;ys.create;const sE=_i.create;xl.create;Nn.create;bi.create;const iE=nE({status:sE(zl),status_reason:Au().optional(),next_step:Au().optional(),target_date:Au().optional()});function aE({item:t,onSubmit:e,disabled:r}){const{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:a}}=j1({resolver:N1(iE),defaultValues:{status:t.status,status_reason:t.status_reason??"",next_step:t.next_step??"",target_date:t.target_date?t.target_date.slice(0,10):""}});return c.jsxs("form",{onSubmit:s(e),className:"space-y-5 max-w-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.status}),c.jsx("select",{...n("status"),className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:zl.map(o=>c.jsx("option",{value:o,children:Vr(o)},o))}),i.status&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.status.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.statusReason}),c.jsx("textarea",{...n("status_reason"),rows:2,className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.nextStep}),c.jsx("input",{type:"text",...n("next_step"),className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.targetDate}),c.jsx("input",{type:"date",...n("target_date"),className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"})]}),c.jsx("button",{type:"submit",disabled:r||a,className:"rounded-lg bg-brand-600 py-2.5 px-5 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:a?k.saving:k.saveUpdate})]})}function oE({itemId:t,blockers:e,canEdit:r}){const[n,s]=T.useState(!1),i=hr(),a=dt({mutationFn:async u=>{const{data:d,error:h}=await V.from("blockers").insert({item_id:t,title:u.title,detail:u.detail||null,severity:u.severity,status:u.status??"open",eta:u.eta||null}).select().single();if(h)throw h;return d},onSuccess:()=>{i.invalidateQueries({queryKey:["blockers",t]}),i.invalidateQueries({queryKey:["item",t]}),s(!1)}}),o=dt({mutationFn:async({id:u,status:d,title:h,detail:p,severity:f,eta:w})=>{const v={};d!==void 0&&(v.status=d),h!==void 0&&(v.title=h),p!==void 0&&(v.detail=p),f!==void 0&&(v.severity=f),w!==void 0&&(v.eta=w||null);const{data:x,error:g}=await V.from("blockers").update(v).eq("id",u).select().single();if(g)throw g;return x},onSuccess:()=>{i.invalidateQueries({queryKey:["blockers",t]}),i.invalidateQueries({queryKey:["item",t]})}}),l=dt({mutationFn:async u=>{const{error:d}=await V.from("blockers").delete().eq("id",u);if(d)throw d},onSuccess:()=>{i.invalidateQueries({queryKey:["blockers",t]}),i.invalidateQueries({queryKey:["item",t]})}});return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.blockers}),r&&c.jsx("button",{type:"button",onClick:()=>s(u=>!u),className:"text-sm font-medium text-brand-600 hover:text-brand-800",children:n?k.cancel:`+ ${k.addBlocker}`})]}),n&&r&&c.jsx(lE,{onSubmit:u=>a.mutateAsync(u),onCancel:()=>s(!1),isSubmitting:a.isPending}),c.jsx("ul",{className:"space-y-2 mt-2",children:e.map(u=>{const d={critical:"border-l-red-500",high:"border-l-orange-400",medium:"border-l-amber-400",low:"border-l-gray-300"};return c.jsxs("li",{className:`rounded-lg border border-gray-200 border-l-4 ${d[u.severity]??"border-l-gray-300"} p-3 bg-white text-sm shadow-sm`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:"font-medium text-gray-900",children:u.title}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600",children:gh(u.severity)}),c.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600",children:Pp(u.status)})]})]}),u.detail&&c.jsx("p",{className:"mt-1 text-gray-600",children:u.detail}),c.jsxs("p",{className:"mt-1 text-gray-500",children:[k.eta,": ",ed(u.eta)]}),r&&c.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[c.jsx("select",{value:u.status,onChange:h=>o.mutate({id:u.id,status:h.target.value}),className:"text-xs rounded border border-gray-300 py-1",children:JS.map(h=>c.jsx("option",{value:h,children:Pp(h)},h))}),c.jsx("button",{type:"button",onClick:()=>l.mutate(u.id),className:"text-xs text-red-600 hover:underline",children:k.delete})]})]},u.id)})}),e.length===0&&!n&&c.jsx("p",{className:"text-sm text-gray-500",children:k.noBlockers})]})}function lE({onSubmit:t,onCancel:e,isSubmitting:r}){const[n,s]=T.useState(""),[i,a]=T.useState(""),[o,l]=T.useState("medium"),[u,d]=T.useState("");return c.jsxs("form",{className:"mb-4 p-3 rounded border border-gray-200 bg-white space-y-2",onSubmit:async h=>{h.preventDefault(),await t({title:n,detail:i||void 0,severity:o,eta:u||void 0})},children:[c.jsx("input",{type:"text",value:n,onChange:h=>s(h.target.value),placeholder:k.title,required:!0,className:"block w-full rounded border border-gray-300 py-1 px-2 text-sm"}),c.jsx("textarea",{value:i,onChange:h=>a(h.target.value),placeholder:k.detail,rows:2,className:"block w-full rounded border border-gray-300 py-1 px-2 text-sm"}),c.jsx("select",{value:o,onChange:h=>l(h.target.value),className:"rounded border border-gray-300 py-1 px-2 text-sm",children:ZS.map(h=>c.jsx("option",{value:h,children:gh(h)},h))}),c.jsx("input",{type:"date",value:u,onChange:h=>d(h.target.value),className:"rounded border border-gray-300 py-1 px-2 text-sm"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",disabled:r,className:"rounded-lg bg-brand-600 px-3 py-1.5 text-sm text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:k.add}),c.jsx("button",{type:"button",onClick:e,className:"text-sm text-gray-600 hover:underline",children:k.cancel})]})]})}function uE({itemId:t,helpRequests:e,canEdit:r,userId:n}){const[s,i]=T.useState(!1),a=hr(),o=dt({mutationFn:async d=>{const{data:h,error:p}=await V.from("help_requests").insert({item_id:t,requested_by:n,type:d.type,detail:d.detail||null,status:d.status??"open"}).select().single();if(p)throw p;return h},onSuccess:()=>{a.invalidateQueries({queryKey:["help_requests",t]}),a.invalidateQueries({queryKey:["item",t]}),i(!1)}}),l=dt({mutationFn:async({id:d,status:h})=>{const{data:p,error:f}=await V.from("help_requests").update({status:h}).eq("id",d).select().single();if(f)throw f;return p},onSuccess:()=>{a.invalidateQueries({queryKey:["help_requests",t]}),a.invalidateQueries({queryKey:["item",t]})}}),u=dt({mutationFn:async d=>{const{error:h}=await V.from("help_requests").delete().eq("id",d);if(h)throw h},onSuccess:()=>{a.invalidateQueries({queryKey:["help_requests",t]}),a.invalidateQueries({queryKey:["item",t]})}});return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.helpRequests}),r&&c.jsx("button",{type:"button",onClick:()=>i(d=>!d),className:"text-sm font-medium text-brand-600 hover:text-brand-800",children:s?k.cancel:`+ ${k.addRequest}`})]}),s&&r&&c.jsx(cE,{onSubmit:d=>o.mutateAsync(d),onCancel:()=>i(!1),isSubmitting:o.isPending}),c.jsx("ul",{className:"space-y-2 mt-2",children:e.map(d=>c.jsxs("li",{className:"rounded-lg border border-gray-200 border-l-4 border-l-brand-400 p-3 bg-white text-sm shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:"font-medium text-gray-900",children:yh(d.type)}),c.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600",children:Ap(d.status)})]}),d.detail&&c.jsx("p",{className:"mt-1 text-gray-600",children:d.detail}),r&&c.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[c.jsx("select",{value:d.status,onChange:h=>l.mutate({id:d.id,status:h.target.value}),className:"text-xs rounded border border-gray-300 py-1",children:XS.map(h=>c.jsx("option",{value:h,children:Ap(h)},h))}),c.jsx("button",{type:"button",onClick:()=>u.mutate(d.id),className:"text-xs text-red-600 hover:underline",children:k.delete})]})]},d.id))}),e.length===0&&!s&&c.jsx("p",{className:"text-sm text-gray-500",children:k.noHelpRequests})]})}function cE({onSubmit:t,onCancel:e,isSubmitting:r}){const[n,s]=T.useState("other"),[i,a]=T.useState("");return c.jsxs("form",{className:"mb-4 p-3 rounded border border-gray-200 bg-white space-y-2",onSubmit:async o=>{o.preventDefault(),await t({type:n,detail:i||void 0})},children:[c.jsx("select",{value:n,onChange:o=>s(o.target.value),className:"block w-full rounded border border-gray-300 py-1 px-2 text-sm",children:YS.map(o=>c.jsx("option",{value:o,children:yh(o)},o))}),c.jsx("textarea",{value:i,onChange:o=>a(o.target.value),placeholder:k.detail,rows:2,className:"block w-full rounded border border-gray-300 py-1 px-2 text-sm"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",disabled:r,className:"rounded-lg bg-brand-600 px-3 py-1.5 text-sm text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:k.add}),c.jsx("button",{type:"button",onClick:e,className:"text-sm text-gray-600 hover:underline",children:k.cancel})]})]})}function dE({updates:t}){return t.length===0?c.jsx("p",{className:"text-sm text-gray-500",children:k.noUpdatesYet}):c.jsx("ul",{className:"space-y-3",children:[...t].reverse().map(e=>c.jsxs("li",{className:"border-l-2 border-brand-300 pl-4 py-2",children:[c.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[c.jsx("span",{className:"font-medium text-brand-600",children:e.author_email??""}),e.author_email&&"  ",Vl(e.created_at)]}),c.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans bg-white border border-gray-200 p-3 rounded-lg shadow-sm",children:JSON.stringify(e.snapshot,null,2)})]},e.id))})}function hE({itemId:t,comments:e,canEdit:r,userId:n}){const[s,i]=T.useState(""),a=hr(),o=dt({mutationFn:async u=>{const{data:d,error:h}=await V.from("comments").insert({item_id:t,author_id:n,body:u}).select().single();if(h)throw h;return d},onSuccess:()=>{a.invalidateQueries({queryKey:["comments",t]}),i("")}}),l=dt({mutationFn:async u=>{const{error:d}=await V.from("comments").delete().eq("id",u);if(d)throw d},onSuccess:()=>{a.invalidateQueries({queryKey:["comments",t]})}});return c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:k.comments}),r&&c.jsxs("form",{className:"mb-4",onSubmit:async u=>{u.preventDefault(),s.trim()&&await o.mutateAsync(s.trim())},children:[c.jsx("textarea",{value:s,onChange:u=>i(u.target.value),placeholder:k.addComment,rows:2,className:"block w-full rounded-lg border border-gray-300 py-2 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),c.jsx("button",{type:"submit",disabled:o.isPending||!s.trim(),className:"mt-2 rounded-lg bg-brand-600 py-1.5 px-4 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:k.post})]}),c.jsx("ul",{className:"space-y-2",children:e.map(u=>c.jsxs("li",{className:"rounded-lg border border-gray-200 p-3 bg-white text-sm shadow-sm",children:[c.jsx("p",{className:"text-gray-700",children:u.body}),c.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[u.author_email??k.unknown,"  ",Vl(u.created_at)]}),r&&(u.author_id===n||r)&&c.jsx("button",{type:"button",onClick:()=>l.mutate(u.id),className:"mt-1 text-xs text-red-600 hover:underline",children:k.delete})]},u.id))}),e.length===0&&!r&&c.jsx("p",{className:"text-sm text-gray-500",children:k.noComments})]})}const cm=["form","activity","blockers","help","comments","timeline"];function fE(){var z;const{id:t}=z_(),e=Hr(),[r]=lh(),n=hr(),s=r.get("tab"),i=s&&cm.includes(s)?s:"form",[a,o]=T.useState(i);T.useEffect(()=>{s&&cm.includes(s)&&o(s)},[s]);const{data:l}=he({queryKey:["session"],queryFn:async()=>{const{data:{session:M}}=await V.auth.getSession();return M}}),u=((z=l==null?void 0:l.user)==null?void 0:z.id)??"",{data:d}=he({queryKey:["profile",u],queryFn:async()=>{const{data:M,error:X}=await V.from("profiles").select("role").eq("id",u).maybeSingle();if(X)throw X;return M},enabled:!!u}),{data:h,isLoading:p,error:f}=he({queryKey:["item",t],queryFn:async()=>{const{data:M,error:X}=await V.from("items").select("*").eq("id",t).single();if(X)throw X;return M},enabled:t!==void 0&&t!=="new"}),{data:w}=he({queryKey:["team_member",h==null?void 0:h.team_id,u],queryFn:async()=>{if(!(h!=null&&h.team_id)||!u)return null;const{data:M}=await V.from("team_members").select("member_role").eq("team_id",h.team_id).eq("user_id",u).single();return M},enabled:!!(h!=null&&h.team_id)&&!!u}),v=(d==null?void 0:d.role)==="admin",x=(w==null?void 0:w.member_role)==="manager",g=(w==null?void 0:w.member_role)==="member"||(w==null?void 0:w.member_role)==="manager",m=(h==null?void 0:h.owner_id)===u,y=v||x||g&&m,{data:b=[]}=he({queryKey:["blockers",t],queryFn:async()=>{const{data:M,error:X}=await V.from("blockers").select("*").eq("item_id",t).order("created_at",{ascending:!1});if(X)throw X;return M},enabled:!!t&&t!=="new"}),{data:O=[]}=he({queryKey:["help_requests",t],queryFn:async()=>{const{data:M,error:X}=await V.from("help_requests").select("*").eq("item_id",t).order("created_at",{ascending:!1});if(X)throw X;return M},enabled:!!t&&t!=="new"}),{data:E=[]}=he({queryKey:["comments",t],queryFn:async()=>{const{data:M,error:X}=await V.from("comments").select("*").eq("item_id",t).order("created_at",{ascending:!0});if(X)throw X;const ce=M,be=[...new Set(ce.map(ke=>ke.author_id))];if(be.length>0){const{data:ke}=await V.from("profiles").select("id, email").in("id",be),$=new Map((ke??[]).map(Z=>[Z.id,Z.email]));ce.forEach(Z=>{Z.author_email=$.get(Z.author_id)??null})}return ce},enabled:!!t&&t!=="new"}),{data:R=[]}=he({queryKey:["item_updates",t],queryFn:async()=>{const{data:M,error:X}=await V.from("item_updates").select("*").eq("item_id",t).order("created_at",{ascending:!0});if(X)throw X;const ce=M??[],be=[...new Set(ce.map(ke=>ke.updated_by))];if(be.length>0){const{data:ke}=await V.from("profiles").select("id, email").in("id",be),$=new Map((ke??[]).map(Z=>[Z.id,Z.email]));ce.forEach(Z=>{Z.author_email=$.get(Z.updated_by)??null})}return ce},enabled:!!t&&t!=="new"}),P=dt({mutationFn:async M=>{if(!t||t==="new"||!h)throw new Error(k.noItem);const X={status:M.status,status_reason:M.status_reason??null,blockers_summary:h.blockers_summary??null,help_needed_summary:h.help_needed_summary??null,next_step:M.next_step??null,target_date:M.target_date||null},{error:ce}=await V.from("item_updates").insert({item_id:t,updated_by:u,snapshot:X});if(ce)throw ce;const{error:be}=await V.from("items").update({status:X.status,status_reason:X.status_reason,blockers_summary:X.blockers_summary,help_needed_summary:X.help_needed_summary,next_step:X.next_step,target_date:X.target_date}).eq("id",t);if(be)throw be},onSuccess:()=>{n.invalidateQueries({queryKey:["item",t]}),n.invalidateQueries({queryKey:["item_updates",t]})}});if(t==="new")return c.jsx(lr,{children:c.jsx(mE,{})});if(f||!h)return c.jsxs(lr,{children:[c.jsx("p",{className:"text-red-600",children:f?String(f):k.itemNotFound}),c.jsx("button",{type:"button",onClick:()=>e("/board"),className:"mt-2 text-brand-600 hover:underline",children:k.backToBoard})]});if(p)return c.jsx(lr,{children:c.jsx("p",{className:"text-gray-500",children:k.loading})});const H=[{id:"form",label:k.edit},{id:"activity",label:k.activity},{id:"blockers",label:k.blockers},{id:"help",label:k.helpRequests},{id:"comments",label:k.comments},{id:"timeline",label:k.updates}],K={discovery:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",execution:"bg-amber-100 text-amber-800",validation:"bg-cyan-100 text-cyan-800",ready_to_deploy:"bg-emerald-100 text-emerald-800",deploying:"bg-lime-100 text-lime-800",in_production:"bg-green-100 text-green-800",paused:"bg-gray-100 text-gray-700",at_risk:"bg-red-100 text-red-800"}[h.status]??"bg-gray-100 text-gray-700";return c.jsx(lr,{children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("button",{type:"button",onClick:()=>e("/board"),className:"inline-flex items-center gap-1 text-sm text-gray-500 hover:text-brand-700",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),k.backToBoard]})}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 mb-6",children:[c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 mb-2",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h.title}),c.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${K}`,children:Vr(h.status)})]}),c.jsx("p",{className:"text-sm text-gray-500",children:h.target_date&&`${k.target}: ${new Date(h.target_date).toLocaleDateString("es")}`})]}),c.jsx("div",{className:"flex gap-1 border-b border-gray-200 mb-6 overflow-x-auto",children:H.map(M=>c.jsx("button",{type:"button",onClick:()=>o(M.id),className:`px-4 py-2.5 text-sm font-medium border-b-2 -mb-px whitespace-nowrap transition-colors ${a===M.id?"border-brand-600 text-brand-700":"border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-300"}`,children:M.label},M.id))}),a==="form"&&c.jsx(aE,{item:h,onSubmit:M=>P.mutateAsync(M),disabled:!y},`${h.id}-${h.updated_at??""}`),a==="activity"&&c.jsx(pE,{comments:E,updates:R,itemStatusLabel:Vr}),a==="blockers"&&c.jsx(oE,{itemId:h.id,blockers:b,canEdit:y||g}),a==="help"&&c.jsx(uE,{itemId:h.id,helpRequests:O,canEdit:y||g,userId:u}),a==="comments"&&c.jsx(hE,{itemId:h.id,comments:E,canEdit:!!g||v,userId:u}),a==="timeline"&&c.jsx(dE,{updates:R})]})})}function pE({comments:t,updates:e,itemStatusLabel:r}){const n=[...t.map(s=>({type:"comment",id:s.id,at:s.created_at,author:s.author_email??k.unknown,body:s.body})),...e.map(s=>({type:"update",id:s.id,at:s.created_at,author:s.author_email??k.unknown,snapshot:s.snapshot??{}}))].sort((s,i)=>new Date(s.at).getTime()-new Date(i.at).getTime());return n.length===0?c.jsxs("p",{className:"text-sm text-gray-500",children:[k.noComments,c.jsx("br",{}),k.noUpdatesYet]}):c.jsx("ul",{className:"space-y-3 list-none pl-0",children:n.map(s=>c.jsxs("li",{className:"border-l-2 border-gray-200 pl-4 py-2",children:[c.jsxs("p",{className:"text-xs text-gray-500",children:[s.type==="comment"?k.activityComment:k.activityUpdate,"  ",s.author,"  ",Vl(s.at)]}),s.type==="comment"?c.jsx("p",{className:"mt-1 text-sm text-gray-800",children:s.body}):c.jsx("ul",{className:"mt-1 text-sm text-gray-700 space-y-0.5 list-disc list-inside",children:(()=>{const i=s.snapshot,a=[];return i.status!=null&&i.status!==""&&a.push(c.jsxs("li",{children:[k.status,": ",r(i.status)]},"status")),i.next_step!=null&&i.next_step!==""&&a.push(c.jsxs("li",{children:[k.nextStep,": ",i.next_step]},"next_step")),i.target_date!=null&&i.target_date!==""&&a.push(c.jsxs("li",{children:[k.targetDate,": ",i.target_date]},"target_date")),i.status_reason!=null&&i.status_reason!==""&&a.push(c.jsxs("li",{children:[k.statusReason,": ",i.status_reason]},"status_reason")),i.blockers_summary!=null&&i.blockers_summary!==""&&a.push(c.jsxs("li",{children:[k.blockersSummary,": ",i.blockers_summary]},"blockers_summary")),i.help_needed_summary!=null&&i.help_needed_summary!==""&&a.push(c.jsxs("li",{children:[k.helpNeededSummary,": ",i.help_needed_summary]},"help_needed_summary")),a})()})]},`${s.type}-${s.id}`))})}function mE(){var w;const[t]=lh(),e=t.get("team"),r=Hr(),n=hr(),[s,i]=T.useState(e||null),[a,o]=T.useState(""),[l,u]=T.useState(null),{data:d}=he({queryKey:["session"],queryFn:async()=>{const{data:{session:v}}=await V.auth.getSession();return v}}),h=((w=d==null?void 0:d.user)==null?void 0:w.id)??null,{data:p=[]}=he({queryKey:["teams"],queryFn:async()=>{const{data:v,error:x}=await V.from("teams").select("*").order("name");if(x)throw x;return v}}),f=dt({mutationFn:async()=>{if(!s||!a.trim())throw new Error(k.teamAndTitleRequired);const{data:v,error:x}=await V.from("items").insert({team_id:s,title:a.trim(),status:"discovery",owner_id:h}).select("id").single();if(x){const g=x.code==="42501"||x.message&&/row-level security|policy|permission|403/i.test(x.message);throw new Error(g?k.createItemPermissionDenied:x.message)}return v},onSuccess:v=>{n.invalidateQueries({queryKey:["items"]}),r(`/item/${v.id}`)},onError:v=>u(v instanceof Error?v.message:k.failed)});return c.jsxs("div",{className:"max-w-md",children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-4",children:k.createItem}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.createItemHint}),c.jsxs("form",{onSubmit:v=>{v.preventDefault(),u(null),f.mutate()},className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.team}),c.jsxs("select",{value:s??"",onChange:v=>i(v.target.value||null),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 text-sm",children:[c.jsx("option",{value:"",children:k.selectTeam}),p.map(v=>c.jsx("option",{value:v.id,children:v.name},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.title}),c.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),required:!0,className:"block w-full rounded-md border border-gray-300 py-2 px-3 text-sm"})]}),l&&c.jsx("p",{className:"text-sm text-red-600",children:l}),c.jsx("button",{type:"submit",disabled:f.isPending,className:"rounded-lg bg-brand-600 py-2 px-4 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:f.isPending?k.creating:k.create})]})]})}function gE({teams:t,selectedId:e,onSelect:r,label:n=k.team}){return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n}),c.jsxs("select",{value:e??"",onChange:s=>r(s.target.value),className:"block w-full rounded-lg border border-gray-300 bg-white py-2 px-3 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.selectTeam}),t.map(s=>c.jsx("option",{value:s.id,children:s.name},s.id))]})]})}function yE(){const[t,e]=T.useState(null),[r,n]=T.useState(""),{data:s,isLoading:i}=he({queryKey:["profile","me"],queryFn:async()=>{const{data:{user:j}}=await V.auth.getUser();if(!j)return null;const{data:K,error:z}=await V.from("profiles").select("role").eq("id",j.id).maybeSingle();if(z)throw z;return K}}),a=(s==null?void 0:s.role)==="admin",{data:o=[]}=he({queryKey:["teams"],queryFn:async()=>{const{data:j,error:K}=await V.from("teams").select("*").order("name");if(K)throw K;return j}}),{data:l=[],isLoading:u}=he({queryKey:["items","director",t,r],queryFn:async()=>{let j=V.from("items").select("*, teams(name)");t&&(j=j.eq("team_id",t)),r&&(j=j.eq("status",r));const{data:K,error:z}=await j.order("last_update_at",{ascending:!0,nullsFirst:!0});if(z)throw z;return K??[]},enabled:a}),d=T.useMemo(()=>l.map(j=>j.id),[l]),{data:h=[]}=he({queryKey:["blockers","director",d],queryFn:async()=>{if(d.length===0)return[];const{data:j,error:K}=await V.from("blockers").select("*").in("item_id",d).in("status",["open","in_progress"]);if(K)throw K;return j??[]},enabled:a&&d.length>0}),{data:p=[]}=he({queryKey:["help_requests","director",d],queryFn:async()=>{if(d.length===0)return[];const{data:j,error:K}=await V.from("help_requests").select("*").in("item_id",d).in("status",["open","in_progress"]);if(K)throw K;return j??[]},enabled:a&&d.length>0}),f=T.useMemo(()=>{var K;const j=new Map;for(const z of l){const M=((K=z.teams)==null?void 0:K.name)??k.unknown;j.set(z.id,M)}return j},[l]),w=T.useMemo(()=>l.filter(j=>j.status==="paused"||j.status==="at_risk"),[l]),v=T.useMemo(()=>{const j={};for(const K of h)j[K.severity]=(j[K.severity]??0)+1;return j},[h]),x=T.useMemo(()=>{const j={};for(const K of h){const z=f.get(K.item_id)??k.unknown;j[z]=(j[z]??0)+1}return j},[h,f]),g=T.useMemo(()=>{const j={};for(const K of p)j[K.type]=(j[K.type]??0)+1;return j},[p]),m=T.useMemo(()=>{const j={};for(const K of p){const z=f.get(K.item_id)??k.unknown;j[z]=(j[z]??0)+1}return j},[p,f]),y=new Date().toISOString().slice(0,10),b=new Date;b.setDate(b.getDate()+30);const O=new Date;O.setDate(O.getDate()+60);const E=new Date;E.setDate(E.getDate()+90);const R=l.filter(j=>j.target_date&&j.target_date>=y&&j.target_date<=b.toISOString().slice(0,10)),P=l.filter(j=>j.target_date&&j.target_date>b.toISOString().slice(0,10)&&j.target_date<=O.toISOString().slice(0,10)),H=l.filter(j=>j.target_date&&j.target_date>O.toISOString().slice(0,10)&&j.target_date<=E.toISOString().slice(0,10));return i?c.jsx(lr,{children:c.jsx("p",{className:"text-gray-500",children:k.loading})}):a?c.jsx(lr,{children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:k.directorDashboard}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-6 flex flex-wrap gap-4 items-end",children:[c.jsx(gE,{teams:o,selectedId:t,onSelect:j=>e(j||null)}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.status}),c.jsxs("select",{value:r,onChange:j=>n(j.target.value),className:"rounded-lg border border-gray-300 py-1.5 px-2.5 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.all}),zl.map(j=>c.jsx("option",{value:j,children:Vr(j)},j))]})]})]}),u?c.jsx("p",{className:"text-gray-500",children:k.loading}):c.jsxs("div",{className:"space-y-8",children:[c.jsx(Ts,{title:k.itemsPausedOrAtRisk,children:w.length===0?c.jsx("p",{className:"text-sm text-gray-500",children:k.none}):c.jsx("ul",{className:"space-y-1",children:w.map(j=>{var K;return c.jsxs("li",{children:[c.jsxs(Dt,{to:`/item/${j.id}`,className:"text-brand-600 hover:text-brand-800 hover:underline font-medium",children:[(K=j.teams)==null?void 0:K.name,": ",j.title]}),c.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Vr(j.status),")"]})]},j.id)})})}),c.jsx(Ts,{title:k.openBlockersBySeverity,children:c.jsx("ul",{className:"flex flex-wrap gap-4",children:["critical","high","medium","low"].map(j=>c.jsxs("li",{className:"rounded-lg bg-white border border-gray-200 shadow-sm px-4 py-2 text-sm",children:[c.jsx("span",{className:"font-semibold text-gray-900",children:v[j]??0}),c.jsx("span",{className:"text-gray-500 ml-1",children:gh(j)})]},j))})}),c.jsx(Ts,{title:k.openBlockersByTeam,children:c.jsxs("ul",{className:"flex flex-wrap gap-4",children:[Object.entries(x).map(([j,K])=>c.jsxs("li",{className:"rounded bg-gray-100 px-3 py-1 text-sm",children:[j,": ",K]},j)),Object.keys(x).length===0&&c.jsx("li",{className:"text-sm text-gray-500",children:k.none})]})}),c.jsx(Ts,{title:k.openHelpByType,children:c.jsxs("ul",{className:"flex flex-wrap gap-4",children:[Object.entries(g).map(([j,K])=>c.jsxs("li",{className:"rounded bg-gray-100 px-3 py-1 text-sm",children:[yh(j),": ",K]},j)),Object.keys(g).length===0&&c.jsx("li",{className:"text-sm text-gray-500",children:k.none})]})}),c.jsx(Ts,{title:k.openHelpByTeam,children:c.jsxs("ul",{className:"flex flex-wrap gap-4",children:[Object.entries(m).map(([j,K])=>c.jsxs("li",{className:"rounded bg-gray-100 px-3 py-1 text-sm",children:[j,": ",K]},j)),Object.keys(m).length===0&&c.jsx("li",{className:"text-sm text-gray-500",children:k.none})]})}),c.jsx(Ts,{title:k.upcomingTargets,children:c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:k.next30Days}),c.jsxs("ul",{className:"space-y-1 text-sm",children:[R.map(j=>c.jsxs("li",{children:[c.jsx(Dt,{to:`/item/${j.id}`,className:"text-brand-600 hover:text-brand-800 hover:underline font-medium",children:j.title}),c.jsx("span",{className:"text-gray-500 ml-1",children:j.target_date})]},j.id)),R.length===0&&c.jsx("li",{className:"text-gray-500",children:k.none})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:k.days31to60}),c.jsxs("ul",{className:"space-y-1 text-sm",children:[P.map(j=>c.jsxs("li",{children:[c.jsx(Dt,{to:`/item/${j.id}`,className:"text-brand-600 hover:text-brand-800 hover:underline font-medium",children:j.title}),c.jsx("span",{className:"text-gray-500 ml-1",children:j.target_date})]},j.id)),P.length===0&&c.jsx("li",{className:"text-gray-500",children:k.none})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:k.days61to90}),c.jsxs("ul",{className:"space-y-1 text-sm",children:[H.map(j=>c.jsxs("li",{children:[c.jsx(Dt,{to:`/item/${j.id}`,className:"text-brand-600 hover:text-brand-800 hover:underline font-medium",children:j.title}),c.jsx("span",{className:"text-gray-500 ml-1",children:j.target_date})]},j.id)),H.length===0&&c.jsx("li",{className:"text-gray-500",children:k.none})]})]})]})})]})]})}):c.jsx(lr,{children:c.jsx("p",{className:"text-red-600",children:k.accessDeniedDirector})})}function Ts({title:t,children:e}){return c.jsxs("section",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:t}),e]})}function Uo(t){return!!t&&t.startsWith("data:")}function vE(t,e){return new Promise((r,n)=>{const s=new Image;s.onload=()=>{const i=document.createElement("canvas");i.width=e,i.height=e;const a=i.getContext("2d"),o=Math.min(s.width,s.height),l=(s.width-o)/2,u=(s.height-o)/2;a.drawImage(s,l,u,o,o,0,0,e,e),r(i.toDataURL("image/png")),URL.revokeObjectURL(s.src)},s.onerror=n,s.src=URL.createObjectURL(t)})}function Rv({icon:t,name:e,size:r="sm"}){const n=r==="lg"?"w-10 h-10 text-xl":"w-6 h-6 text-base";return Uo(t)?c.jsx("img",{src:t,alt:"",className:`${n} shrink-0 rounded object-cover`}):t?c.jsx("span",{className:`${n} shrink-0 flex items-center justify-center rounded`,children:t}):c.jsx("span",{className:`${n} shrink-0 flex items-center justify-center rounded bg-gray-400 text-white text-xs font-bold`,children:e.charAt(0).toUpperCase()})}const dm=["viewer","member","manager"];function wE(){var l;const[t,e]=T.useState("teams"),{data:r}=he({queryKey:["session"],queryFn:async()=>{const{data:{session:u}}=await V.auth.getSession();return u}}),n=((l=r==null?void 0:r.user)==null?void 0:l.id)??"",{data:s}=he({queryKey:["profile",n],queryFn:async()=>{const{data:u,error:d}=await V.from("profiles").select("role").eq("id",n).maybeSingle();if(d)throw d;return u},enabled:!!n}),i=(s==null?void 0:s.role)==="admin",{data:a=[]}=he({queryKey:["teams"],queryFn:async()=>{const{data:u,error:d}=await V.from("teams").select("*").order("name");if(d)throw d;return u},enabled:i});if(!i&&s!==void 0)return c.jsxs(lr,{children:[c.jsx("p",{className:"text-red-600",children:k.accessDeniedAdmin}),c.jsx("a",{href:"/",className:"mt-2 inline-block text-brand-600 hover:underline",children:k.goHome})]});const o=[{id:"teams",label:k.tabTeams},{id:"members",label:k.tabMembers}];return c.jsx(lr,{children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:k.adminTeams}),c.jsx("div",{className:"flex gap-1 border-b border-gray-200 mb-6",children:o.map(u=>c.jsx("button",{type:"button",onClick:()=>e(u.id),className:`px-4 py-2.5 text-sm font-medium border-b-2 -mb-px whitespace-nowrap transition-colors ${t===u.id?"border-brand-600 text-brand-700":"border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-300"}`,children:u.label},u.id))}),t==="teams"&&c.jsx(_E,{teams:a}),t==="members"&&c.jsx(bE,{teams:a,isAdmin:i})]})})}function _E({teams:t}){const e=hr(),[r,n]=T.useState(null),[s,i]=T.useState(!1),a=dt({mutationFn:async l=>{const{error:u}=await V.from("teams").delete().eq("id",l);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["teams"]})}});function o(l){window.confirm(k.deleteTeamConfirm)&&a.mutate(l.id)}return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," ",k.tabTeams.toLowerCase()]}),c.jsxs("button",{type:"button",onClick:()=>{i(!0),n(null)},className:"rounded-lg bg-brand-600 py-2 px-4 text-sm font-medium text-white hover:bg-brand-700 shadow-sm",children:["+ ",k.createTeam]})]}),(s||r)&&c.jsx(xE,{team:r,onClose:()=>{i(!1),n(null)}}),t.length===0?c.jsx("p",{className:"text-gray-400 text-sm italic",children:k.none}):c.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50/80",children:[c.jsx("th",{className:"w-14 px-4 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.teamIcon}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.teamName}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(l=>c.jsxs("tr",{className:"hover:bg-brand-50/40",children:[c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(Rv,{icon:l.icon,name:l.name,size:"lg"})})}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.name}),c.jsx("td",{className:"px-4 py-3 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{n(l),i(!1)},className:"text-sm text-brand-600 hover:text-brand-800 font-medium",children:k.edit}),c.jsx("button",{type:"button",onClick:()=>o(l),disabled:a.isPending,className:"text-sm text-red-600 hover:text-red-800 font-medium disabled:opacity-50",children:k.deleteTeam})]})})]},l.id))})]})})]})}function xE({team:t,onClose:e}){const r=hr(),n=!!t,[s,i]=T.useState((t==null?void 0:t.name)??""),[a,o]=T.useState((t==null?void 0:t.icon)??""),[l,u]=T.useState(!1),d=T.useRef(null),h=dt({mutationFn:async()=>{if(n){const{error:f}=await V.from("teams").update({name:s,icon:a||null}).eq("id",t.id);if(f)throw f}else{const{error:f}=await V.from("teams").insert({name:s,icon:a||null});if(f)throw f}},onSuccess:()=>{r.invalidateQueries({queryKey:["teams"]}),e()}});async function p(f){var v;const w=(v=f.target.files)==null?void 0:v[0];if(w){u(!0);try{const x=await vE(w,64);o(x)}finally{u(!1),d.current&&(d.current.value="")}}}return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5 mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:n?k.editTeam:k.createTeam}),c.jsxs("form",{onSubmit:f=>{f.preventDefault(),s.trim()&&h.mutate()},className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.teamName}),c.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),required:!0,className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",placeholder:"Nombre del equipo"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:k.teamIcon}),a&&c.jsxs("div",{className:"flex items-center gap-3 mb-3 p-3 bg-gray-50 rounded-lg",children:[c.jsx(Rv,{icon:a,name:s||"?",size:"lg"}),c.jsx("span",{className:"text-sm text-gray-600",children:Uo(a)?k.uploadImage:a}),c.jsx("button",{type:"button",onClick:()=>o(""),className:"ml-auto text-xs text-gray-400 hover:text-gray-600",children:""})]}),c.jsx("div",{className:"flex flex-wrap gap-1.5 max-h-48 overflow-y-auto rounded-lg border border-gray-100 p-2",children:e1.map((f,w)=>c.jsx("button",{type:"button",onClick:()=>o(f),className:`w-9 h-9 flex items-center justify-center rounded-lg text-lg border-2 transition-colors ${a===f?"border-brand-500 bg-brand-50":"border-transparent hover:border-gray-300 hover:bg-gray-50"}`,children:f},`${f}-${w}`))}),c.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[c.jsx("div",{className:"flex-1 border-t border-gray-200"}),c.jsx("span",{className:"text-xs text-gray-400",children:k.orUploadImage}),c.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),c.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[c.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:p,className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>{var f;return(f=d.current)==null?void 0:f.click()},disabled:l,className:"rounded-lg border border-gray-300 py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:l?k.saving:Uo(a)?k.changeImage:k.uploadImage}),Uo(a)&&c.jsx("img",{src:a,alt:"",className:"w-10 h-10 rounded-lg object-cover border border-gray-200"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-1",children:[c.jsx("button",{type:"submit",disabled:h.isPending||!s.trim(),className:"rounded-lg bg-brand-600 py-2 px-4 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:h.isPending?k.saving:n?k.save:k.createTeam}),c.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-gray-300 py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50",children:k.cancel})]}),h.isError&&c.jsx("p",{className:"text-sm text-red-600",children:h.error.message})]})]})}function bE({teams:t,isAdmin:e}){const r=hr(),[n,s]=T.useState(null),[i,a]=T.useState(""),[o,l]=T.useState("member"),[u,d]=T.useState(null),{data:h=[]}=he({queryKey:["profiles","all"],queryFn:async()=>{const{data:E,error:R}=await V.from("profiles").select("id, email").order("email");if(R)throw R;return E},enabled:e}),{data:p=[],isLoading:f}=he({queryKey:["team_members",n],queryFn:async()=>{if(!n)return[];const{data:E,error:R}=await V.from("team_members").select("*").eq("team_id",n).order("member_role");if(R)throw R;return E},enabled:e&&!!n}),w=new Map(h.map(E=>[E.id,E.email??k.unknown])),v=p.map(E=>({...E,email:w.get(E.user_id)??k.unknown})),x=dt({mutationFn:async()=>{if(!n||!i)throw new Error(k.selectUser);d(null);const{error:E}=await V.from("team_members").insert({team_id:n,user_id:i,member_role:o});if(E)throw E},onSuccess:()=>{r.invalidateQueries({queryKey:["team_members",n]}),a(""),l("member")},onError:E=>d(E instanceof Error?E.message:k.failed)}),g=dt({mutationFn:async E=>{const{error:R}=await V.from("team_members").delete().eq("id",E);if(R)throw R},onSuccess:()=>{r.invalidateQueries({queryKey:["team_members",n]})}}),m=dt({mutationFn:async({memberId:E,role:R})=>{const{error:P}=await V.from("team_members").update({member_role:R}).eq("id",E);if(P)throw P},onSuccess:()=>{r.invalidateQueries({queryKey:["team_members",n]})}}),y=t.find(E=>E.id===n),b=new Set(p.map(E=>E.user_id)),O=h.filter(E=>!b.has(E.id));return c.jsxs("div",{children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 mb-6",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k.team}),c.jsxs("select",{value:n??"",onChange:E=>s(E.target.value||null),className:"block w-full rounded-lg border border-gray-300 py-2.5 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.selectTeam}),t.map(E=>c.jsx("option",{value:E.id,children:E.icon?`${E.icon} ${E.name}`:E.name},E.id))]})]}),n?c.jsxs(c.Fragment,{children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:[(y==null?void 0:y.icon)&&c.jsx("span",{className:"mr-1",children:y.icon}),k.manageTeamMembers,"  ",y==null?void 0:y.name]}),c.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm p-5 mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:k.addMember}),c.jsxs("form",{onSubmit:E=>{E.preventDefault(),x.mutate()},className:"flex flex-wrap items-end gap-3",children:[c.jsxs("div",{className:"min-w-[200px]",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:k.selectUser}),c.jsxs("select",{value:i,onChange:E=>a(E.target.value),className:"block w-full rounded-lg border border-gray-300 py-2 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:[c.jsx("option",{value:"",children:k.selectUser}),O.map(E=>c.jsx("option",{value:E.id,children:E.email??E.id},E.id))]})]}),c.jsxs("div",{className:"min-w-[120px]",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:k.memberRole}),c.jsx("select",{value:o,onChange:E=>l(E.target.value),className:"block w-full rounded-lg border border-gray-300 py-2 px-3 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:dm.map(E=>c.jsx("option",{value:E,children:Rp[E]??E},E))})]}),c.jsx("button",{type:"submit",disabled:!i||x.isPending,className:"rounded-lg bg-brand-600 py-2 px-4 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:k.add})]}),u&&c.jsx("p",{className:"mt-2 text-sm text-red-600",children:u})]}),f?c.jsx("p",{className:"text-gray-500",children:k.loading}):v.length===0?c.jsx("p",{className:"text-gray-500",children:k.noMembersYet}):c.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white shadow-sm",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50/80",children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.email}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:k.memberRole}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:v.map(E=>c.jsxs("tr",{className:"hover:bg-brand-50/40",children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:E.email}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("select",{value:E.member_role,onChange:R=>m.mutate({memberId:E.id,role:R.target.value}),className:"rounded-lg border border-gray-300 py-1.5 px-2 text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500",children:dm.map(R=>c.jsx("option",{value:R,children:Rp[R]??R},R))})}),c.jsx("td",{className:"px-4 py-3 text-right",children:c.jsx("button",{type:"button",onClick:()=>g.mutate(E.id),disabled:g.isPending,className:"text-sm text-red-600 hover:text-red-800 font-medium disabled:opacity-50",children:k.removeMember})})]},E.id))})]})})]}):c.jsx("p",{className:"text-gray-500 text-sm",children:"Selecciona un equipo para ver y gestionar sus miembros."})]})}function kE(){return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"404"}),c.jsx("p",{className:"mt-2 text-gray-600",children:k.pageNotFound}),c.jsx(Dt,{to:"/",className:"mt-4 text-brand-600 hover:text-brand-800 hover:underline font-medium",children:k.goHome})]})}const SE=new qx({defaultOptions:{queries:{staleTime:60*1e3}}});function EE(){return c.jsx(Bx,{client:SE,children:c.jsx(px,{children:c.jsxs(ax,{children:[c.jsx(jr,{path:"/login",element:c.jsx(MS,{})}),c.jsx(jr,{path:"/",element:c.jsx(Fi,{children:c.jsx(WS,{})})}),c.jsx(jr,{path:"/board",element:c.jsx(Fi,{children:c.jsx(r1,{})})}),c.jsx(jr,{path:"/item/:id",element:c.jsx(Fi,{children:c.jsx(fE,{})})}),c.jsx(jr,{path:"/director",element:c.jsx(Fi,{children:c.jsx(yE,{})})}),c.jsx(jr,{path:"/admin/teams",element:c.jsx(Fi,{children:c.jsx(wE,{})})}),c.jsx(jr,{path:"/404",element:c.jsx(kE,{})}),c.jsx(jr,{path:"*",element:c.jsx(Wy,{to:"/404",replace:!0})})]})})})}Ly(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(EE,{})}));
